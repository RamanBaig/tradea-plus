var PR=Object.defineProperty;var NR=(t,e,r)=>e in t?PR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var BR=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Qo=(t,e,r)=>NR(t,typeof e!="symbol"?e+"":e,r);var wY=BR(qs=>{function XM(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const u of i.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Vt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function e5(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function t5(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var r5={exports:{}},Cp={},n5={exports:{}},Dt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lc=Symbol.for("react.element"),DR=Symbol.for("react.portal"),OR=Symbol.for("react.fragment"),LR=Symbol.for("react.strict_mode"),FR=Symbol.for("react.profiler"),VR=Symbol.for("react.provider"),UR=Symbol.for("react.context"),jR=Symbol.for("react.forward_ref"),zR=Symbol.for("react.suspense"),$R=Symbol.for("react.memo"),qR=Symbol.for("react.lazy"),Lb=Symbol.iterator;function HR(t){return t===null||typeof t!="object"?null:(t=Lb&&t[Lb]||t["@@iterator"],typeof t=="function"?t:null)}var i5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},s5=Object.assign,o5={};function Nu(t,e,r){this.props=t,this.context=e,this.refs=o5,this.updater=r||i5}Nu.prototype.isReactComponent={};Nu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Nu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function a5(){}a5.prototype=Nu.prototype;function E2(t,e,r){this.props=t,this.context=e,this.refs=o5,this.updater=r||i5}var S2=E2.prototype=new a5;S2.constructor=E2;s5(S2,Nu.prototype);S2.isPureReactComponent=!0;var Fb=Array.isArray,l5=Object.prototype.hasOwnProperty,I2={current:null},u5={key:!0,ref:!0,__self:!0,__source:!0};function f5(t,e,r){var n,s={},i=null,u=null;if(e!=null)for(n in e.ref!==void 0&&(u=e.ref),e.key!==void 0&&(i=""+e.key),e)l5.call(e,n)&&!u5.hasOwnProperty(n)&&(s[n]=e[n]);var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){for(var v=Array(c),b=0;b<c;b++)v[b]=arguments[b+2];s.children=v}if(t&&t.defaultProps)for(n in c=t.defaultProps,c)s[n]===void 0&&(s[n]=c[n]);return{$$typeof:lc,type:t,key:i,ref:u,props:s,_owner:I2.current}}function KR(t,e){return{$$typeof:lc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function A2(t){return typeof t=="object"&&t!==null&&t.$$typeof===lc}function WR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Vb=/\/+/g;function vv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?WR(""+t.key):e.toString(36)}function qd(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var u=!1;if(t===null)u=!0;else switch(i){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case lc:case DR:u=!0}}if(u)return u=t,s=s(u),t=n===""?"."+vv(u,0):n,Fb(s)?(r="",t!=null&&(r=t.replace(Vb,"$&/")+"/"),qd(s,e,r,"",function(b){return b})):s!=null&&(A2(s)&&(s=KR(s,r+(!s.key||u&&u.key===s.key?"":(""+s.key).replace(Vb,"$&/")+"/")+t)),e.push(s)),1;if(u=0,n=n===""?".":n+":",Fb(t))for(var c=0;c<t.length;c++){i=t[c];var v=n+vv(i,c);u+=qd(i,e,r,v,s)}else if(v=HR(t),typeof v=="function")for(t=v.call(t),c=0;!(i=t.next()).done;)i=i.value,v=n+vv(i,c++),u+=qd(i,e,r,v,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function rd(t,e,r){if(t==null)return t;var n=[],s=0;return qd(t,n,"","",function(i){return e.call(r,i,s++)}),n}function GR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _n={current:null},Hd={transition:null},ZR={ReactCurrentDispatcher:_n,ReactCurrentBatchConfig:Hd,ReactCurrentOwner:I2};function h5(){throw Error("act(...) is not supported in production builds of React.")}Dt.Children={map:rd,forEach:function(t,e,r){rd(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return rd(t,function(){e++}),e},toArray:function(t){return rd(t,function(e){return e})||[]},only:function(t){if(!A2(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Dt.Component=Nu;Dt.Fragment=OR;Dt.Profiler=FR;Dt.PureComponent=E2;Dt.StrictMode=LR;Dt.Suspense=zR;Dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZR;Dt.act=h5;Dt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=s5({},t.props),s=t.key,i=t.ref,u=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,u=I2.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(v in e)l5.call(e,v)&&!u5.hasOwnProperty(v)&&(n[v]=e[v]===void 0&&c!==void 0?c[v]:e[v])}var v=arguments.length-2;if(v===1)n.children=r;else if(1<v){c=Array(v);for(var b=0;b<v;b++)c[b]=arguments[b+2];n.children=c}return{$$typeof:lc,type:t.type,key:s,ref:i,props:n,_owner:u}};Dt.createContext=function(t){return t={$$typeof:UR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:VR,_context:t},t.Consumer=t};Dt.createElement=f5;Dt.createFactory=function(t){var e=f5.bind(null,t);return e.type=t,e};Dt.createRef=function(){return{current:null}};Dt.forwardRef=function(t){return{$$typeof:jR,render:t}};Dt.isValidElement=A2;Dt.lazy=function(t){return{$$typeof:qR,_payload:{_status:-1,_result:t},_init:GR}};Dt.memo=function(t,e){return{$$typeof:$R,type:t,compare:e===void 0?null:e}};Dt.startTransition=function(t){var e=Hd.transition;Hd.transition={};try{t()}finally{Hd.transition=e}};Dt.unstable_act=h5;Dt.useCallback=function(t,e){return _n.current.useCallback(t,e)};Dt.useContext=function(t){return _n.current.useContext(t)};Dt.useDebugValue=function(){};Dt.useDeferredValue=function(t){return _n.current.useDeferredValue(t)};Dt.useEffect=function(t,e){return _n.current.useEffect(t,e)};Dt.useId=function(){return _n.current.useId()};Dt.useImperativeHandle=function(t,e,r){return _n.current.useImperativeHandle(t,e,r)};Dt.useInsertionEffect=function(t,e){return _n.current.useInsertionEffect(t,e)};Dt.useLayoutEffect=function(t,e){return _n.current.useLayoutEffect(t,e)};Dt.useMemo=function(t,e){return _n.current.useMemo(t,e)};Dt.useReducer=function(t,e,r){return _n.current.useReducer(t,e,r)};Dt.useRef=function(t){return _n.current.useRef(t)};Dt.useState=function(t){return _n.current.useState(t)};Dt.useSyncExternalStore=function(t,e,r){return _n.current.useSyncExternalStore(t,e,r)};Dt.useTransition=function(){return _n.current.useTransition()};Dt.version="18.3.1";n5.exports=Dt;var fe=n5.exports;const je=e5(fe),QR=XM({__proto__:null,default:je},[fe]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YR=fe,JR=Symbol.for("react.element"),XR=Symbol.for("react.fragment"),ek=Object.prototype.hasOwnProperty,tk=YR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rk={key:!0,ref:!0,__self:!0,__source:!0};function c5(t,e,r){var n,s={},i=null,u=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(u=e.ref);for(n in e)ek.call(e,n)&&!rk.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:JR,type:t,key:i,ref:u,props:s,_owner:tk.current}}Cp.Fragment=XR;Cp.jsx=c5;Cp.jsxs=c5;r5.exports=Cp;var U=r5.exports,h1={},d5={exports:{}},Kn={},p5={exports:{}},m5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(_,d){var a=_.length;_.push(d);e:for(;0<a;){var p=a-1>>>1,S=_[p];if(0<s(S,d))_[p]=d,_[a]=S,a=p;else break e}}function r(_){return _.length===0?null:_[0]}function n(_){if(_.length===0)return null;var d=_[0],a=_.pop();if(a!==d){_[0]=a;e:for(var p=0,S=_.length,B=S>>>1;p<B;){var Z=2*(p+1)-1,X=_[Z],oe=Z+1,H=_[oe];if(0>s(X,a))oe<S&&0>s(H,X)?(_[p]=H,_[oe]=a,p=oe):(_[p]=X,_[Z]=a,p=Z);else if(oe<S&&0>s(H,a))_[p]=H,_[oe]=a,p=oe;else break e}}return d}function s(_,d){var a=_.sortIndex-d.sortIndex;return a!==0?a:_.id-d.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var v=[],b=[],w=1,x=null,E=3,A=!1,N=!1,D=!1,W=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(_){for(var d=r(b);d!==null;){if(d.callback===null)n(b);else if(d.startTime<=_)n(b),d.sortIndex=d.expirationTime,e(v,d);else break;d=r(b)}}function K(_){if(D=!1,z(_),!N)if(r(v)!==null)N=!0,m(ne);else{var d=r(b);d!==null&&y(K,d.startTime-_)}}function ne(_,d){N=!1,D&&(D=!1,P(q),q=-1),A=!0;var a=E;try{for(z(d),x=r(v);x!==null&&(!(x.expirationTime>d)||_&&!g());){var p=x.callback;if(typeof p=="function"){x.callback=null,E=x.priorityLevel;var S=p(x.expirationTime<=d);d=t.unstable_now(),typeof S=="function"?x.callback=S:x===r(v)&&n(v),z(d)}else n(v);x=r(v)}if(x!==null)var B=!0;else{var Z=r(b);Z!==null&&y(K,Z.startTime-d),B=!1}return B}finally{x=null,E=a,A=!1}}var ue=!1,G=null,q=-1,j=5,Q=-1;function g(){return!(t.unstable_now()-Q<j)}function o(){if(G!==null){var _=t.unstable_now();Q=_;var d=!0;try{d=G(!0,_)}finally{d?l():(ue=!1,G=null)}}else ue=!1}var l;if(typeof C=="function")l=function(){C(o)};else if(typeof MessageChannel<"u"){var f=new MessageChannel,h=f.port2;f.port1.onmessage=o,l=function(){h.postMessage(null)}}else l=function(){W(o,0)};function m(_){G=_,ue||(ue=!0,l())}function y(_,d){q=W(function(){_(t.unstable_now())},d)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(_){_.callback=null},t.unstable_continueExecution=function(){N||A||(N=!0,m(ne))},t.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<_?Math.floor(1e3/_):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return r(v)},t.unstable_next=function(_){switch(E){case 1:case 2:case 3:var d=3;break;default:d=E}var a=E;E=d;try{return _()}finally{E=a}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(_,d){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var a=E;E=_;try{return d()}finally{E=a}},t.unstable_scheduleCallback=function(_,d,a){var p=t.unstable_now();switch(typeof a=="object"&&a!==null?(a=a.delay,a=typeof a=="number"&&0<a?p+a:p):a=p,_){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=a+S,_={id:w++,callback:d,priorityLevel:_,startTime:a,expirationTime:S,sortIndex:-1},a>p?(_.sortIndex=a,e(b,_),r(v)===null&&_===r(b)&&(D?(P(q),q=-1):D=!0,y(K,a-p))):(_.sortIndex=S,e(v,_),N||A||(N=!0,m(ne))),_},t.unstable_shouldYield=g,t.unstable_wrapCallback=function(_){var d=E;return function(){var a=E;E=d;try{return _.apply(this,arguments)}finally{E=a}}}})(m5);p5.exports=m5;var nk=p5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ik=fe,$n=nk;function Ke(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v5=new Set,bh={};function Wa(t,e){Yl(t,e),Yl(t+"Capture",e)}function Yl(t,e){for(bh[t]=e,t=0;t<e.length;t++)v5.add(e[t])}var Ss=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c1=Object.prototype.hasOwnProperty,sk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ub={},jb={};function ok(t){return c1.call(jb,t)?!0:c1.call(Ub,t)?!1:sk.test(t)?jb[t]=!0:(Ub[t]=!0,!1)}function ak(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function lk(t,e,r,n){if(e===null||typeof e>"u"||ak(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bn(t,e,r,n,s,i,u){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=u}var Qr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qr[t]=new bn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qr[e]=new bn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qr[t]=new bn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qr[t]=new bn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qr[t]=new bn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Qr[t]=new bn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Qr[t]=new bn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Qr[t]=new bn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Qr[t]=new bn(t,5,!1,t.toLowerCase(),null,!1,!1)});var T2=/[\-:]([a-z])/g;function R2(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(T2,R2);Qr[e]=new bn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(T2,R2);Qr[e]=new bn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(T2,R2);Qr[e]=new bn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Qr[t]=new bn(t,1,!1,t.toLowerCase(),null,!1,!1)});Qr.xlinkHref=new bn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Qr[t]=new bn(t,1,!1,t.toLowerCase(),null,!0,!0)});function k2(t,e,r,n){var s=Qr.hasOwnProperty(e)?Qr[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(lk(e,r,s,n)&&(r=null),n||s===null?ok(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ls=ik.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nd=Symbol.for("react.element"),Il=Symbol.for("react.portal"),Al=Symbol.for("react.fragment"),C2=Symbol.for("react.strict_mode"),d1=Symbol.for("react.profiler"),g5=Symbol.for("react.provider"),y5=Symbol.for("react.context"),P2=Symbol.for("react.forward_ref"),p1=Symbol.for("react.suspense"),m1=Symbol.for("react.suspense_list"),N2=Symbol.for("react.memo"),to=Symbol.for("react.lazy"),w5=Symbol.for("react.offscreen"),zb=Symbol.iterator;function uf(t){return t===null||typeof t!="object"?null:(t=zb&&t[zb]||t["@@iterator"],typeof t=="function"?t:null)}var gr=Object.assign,gv;function Vf(t){if(gv===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);gv=e&&e[1]||""}return`
`+gv+t}var yv=!1;function wv(t,e){if(!t||yv)return"";yv=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(b){var n=b}Reflect.construct(t,[],e)}else{try{e.call()}catch(b){n=b}t.call(e.prototype)}else{try{throw Error()}catch(b){n=b}t()}}catch(b){if(b&&n&&typeof b.stack=="string"){for(var s=b.stack.split(`
`),i=n.stack.split(`
`),u=s.length-1,c=i.length-1;1<=u&&0<=c&&s[u]!==i[c];)c--;for(;1<=u&&0<=c;u--,c--)if(s[u]!==i[c]){if(u!==1||c!==1)do if(u--,c--,0>c||s[u]!==i[c]){var v=`
`+s[u].replace(" at new "," at ");return t.displayName&&v.includes("<anonymous>")&&(v=v.replace("<anonymous>",t.displayName)),v}while(1<=u&&0<=c);break}}}finally{yv=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Vf(t):""}function uk(t){switch(t.tag){case 5:return Vf(t.type);case 16:return Vf("Lazy");case 13:return Vf("Suspense");case 19:return Vf("SuspenseList");case 0:case 2:case 15:return t=wv(t.type,!1),t;case 11:return t=wv(t.type.render,!1),t;case 1:return t=wv(t.type,!0),t;default:return""}}function v1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Al:return"Fragment";case Il:return"Portal";case d1:return"Profiler";case C2:return"StrictMode";case p1:return"Suspense";case m1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case y5:return(t.displayName||"Context")+".Consumer";case g5:return(t._context.displayName||"Context")+".Provider";case P2:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N2:return e=t.displayName||null,e!==null?e:v1(t.type)||"Memo";case to:e=t._payload,t=t._init;try{return v1(t(e))}catch{}}return null}function fk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return v1(e);case 8:return e===C2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ko(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hk(t){var e=_5(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(u){n=""+u,i.call(this,u)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(u){n=""+u},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function id(t){t._valueTracker||(t._valueTracker=hk(t))}function b5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=_5(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function x0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function g1(t,e){var r=e.checked;return gr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function $b(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ko(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function x5(t,e){e=e.checked,e!=null&&k2(t,"checked",e,!1)}function y1(t,e){x5(t,e);var r=ko(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?w1(t,e.type,r):e.hasOwnProperty("defaultValue")&&w1(t,e.type,ko(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qb(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function w1(t,e,r){(e!=="number"||x0(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Uf=Array.isArray;function Vl(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ko(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function _1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ke(91));return gr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Hb(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Ke(92));if(Uf(r)){if(1<r.length)throw Error(Ke(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ko(r)}}function M5(t,e){var r=ko(e.value),n=ko(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Kb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function E5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function b1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?E5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var sd,S5=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(sd=sd||document.createElement("div"),sd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=sd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xh(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Jf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ck=["Webkit","ms","Moz","O"];Object.keys(Jf).forEach(function(t){ck.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Jf[e]=Jf[t]})});function I5(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Jf.hasOwnProperty(t)&&Jf[t]?(""+e).trim():e+"px"}function A5(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=I5(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var dk=gr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function x1(t,e){if(e){if(dk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ke(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ke(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ke(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ke(62))}}function M1(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var E1=null;function B2(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var S1=null,Ul=null,jl=null;function Wb(t){if(t=hc(t)){if(typeof S1!="function")throw Error(Ke(280));var e=t.stateNode;e&&(e=Op(e),S1(t.stateNode,t.type,e))}}function T5(t){Ul?jl?jl.push(t):jl=[t]:Ul=t}function R5(){if(Ul){var t=Ul,e=jl;if(jl=Ul=null,Wb(t),e)for(t=0;t<e.length;t++)Wb(e[t])}}function k5(t,e){return t(e)}function C5(){}var _v=!1;function P5(t,e,r){if(_v)return t(e,r);_v=!0;try{return k5(t,e,r)}finally{_v=!1,(Ul!==null||jl!==null)&&(C5(),R5())}}function Mh(t,e){var r=t.stateNode;if(r===null)return null;var n=Op(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Ke(231,e,typeof r));return r}var I1=!1;if(Ss)try{var ff={};Object.defineProperty(ff,"passive",{get:function(){I1=!0}}),window.addEventListener("test",ff,ff),window.removeEventListener("test",ff,ff)}catch{I1=!1}function pk(t,e,r,n,s,i,u,c,v){var b=Array.prototype.slice.call(arguments,3);try{e.apply(r,b)}catch(w){this.onError(w)}}var Xf=!1,M0=null,E0=!1,A1=null,mk={onError:function(t){Xf=!0,M0=t}};function vk(t,e,r,n,s,i,u,c,v){Xf=!1,M0=null,pk.apply(mk,arguments)}function gk(t,e,r,n,s,i,u,c,v){if(vk.apply(this,arguments),Xf){if(Xf){var b=M0;Xf=!1,M0=null}else throw Error(Ke(198));E0||(E0=!0,A1=b)}}function Ga(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function N5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Gb(t){if(Ga(t)!==t)throw Error(Ke(188))}function yk(t){var e=t.alternate;if(!e){if(e=Ga(t),e===null)throw Error(Ke(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Gb(s),t;if(i===n)return Gb(s),e;i=i.sibling}throw Error(Ke(188))}if(r.return!==n.return)r=s,n=i;else{for(var u=!1,c=s.child;c;){if(c===r){u=!0,r=s,n=i;break}if(c===n){u=!0,n=s,r=i;break}c=c.sibling}if(!u){for(c=i.child;c;){if(c===r){u=!0,r=i,n=s;break}if(c===n){u=!0,n=i,r=s;break}c=c.sibling}if(!u)throw Error(Ke(189))}}if(r.alternate!==n)throw Error(Ke(190))}if(r.tag!==3)throw Error(Ke(188));return r.stateNode.current===r?t:e}function B5(t){return t=yk(t),t!==null?D5(t):null}function D5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=D5(t);if(e!==null)return e;t=t.sibling}return null}var O5=$n.unstable_scheduleCallback,Zb=$n.unstable_cancelCallback,wk=$n.unstable_shouldYield,_k=$n.unstable_requestPaint,xr=$n.unstable_now,bk=$n.unstable_getCurrentPriorityLevel,D2=$n.unstable_ImmediatePriority,L5=$n.unstable_UserBlockingPriority,S0=$n.unstable_NormalPriority,xk=$n.unstable_LowPriority,F5=$n.unstable_IdlePriority,Pp=null,Gi=null;function Mk(t){if(Gi&&typeof Gi.onCommitFiberRoot=="function")try{Gi.onCommitFiberRoot(Pp,t,void 0,(t.current.flags&128)===128)}catch{}}var Si=Math.clz32?Math.clz32:Ik,Ek=Math.log,Sk=Math.LN2;function Ik(t){return t>>>=0,t===0?32:31-(Ek(t)/Sk|0)|0}var od=64,ad=4194304;function jf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function I0(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,u=r&268435455;if(u!==0){var c=u&~s;c!==0?n=jf(c):(i&=u,i!==0&&(n=jf(i)))}else u=r&~s,u!==0?n=jf(u):i!==0&&(n=jf(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Si(e),s=1<<r,n|=t[r],e&=~s;return n}function Ak(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tk(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var u=31-Si(i),c=1<<u,v=s[u];v===-1?(!(c&r)||c&n)&&(s[u]=Ak(c,e)):v<=e&&(t.expiredLanes|=c),i&=~c}}function T1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function V5(){var t=od;return od<<=1,!(od&4194240)&&(od=64),t}function bv(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function uc(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Si(e),t[e]=r}function Rk(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Si(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function O2(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Si(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var Yt=0;function U5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var j5,L2,z5,$5,q5,R1=!1,ld=[],mo=null,vo=null,go=null,Eh=new Map,Sh=new Map,oo=[],kk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qb(t,e){switch(t){case"focusin":case"focusout":mo=null;break;case"dragenter":case"dragleave":vo=null;break;case"mouseover":case"mouseout":go=null;break;case"pointerover":case"pointerout":Eh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sh.delete(e.pointerId)}}function hf(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=hc(e),e!==null&&L2(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Ck(t,e,r,n,s){switch(e){case"focusin":return mo=hf(mo,t,e,r,n,s),!0;case"dragenter":return vo=hf(vo,t,e,r,n,s),!0;case"mouseover":return go=hf(go,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Eh.set(i,hf(Eh.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Sh.set(i,hf(Sh.get(i)||null,t,e,r,n,s)),!0}return!1}function H5(t){var e=ma(t.target);if(e!==null){var r=Ga(e);if(r!==null){if(e=r.tag,e===13){if(e=N5(r),e!==null){t.blockedOn=e,q5(t.priority,function(){z5(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=k1(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);E1=n,r.target.dispatchEvent(n),E1=null}else return e=hc(r),e!==null&&L2(e),t.blockedOn=r,!1;e.shift()}return!0}function Yb(t,e,r){Kd(t)&&r.delete(e)}function Pk(){R1=!1,mo!==null&&Kd(mo)&&(mo=null),vo!==null&&Kd(vo)&&(vo=null),go!==null&&Kd(go)&&(go=null),Eh.forEach(Yb),Sh.forEach(Yb)}function cf(t,e){t.blockedOn===e&&(t.blockedOn=null,R1||(R1=!0,$n.unstable_scheduleCallback($n.unstable_NormalPriority,Pk)))}function Ih(t){function e(s){return cf(s,t)}if(0<ld.length){cf(ld[0],t);for(var r=1;r<ld.length;r++){var n=ld[r];n.blockedOn===t&&(n.blockedOn=null)}}for(mo!==null&&cf(mo,t),vo!==null&&cf(vo,t),go!==null&&cf(go,t),Eh.forEach(e),Sh.forEach(e),r=0;r<oo.length;r++)n=oo[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<oo.length&&(r=oo[0],r.blockedOn===null);)H5(r),r.blockedOn===null&&oo.shift()}var zl=Ls.ReactCurrentBatchConfig,A0=!0;function Nk(t,e,r,n){var s=Yt,i=zl.transition;zl.transition=null;try{Yt=1,F2(t,e,r,n)}finally{Yt=s,zl.transition=i}}function Bk(t,e,r,n){var s=Yt,i=zl.transition;zl.transition=null;try{Yt=4,F2(t,e,r,n)}finally{Yt=s,zl.transition=i}}function F2(t,e,r,n){if(A0){var s=k1(t,e,r,n);if(s===null)Cv(t,e,n,T0,r),Qb(t,n);else if(Ck(s,t,e,r,n))n.stopPropagation();else if(Qb(t,n),e&4&&-1<kk.indexOf(t)){for(;s!==null;){var i=hc(s);if(i!==null&&j5(i),i=k1(t,e,r,n),i===null&&Cv(t,e,n,T0,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Cv(t,e,n,null,r)}}var T0=null;function k1(t,e,r,n){if(T0=null,t=B2(n),t=ma(t),t!==null)if(e=Ga(t),e===null)t=null;else if(r=e.tag,r===13){if(t=N5(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return T0=t,null}function K5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bk()){case D2:return 1;case L5:return 4;case S0:case xk:return 16;case F5:return 536870912;default:return 16}default:return 16}}var uo=null,V2=null,Wd=null;function W5(){if(Wd)return Wd;var t,e=V2,r=e.length,n,s="value"in uo?uo.value:uo.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var u=r-t;for(n=1;n<=u&&e[r-n]===s[i-n];n++);return Wd=s.slice(t,1<n?1-n:void 0)}function Gd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ud(){return!0}function Jb(){return!1}function Wn(t){function e(r,n,s,i,u){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=u,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(r=t[c],this[c]=r?r(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ud:Jb,this.isPropagationStopped=Jb,this}return gr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ud)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ud)},persist:function(){},isPersistent:ud}),e}var Bu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},U2=Wn(Bu),fc=gr({},Bu,{view:0,detail:0}),Dk=Wn(fc),xv,Mv,df,Np=gr({},fc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:j2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==df&&(df&&t.type==="mousemove"?(xv=t.screenX-df.screenX,Mv=t.screenY-df.screenY):Mv=xv=0,df=t),xv)},movementY:function(t){return"movementY"in t?t.movementY:Mv}}),Xb=Wn(Np),Ok=gr({},Np,{dataTransfer:0}),Lk=Wn(Ok),Fk=gr({},fc,{relatedTarget:0}),Ev=Wn(Fk),Vk=gr({},Bu,{animationName:0,elapsedTime:0,pseudoElement:0}),Uk=Wn(Vk),jk=gr({},Bu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zk=Wn(jk),$k=gr({},Bu,{data:0}),ex=Wn($k),qk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Kk[t])?!!e[t]:!1}function j2(){return Wk}var Gk=gr({},fc,{key:function(t){if(t.key){var e=qk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Gd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Hk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:j2,charCode:function(t){return t.type==="keypress"?Gd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zk=Wn(Gk),Qk=gr({},Np,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tx=Wn(Qk),Yk=gr({},fc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:j2}),Jk=Wn(Yk),Xk=gr({},Bu,{propertyName:0,elapsedTime:0,pseudoElement:0}),eC=Wn(Xk),tC=gr({},Np,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rC=Wn(tC),nC=[9,13,27,32],z2=Ss&&"CompositionEvent"in window,eh=null;Ss&&"documentMode"in document&&(eh=document.documentMode);var iC=Ss&&"TextEvent"in window&&!eh,G5=Ss&&(!z2||eh&&8<eh&&11>=eh),rx=" ",nx=!1;function Z5(t,e){switch(t){case"keyup":return nC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Q5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Tl=!1;function sC(t,e){switch(t){case"compositionend":return Q5(e);case"keypress":return e.which!==32?null:(nx=!0,rx);case"textInput":return t=e.data,t===rx&&nx?null:t;default:return null}}function oC(t,e){if(Tl)return t==="compositionend"||!z2&&Z5(t,e)?(t=W5(),Wd=V2=uo=null,Tl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return G5&&e.locale!=="ko"?null:e.data;default:return null}}var aC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ix(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!aC[t.type]:e==="textarea"}function Y5(t,e,r,n){T5(n),e=R0(e,"onChange"),0<e.length&&(r=new U2("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var th=null,Ah=null;function lC(t){lE(t,0)}function Bp(t){var e=Cl(t);if(b5(e))return t}function uC(t,e){if(t==="change")return e}var J5=!1;if(Ss){var Sv;if(Ss){var Iv="oninput"in document;if(!Iv){var sx=document.createElement("div");sx.setAttribute("oninput","return;"),Iv=typeof sx.oninput=="function"}Sv=Iv}else Sv=!1;J5=Sv&&(!document.documentMode||9<document.documentMode)}function ox(){th&&(th.detachEvent("onpropertychange",X5),Ah=th=null)}function X5(t){if(t.propertyName==="value"&&Bp(Ah)){var e=[];Y5(e,Ah,t,B2(t)),P5(lC,e)}}function fC(t,e,r){t==="focusin"?(ox(),th=e,Ah=r,th.attachEvent("onpropertychange",X5)):t==="focusout"&&ox()}function hC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bp(Ah)}function cC(t,e){if(t==="click")return Bp(e)}function dC(t,e){if(t==="input"||t==="change")return Bp(e)}function pC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ai=typeof Object.is=="function"?Object.is:pC;function Th(t,e){if(Ai(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!c1.call(e,s)||!Ai(t[s],e[s]))return!1}return!0}function ax(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lx(t,e){var r=ax(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ax(r)}}function eE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?eE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tE(){for(var t=window,e=x0();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=x0(t.document)}return e}function $2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mC(t){var e=tE(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&eE(r.ownerDocument.documentElement,r)){if(n!==null&&$2(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=lx(r,i);var u=lx(r,n);s&&u&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==u.node||t.focusOffset!==u.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(u.node,u.offset)):(e.setEnd(u.node,u.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vC=Ss&&"documentMode"in document&&11>=document.documentMode,Rl=null,C1=null,rh=null,P1=!1;function ux(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;P1||Rl==null||Rl!==x0(n)||(n=Rl,"selectionStart"in n&&$2(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),rh&&Th(rh,n)||(rh=n,n=R0(C1,"onSelect"),0<n.length&&(e=new U2("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Rl)))}function fd(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var kl={animationend:fd("Animation","AnimationEnd"),animationiteration:fd("Animation","AnimationIteration"),animationstart:fd("Animation","AnimationStart"),transitionend:fd("Transition","TransitionEnd")},Av={},rE={};Ss&&(rE=document.createElement("div").style,"AnimationEvent"in window||(delete kl.animationend.animation,delete kl.animationiteration.animation,delete kl.animationstart.animation),"TransitionEvent"in window||delete kl.transitionend.transition);function Dp(t){if(Av[t])return Av[t];if(!kl[t])return t;var e=kl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in rE)return Av[t]=e[r];return t}var nE=Dp("animationend"),iE=Dp("animationiteration"),sE=Dp("animationstart"),oE=Dp("transitionend"),aE=new Map,fx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lo(t,e){aE.set(t,e),Wa(e,[t])}for(var Tv=0;Tv<fx.length;Tv++){var Rv=fx[Tv],gC=Rv.toLowerCase(),yC=Rv[0].toUpperCase()+Rv.slice(1);Lo(gC,"on"+yC)}Lo(nE,"onAnimationEnd");Lo(iE,"onAnimationIteration");Lo(sE,"onAnimationStart");Lo("dblclick","onDoubleClick");Lo("focusin","onFocus");Lo("focusout","onBlur");Lo(oE,"onTransitionEnd");Yl("onMouseEnter",["mouseout","mouseover"]);Yl("onMouseLeave",["mouseout","mouseover"]);Yl("onPointerEnter",["pointerout","pointerover"]);Yl("onPointerLeave",["pointerout","pointerover"]);Wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wC=new Set("cancel close invalid load scroll toggle".split(" ").concat(zf));function hx(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,gk(n,e,void 0,t),t.currentTarget=null}function lE(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var u=n.length-1;0<=u;u--){var c=n[u],v=c.instance,b=c.currentTarget;if(c=c.listener,v!==i&&s.isPropagationStopped())break e;hx(s,c,b),i=v}else for(u=0;u<n.length;u++){if(c=n[u],v=c.instance,b=c.currentTarget,c=c.listener,v!==i&&s.isPropagationStopped())break e;hx(s,c,b),i=v}}}if(E0)throw t=A1,E0=!1,A1=null,t}function ar(t,e){var r=e[L1];r===void 0&&(r=e[L1]=new Set);var n=t+"__bubble";r.has(n)||(uE(e,t,2,!1),r.add(n))}function kv(t,e,r){var n=0;e&&(n|=4),uE(r,t,n,e)}var hd="_reactListening"+Math.random().toString(36).slice(2);function Rh(t){if(!t[hd]){t[hd]=!0,v5.forEach(function(r){r!=="selectionchange"&&(wC.has(r)||kv(r,!1,t),kv(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hd]||(e[hd]=!0,kv("selectionchange",!1,e))}}function uE(t,e,r,n){switch(K5(e)){case 1:var s=Nk;break;case 4:s=Bk;break;default:s=F2}r=s.bind(null,e,r,t),s=void 0,!I1||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Cv(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var u=n.tag;if(u===3||u===4){var c=n.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(u===4)for(u=n.return;u!==null;){var v=u.tag;if((v===3||v===4)&&(v=u.stateNode.containerInfo,v===s||v.nodeType===8&&v.parentNode===s))return;u=u.return}for(;c!==null;){if(u=ma(c),u===null)return;if(v=u.tag,v===5||v===6){n=i=u;continue e}c=c.parentNode}}n=n.return}P5(function(){var b=i,w=B2(r),x=[];e:{var E=aE.get(t);if(E!==void 0){var A=U2,N=t;switch(t){case"keypress":if(Gd(r)===0)break e;case"keydown":case"keyup":A=Zk;break;case"focusin":N="focus",A=Ev;break;case"focusout":N="blur",A=Ev;break;case"beforeblur":case"afterblur":A=Ev;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=Xb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=Lk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=Jk;break;case nE:case iE:case sE:A=Uk;break;case oE:A=eC;break;case"scroll":A=Dk;break;case"wheel":A=rC;break;case"copy":case"cut":case"paste":A=zk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=tx}var D=(e&4)!==0,W=!D&&t==="scroll",P=D?E!==null?E+"Capture":null:E;D=[];for(var C=b,z;C!==null;){z=C;var K=z.stateNode;if(z.tag===5&&K!==null&&(z=K,P!==null&&(K=Mh(C,P),K!=null&&D.push(kh(C,K,z)))),W)break;C=C.return}0<D.length&&(E=new A(E,N,null,r,w),x.push({event:E,listeners:D}))}}if(!(e&7)){e:{if(E=t==="mouseover"||t==="pointerover",A=t==="mouseout"||t==="pointerout",E&&r!==E1&&(N=r.relatedTarget||r.fromElement)&&(ma(N)||N[Is]))break e;if((A||E)&&(E=w.window===w?w:(E=w.ownerDocument)?E.defaultView||E.parentWindow:window,A?(N=r.relatedTarget||r.toElement,A=b,N=N?ma(N):null,N!==null&&(W=Ga(N),N!==W||N.tag!==5&&N.tag!==6)&&(N=null)):(A=null,N=b),A!==N)){if(D=Xb,K="onMouseLeave",P="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(D=tx,K="onPointerLeave",P="onPointerEnter",C="pointer"),W=A==null?E:Cl(A),z=N==null?E:Cl(N),E=new D(K,C+"leave",A,r,w),E.target=W,E.relatedTarget=z,K=null,ma(w)===b&&(D=new D(P,C+"enter",N,r,w),D.target=z,D.relatedTarget=W,K=D),W=K,A&&N)t:{for(D=A,P=N,C=0,z=D;z;z=sl(z))C++;for(z=0,K=P;K;K=sl(K))z++;for(;0<C-z;)D=sl(D),C--;for(;0<z-C;)P=sl(P),z--;for(;C--;){if(D===P||P!==null&&D===P.alternate)break t;D=sl(D),P=sl(P)}D=null}else D=null;A!==null&&cx(x,E,A,D,!1),N!==null&&W!==null&&cx(x,W,N,D,!0)}}e:{if(E=b?Cl(b):window,A=E.nodeName&&E.nodeName.toLowerCase(),A==="select"||A==="input"&&E.type==="file")var ne=uC;else if(ix(E))if(J5)ne=dC;else{ne=hC;var ue=fC}else(A=E.nodeName)&&A.toLowerCase()==="input"&&(E.type==="checkbox"||E.type==="radio")&&(ne=cC);if(ne&&(ne=ne(t,b))){Y5(x,ne,r,w);break e}ue&&ue(t,E,b),t==="focusout"&&(ue=E._wrapperState)&&ue.controlled&&E.type==="number"&&w1(E,"number",E.value)}switch(ue=b?Cl(b):window,t){case"focusin":(ix(ue)||ue.contentEditable==="true")&&(Rl=ue,C1=b,rh=null);break;case"focusout":rh=C1=Rl=null;break;case"mousedown":P1=!0;break;case"contextmenu":case"mouseup":case"dragend":P1=!1,ux(x,r,w);break;case"selectionchange":if(vC)break;case"keydown":case"keyup":ux(x,r,w)}var G;if(z2)e:{switch(t){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else Tl?Z5(t,r)&&(q="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(q="onCompositionStart");q&&(G5&&r.locale!=="ko"&&(Tl||q!=="onCompositionStart"?q==="onCompositionEnd"&&Tl&&(G=W5()):(uo=w,V2="value"in uo?uo.value:uo.textContent,Tl=!0)),ue=R0(b,q),0<ue.length&&(q=new ex(q,t,null,r,w),x.push({event:q,listeners:ue}),G?q.data=G:(G=Q5(r),G!==null&&(q.data=G)))),(G=iC?sC(t,r):oC(t,r))&&(b=R0(b,"onBeforeInput"),0<b.length&&(w=new ex("onBeforeInput","beforeinput",null,r,w),x.push({event:w,listeners:b}),w.data=G))}lE(x,e)})}function kh(t,e,r){return{instance:t,listener:e,currentTarget:r}}function R0(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Mh(t,r),i!=null&&n.unshift(kh(t,i,s)),i=Mh(t,e),i!=null&&n.push(kh(t,i,s))),t=t.return}return n}function sl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function cx(t,e,r,n,s){for(var i=e._reactName,u=[];r!==null&&r!==n;){var c=r,v=c.alternate,b=c.stateNode;if(v!==null&&v===n)break;c.tag===5&&b!==null&&(c=b,s?(v=Mh(r,i),v!=null&&u.unshift(kh(r,v,c))):s||(v=Mh(r,i),v!=null&&u.push(kh(r,v,c)))),r=r.return}u.length!==0&&t.push({event:e,listeners:u})}var _C=/\r\n?/g,bC=/\u0000|\uFFFD/g;function dx(t){return(typeof t=="string"?t:""+t).replace(_C,`
`).replace(bC,"")}function cd(t,e,r){if(e=dx(e),dx(t)!==e&&r)throw Error(Ke(425))}function k0(){}var N1=null,B1=null;function D1(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var O1=typeof setTimeout=="function"?setTimeout:void 0,xC=typeof clearTimeout=="function"?clearTimeout:void 0,px=typeof Promise=="function"?Promise:void 0,MC=typeof queueMicrotask=="function"?queueMicrotask:typeof px<"u"?function(t){return px.resolve(null).then(t).catch(EC)}:O1;function EC(t){setTimeout(function(){throw t})}function Pv(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Ih(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ih(e)}function yo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function mx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Du=Math.random().toString(36).slice(2),$i="__reactFiber$"+Du,Ch="__reactProps$"+Du,Is="__reactContainer$"+Du,L1="__reactEvents$"+Du,SC="__reactListeners$"+Du,IC="__reactHandles$"+Du;function ma(t){var e=t[$i];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Is]||r[$i]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=mx(t);t!==null;){if(r=t[$i])return r;t=mx(t)}return e}t=r,r=t.parentNode}return null}function hc(t){return t=t[$i]||t[Is],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Cl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ke(33))}function Op(t){return t[Ch]||null}var F1=[],Pl=-1;function Fo(t){return{current:t}}function lr(t){0>Pl||(t.current=F1[Pl],F1[Pl]=null,Pl--)}function nr(t,e){Pl++,F1[Pl]=t.current,t.current=e}var Co={},dn=Fo(Co),Rn=Fo(!1),Ra=Co;function Jl(t,e){var r=t.type.contextTypes;if(!r)return Co;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function kn(t){return t=t.childContextTypes,t!=null}function C0(){lr(Rn),lr(dn)}function vx(t,e,r){if(dn.current!==Co)throw Error(Ke(168));nr(dn,e),nr(Rn,r)}function fE(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(Ke(108,fk(t)||"Unknown",s));return gr({},r,n)}function P0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Co,Ra=dn.current,nr(dn,t),nr(Rn,Rn.current),!0}function gx(t,e,r){var n=t.stateNode;if(!n)throw Error(Ke(169));r?(t=fE(t,e,Ra),n.__reactInternalMemoizedMergedChildContext=t,lr(Rn),lr(dn),nr(dn,t)):lr(Rn),nr(Rn,r)}var ms=null,Lp=!1,Nv=!1;function hE(t){ms===null?ms=[t]:ms.push(t)}function AC(t){Lp=!0,hE(t)}function Vo(){if(!Nv&&ms!==null){Nv=!0;var t=0,e=Yt;try{var r=ms;for(Yt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ms=null,Lp=!1}catch(s){throw ms!==null&&(ms=ms.slice(t+1)),O5(D2,Vo),s}finally{Yt=e,Nv=!1}}return null}var Nl=[],Bl=0,N0=null,B0=0,Jn=[],Xn=0,ka=null,vs=1,gs="";function ra(t,e){Nl[Bl++]=B0,Nl[Bl++]=N0,N0=t,B0=e}function cE(t,e,r){Jn[Xn++]=vs,Jn[Xn++]=gs,Jn[Xn++]=ka,ka=t;var n=vs;t=gs;var s=32-Si(n)-1;n&=~(1<<s),r+=1;var i=32-Si(e)+s;if(30<i){var u=s-s%5;i=(n&(1<<u)-1).toString(32),n>>=u,s-=u,vs=1<<32-Si(e)+s|r<<s|n,gs=i+t}else vs=1<<i|r<<s|n,gs=t}function q2(t){t.return!==null&&(ra(t,1),cE(t,1,0))}function H2(t){for(;t===N0;)N0=Nl[--Bl],Nl[Bl]=null,B0=Nl[--Bl],Nl[Bl]=null;for(;t===ka;)ka=Jn[--Xn],Jn[Xn]=null,gs=Jn[--Xn],Jn[Xn]=null,vs=Jn[--Xn],Jn[Xn]=null}var zn=null,Un=null,hr=!1,xi=null;function dE(t,e){var r=ti(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function yx(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zn=t,Un=yo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zn=t,Un=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ka!==null?{id:vs,overflow:gs}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=ti(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,zn=t,Un=null,!0):!1;default:return!1}}function V1(t){return(t.mode&1)!==0&&(t.flags&128)===0}function U1(t){if(hr){var e=Un;if(e){var r=e;if(!yx(t,e)){if(V1(t))throw Error(Ke(418));e=yo(r.nextSibling);var n=zn;e&&yx(t,e)?dE(n,r):(t.flags=t.flags&-4097|2,hr=!1,zn=t)}}else{if(V1(t))throw Error(Ke(418));t.flags=t.flags&-4097|2,hr=!1,zn=t}}}function wx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zn=t}function dd(t){if(t!==zn)return!1;if(!hr)return wx(t),hr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!D1(t.type,t.memoizedProps)),e&&(e=Un)){if(V1(t))throw pE(),Error(Ke(418));for(;e;)dE(t,e),e=yo(e.nextSibling)}if(wx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ke(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Un=yo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Un=null}}else Un=zn?yo(t.stateNode.nextSibling):null;return!0}function pE(){for(var t=Un;t;)t=yo(t.nextSibling)}function Xl(){Un=zn=null,hr=!1}function K2(t){xi===null?xi=[t]:xi.push(t)}var TC=Ls.ReactCurrentBatchConfig;function pf(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ke(309));var n=r.stateNode}if(!n)throw Error(Ke(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(u){var c=s.refs;u===null?delete c[i]:c[i]=u},e._stringRef=i,e)}if(typeof t!="string")throw Error(Ke(284));if(!r._owner)throw Error(Ke(290,t))}return t}function pd(t,e){throw t=Object.prototype.toString.call(e),Error(Ke(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _x(t){var e=t._init;return e(t._payload)}function mE(t){function e(P,C){if(t){var z=P.deletions;z===null?(P.deletions=[C],P.flags|=16):z.push(C)}}function r(P,C){if(!t)return null;for(;C!==null;)e(P,C),C=C.sibling;return null}function n(P,C){for(P=new Map;C!==null;)C.key!==null?P.set(C.key,C):P.set(C.index,C),C=C.sibling;return P}function s(P,C){return P=xo(P,C),P.index=0,P.sibling=null,P}function i(P,C,z){return P.index=z,t?(z=P.alternate,z!==null?(z=z.index,z<C?(P.flags|=2,C):z):(P.flags|=2,C)):(P.flags|=1048576,C)}function u(P){return t&&P.alternate===null&&(P.flags|=2),P}function c(P,C,z,K){return C===null||C.tag!==6?(C=Uv(z,P.mode,K),C.return=P,C):(C=s(C,z),C.return=P,C)}function v(P,C,z,K){var ne=z.type;return ne===Al?w(P,C,z.props.children,K,z.key):C!==null&&(C.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===to&&_x(ne)===C.type)?(K=s(C,z.props),K.ref=pf(P,C,z),K.return=P,K):(K=t0(z.type,z.key,z.props,null,P.mode,K),K.ref=pf(P,C,z),K.return=P,K)}function b(P,C,z,K){return C===null||C.tag!==4||C.stateNode.containerInfo!==z.containerInfo||C.stateNode.implementation!==z.implementation?(C=jv(z,P.mode,K),C.return=P,C):(C=s(C,z.children||[]),C.return=P,C)}function w(P,C,z,K,ne){return C===null||C.tag!==7?(C=Ea(z,P.mode,K,ne),C.return=P,C):(C=s(C,z),C.return=P,C)}function x(P,C,z){if(typeof C=="string"&&C!==""||typeof C=="number")return C=Uv(""+C,P.mode,z),C.return=P,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case nd:return z=t0(C.type,C.key,C.props,null,P.mode,z),z.ref=pf(P,null,C),z.return=P,z;case Il:return C=jv(C,P.mode,z),C.return=P,C;case to:var K=C._init;return x(P,K(C._payload),z)}if(Uf(C)||uf(C))return C=Ea(C,P.mode,z,null),C.return=P,C;pd(P,C)}return null}function E(P,C,z,K){var ne=C!==null?C.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ne!==null?null:c(P,C,""+z,K);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case nd:return z.key===ne?v(P,C,z,K):null;case Il:return z.key===ne?b(P,C,z,K):null;case to:return ne=z._init,E(P,C,ne(z._payload),K)}if(Uf(z)||uf(z))return ne!==null?null:w(P,C,z,K,null);pd(P,z)}return null}function A(P,C,z,K,ne){if(typeof K=="string"&&K!==""||typeof K=="number")return P=P.get(z)||null,c(C,P,""+K,ne);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case nd:return P=P.get(K.key===null?z:K.key)||null,v(C,P,K,ne);case Il:return P=P.get(K.key===null?z:K.key)||null,b(C,P,K,ne);case to:var ue=K._init;return A(P,C,z,ue(K._payload),ne)}if(Uf(K)||uf(K))return P=P.get(z)||null,w(C,P,K,ne,null);pd(C,K)}return null}function N(P,C,z,K){for(var ne=null,ue=null,G=C,q=C=0,j=null;G!==null&&q<z.length;q++){G.index>q?(j=G,G=null):j=G.sibling;var Q=E(P,G,z[q],K);if(Q===null){G===null&&(G=j);break}t&&G&&Q.alternate===null&&e(P,G),C=i(Q,C,q),ue===null?ne=Q:ue.sibling=Q,ue=Q,G=j}if(q===z.length)return r(P,G),hr&&ra(P,q),ne;if(G===null){for(;q<z.length;q++)G=x(P,z[q],K),G!==null&&(C=i(G,C,q),ue===null?ne=G:ue.sibling=G,ue=G);return hr&&ra(P,q),ne}for(G=n(P,G);q<z.length;q++)j=A(G,P,q,z[q],K),j!==null&&(t&&j.alternate!==null&&G.delete(j.key===null?q:j.key),C=i(j,C,q),ue===null?ne=j:ue.sibling=j,ue=j);return t&&G.forEach(function(g){return e(P,g)}),hr&&ra(P,q),ne}function D(P,C,z,K){var ne=uf(z);if(typeof ne!="function")throw Error(Ke(150));if(z=ne.call(z),z==null)throw Error(Ke(151));for(var ue=ne=null,G=C,q=C=0,j=null,Q=z.next();G!==null&&!Q.done;q++,Q=z.next()){G.index>q?(j=G,G=null):j=G.sibling;var g=E(P,G,Q.value,K);if(g===null){G===null&&(G=j);break}t&&G&&g.alternate===null&&e(P,G),C=i(g,C,q),ue===null?ne=g:ue.sibling=g,ue=g,G=j}if(Q.done)return r(P,G),hr&&ra(P,q),ne;if(G===null){for(;!Q.done;q++,Q=z.next())Q=x(P,Q.value,K),Q!==null&&(C=i(Q,C,q),ue===null?ne=Q:ue.sibling=Q,ue=Q);return hr&&ra(P,q),ne}for(G=n(P,G);!Q.done;q++,Q=z.next())Q=A(G,P,q,Q.value,K),Q!==null&&(t&&Q.alternate!==null&&G.delete(Q.key===null?q:Q.key),C=i(Q,C,q),ue===null?ne=Q:ue.sibling=Q,ue=Q);return t&&G.forEach(function(o){return e(P,o)}),hr&&ra(P,q),ne}function W(P,C,z,K){if(typeof z=="object"&&z!==null&&z.type===Al&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case nd:e:{for(var ne=z.key,ue=C;ue!==null;){if(ue.key===ne){if(ne=z.type,ne===Al){if(ue.tag===7){r(P,ue.sibling),C=s(ue,z.props.children),C.return=P,P=C;break e}}else if(ue.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===to&&_x(ne)===ue.type){r(P,ue.sibling),C=s(ue,z.props),C.ref=pf(P,ue,z),C.return=P,P=C;break e}r(P,ue);break}else e(P,ue);ue=ue.sibling}z.type===Al?(C=Ea(z.props.children,P.mode,K,z.key),C.return=P,P=C):(K=t0(z.type,z.key,z.props,null,P.mode,K),K.ref=pf(P,C,z),K.return=P,P=K)}return u(P);case Il:e:{for(ue=z.key;C!==null;){if(C.key===ue)if(C.tag===4&&C.stateNode.containerInfo===z.containerInfo&&C.stateNode.implementation===z.implementation){r(P,C.sibling),C=s(C,z.children||[]),C.return=P,P=C;break e}else{r(P,C);break}else e(P,C);C=C.sibling}C=jv(z,P.mode,K),C.return=P,P=C}return u(P);case to:return ue=z._init,W(P,C,ue(z._payload),K)}if(Uf(z))return N(P,C,z,K);if(uf(z))return D(P,C,z,K);pd(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,C!==null&&C.tag===6?(r(P,C.sibling),C=s(C,z),C.return=P,P=C):(r(P,C),C=Uv(z,P.mode,K),C.return=P,P=C),u(P)):r(P,C)}return W}var eu=mE(!0),vE=mE(!1),D0=Fo(null),O0=null,Dl=null,W2=null;function G2(){W2=Dl=O0=null}function Z2(t){var e=D0.current;lr(D0),t._currentValue=e}function j1(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function $l(t,e){O0=t,W2=Dl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(An=!0),t.firstContext=null)}function si(t){var e=t._currentValue;if(W2!==t)if(t={context:t,memoizedValue:e,next:null},Dl===null){if(O0===null)throw Error(Ke(308));Dl=t,O0.dependencies={lanes:0,firstContext:t}}else Dl=Dl.next=t;return e}var va=null;function Q2(t){va===null?va=[t]:va.push(t)}function gE(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Q2(e)):(r.next=s.next,s.next=r),e.interleaved=r,As(t,n)}function As(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ro=!1;function Y2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function wo(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ht&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,As(t,r)}return s=n.interleaved,s===null?(e.next=e,Q2(n)):(e.next=s.next,s.next=e),n.interleaved=e,As(t,r)}function Zd(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,O2(t,r)}}function bx(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var u={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=u:i=i.next=u,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function L0(t,e,r,n){var s=t.updateQueue;ro=!1;var i=s.firstBaseUpdate,u=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var v=c,b=v.next;v.next=null,u===null?i=b:u.next=b,u=v;var w=t.alternate;w!==null&&(w=w.updateQueue,c=w.lastBaseUpdate,c!==u&&(c===null?w.firstBaseUpdate=b:c.next=b,w.lastBaseUpdate=v))}if(i!==null){var x=s.baseState;u=0,w=b=v=null,c=i;do{var E=c.lane,A=c.eventTime;if((n&E)===E){w!==null&&(w=w.next={eventTime:A,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var N=t,D=c;switch(E=e,A=r,D.tag){case 1:if(N=D.payload,typeof N=="function"){x=N.call(A,x,E);break e}x=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=D.payload,E=typeof N=="function"?N.call(A,x,E):N,E==null)break e;x=gr({},x,E);break e;case 2:ro=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,E=s.effects,E===null?s.effects=[c]:E.push(c))}else A={eventTime:A,lane:E,tag:c.tag,payload:c.payload,callback:c.callback,next:null},w===null?(b=w=A,v=x):w=w.next=A,u|=E;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;E=c,c=E.next,E.next=null,s.lastBaseUpdate=E,s.shared.pending=null}}while(!0);if(w===null&&(v=x),s.baseState=v,s.firstBaseUpdate=b,s.lastBaseUpdate=w,e=s.shared.interleaved,e!==null){s=e;do u|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Pa|=u,t.lanes=u,t.memoizedState=x}}function xx(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Ke(191,s));s.call(n)}}}var cc={},Zi=Fo(cc),Ph=Fo(cc),Nh=Fo(cc);function ga(t){if(t===cc)throw Error(Ke(174));return t}function J2(t,e){switch(nr(Nh,e),nr(Ph,t),nr(Zi,cc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:b1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=b1(e,t)}lr(Zi),nr(Zi,e)}function tu(){lr(Zi),lr(Ph),lr(Nh)}function wE(t){ga(Nh.current);var e=ga(Zi.current),r=b1(e,t.type);e!==r&&(nr(Ph,t),nr(Zi,r))}function X2(t){Ph.current===t&&(lr(Zi),lr(Ph))}var dr=Fo(0);function F0(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Bv=[];function ew(){for(var t=0;t<Bv.length;t++)Bv[t]._workInProgressVersionPrimary=null;Bv.length=0}var Qd=Ls.ReactCurrentDispatcher,Dv=Ls.ReactCurrentBatchConfig,Ca=0,vr=null,Cr=null,Fr=null,V0=!1,nh=!1,Bh=0,RC=0;function en(){throw Error(Ke(321))}function tw(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Ai(t[r],e[r]))return!1;return!0}function rw(t,e,r,n,s,i){if(Ca=i,vr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qd.current=t===null||t.memoizedState===null?NC:BC,t=r(n,s),nh){i=0;do{if(nh=!1,Bh=0,25<=i)throw Error(Ke(301));i+=1,Fr=Cr=null,e.updateQueue=null,Qd.current=DC,t=r(n,s)}while(nh)}if(Qd.current=U0,e=Cr!==null&&Cr.next!==null,Ca=0,Fr=Cr=vr=null,V0=!1,e)throw Error(Ke(300));return t}function nw(){var t=Bh!==0;return Bh=0,t}function Oi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fr===null?vr.memoizedState=Fr=t:Fr=Fr.next=t,Fr}function oi(){if(Cr===null){var t=vr.alternate;t=t!==null?t.memoizedState:null}else t=Cr.next;var e=Fr===null?vr.memoizedState:Fr.next;if(e!==null)Fr=e,Cr=t;else{if(t===null)throw Error(Ke(310));Cr=t,t={memoizedState:Cr.memoizedState,baseState:Cr.baseState,baseQueue:Cr.baseQueue,queue:Cr.queue,next:null},Fr===null?vr.memoizedState=Fr=t:Fr=Fr.next=t}return Fr}function Dh(t,e){return typeof e=="function"?e(t):e}function Ov(t){var e=oi(),r=e.queue;if(r===null)throw Error(Ke(311));r.lastRenderedReducer=t;var n=Cr,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var u=s.next;s.next=i.next,i.next=u}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var c=u=null,v=null,b=i;do{var w=b.lane;if((Ca&w)===w)v!==null&&(v=v.next={lane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),n=b.hasEagerState?b.eagerState:t(n,b.action);else{var x={lane:w,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null};v===null?(c=v=x,u=n):v=v.next=x,vr.lanes|=w,Pa|=w}b=b.next}while(b!==null&&b!==i);v===null?u=n:v.next=c,Ai(n,e.memoizedState)||(An=!0),e.memoizedState=n,e.baseState=u,e.baseQueue=v,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,vr.lanes|=i,Pa|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Lv(t){var e=oi(),r=e.queue;if(r===null)throw Error(Ke(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var u=s=s.next;do i=t(i,u.action),u=u.next;while(u!==s);Ai(i,e.memoizedState)||(An=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function _E(){}function bE(t,e){var r=vr,n=oi(),s=e(),i=!Ai(n.memoizedState,s);if(i&&(n.memoizedState=s,An=!0),n=n.queue,iw(EE.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||Fr!==null&&Fr.memoizedState.tag&1){if(r.flags|=2048,Oh(9,ME.bind(null,r,n,s,e),void 0,null),jr===null)throw Error(Ke(349));Ca&30||xE(r,e,s)}return s}function xE(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=vr.updateQueue,e===null?(e={lastEffect:null,stores:null},vr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function ME(t,e,r,n){e.value=r,e.getSnapshot=n,SE(e)&&IE(t)}function EE(t,e,r){return r(function(){SE(e)&&IE(t)})}function SE(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Ai(t,r)}catch{return!0}}function IE(t){var e=As(t,1);e!==null&&Ii(e,t,1,-1)}function Mx(t){var e=Oi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dh,lastRenderedState:t},e.queue=t,t=t.dispatch=PC.bind(null,vr,t),[e.memoizedState,t]}function Oh(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=vr.updateQueue,e===null?(e={lastEffect:null,stores:null},vr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function AE(){return oi().memoizedState}function Yd(t,e,r,n){var s=Oi();vr.flags|=t,s.memoizedState=Oh(1|e,r,void 0,n===void 0?null:n)}function Fp(t,e,r,n){var s=oi();n=n===void 0?null:n;var i=void 0;if(Cr!==null){var u=Cr.memoizedState;if(i=u.destroy,n!==null&&tw(n,u.deps)){s.memoizedState=Oh(e,r,i,n);return}}vr.flags|=t,s.memoizedState=Oh(1|e,r,i,n)}function Ex(t,e){return Yd(8390656,8,t,e)}function iw(t,e){return Fp(2048,8,t,e)}function TE(t,e){return Fp(4,2,t,e)}function RE(t,e){return Fp(4,4,t,e)}function kE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function CE(t,e,r){return r=r!=null?r.concat([t]):null,Fp(4,4,kE.bind(null,e,t),r)}function sw(){}function PE(t,e){var r=oi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&tw(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function NE(t,e){var r=oi();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&tw(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function BE(t,e,r){return Ca&21?(Ai(r,e)||(r=V5(),vr.lanes|=r,Pa|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,An=!0),t.memoizedState=r)}function kC(t,e){var r=Yt;Yt=r!==0&&4>r?r:4,t(!0);var n=Dv.transition;Dv.transition={};try{t(!1),e()}finally{Yt=r,Dv.transition=n}}function DE(){return oi().memoizedState}function CC(t,e,r){var n=bo(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},OE(t))LE(e,r);else if(r=gE(t,e,r,n),r!==null){var s=yn();Ii(r,t,n,s),FE(r,e,n)}}function PC(t,e,r){var n=bo(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(OE(t))LE(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var u=e.lastRenderedState,c=i(u,r);if(s.hasEagerState=!0,s.eagerState=c,Ai(c,u)){var v=e.interleaved;v===null?(s.next=s,Q2(e)):(s.next=v.next,v.next=s),e.interleaved=s;return}}catch{}finally{}r=gE(t,e,s,n),r!==null&&(s=yn(),Ii(r,t,n,s),FE(r,e,n))}}function OE(t){var e=t.alternate;return t===vr||e!==null&&e===vr}function LE(t,e){nh=V0=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function FE(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,O2(t,r)}}var U0={readContext:si,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},NC={readContext:si,useCallback:function(t,e){return Oi().memoizedState=[t,e===void 0?null:e],t},useContext:si,useEffect:Ex,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Yd(4194308,4,kE.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Yd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Yd(4,2,t,e)},useMemo:function(t,e){var r=Oi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Oi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=CC.bind(null,vr,t),[n.memoizedState,t]},useRef:function(t){var e=Oi();return t={current:t},e.memoizedState=t},useState:Mx,useDebugValue:sw,useDeferredValue:function(t){return Oi().memoizedState=t},useTransition:function(){var t=Mx(!1),e=t[0];return t=kC.bind(null,t[1]),Oi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=vr,s=Oi();if(hr){if(r===void 0)throw Error(Ke(407));r=r()}else{if(r=e(),jr===null)throw Error(Ke(349));Ca&30||xE(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,Ex(EE.bind(null,n,i,t),[t]),n.flags|=2048,Oh(9,ME.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=Oi(),e=jr.identifierPrefix;if(hr){var r=gs,n=vs;r=(n&~(1<<32-Si(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Bh++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=RC++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},BC={readContext:si,useCallback:PE,useContext:si,useEffect:iw,useImperativeHandle:CE,useInsertionEffect:TE,useLayoutEffect:RE,useMemo:NE,useReducer:Ov,useRef:AE,useState:function(){return Ov(Dh)},useDebugValue:sw,useDeferredValue:function(t){var e=oi();return BE(e,Cr.memoizedState,t)},useTransition:function(){var t=Ov(Dh)[0],e=oi().memoizedState;return[t,e]},useMutableSource:_E,useSyncExternalStore:bE,useId:DE,unstable_isNewReconciler:!1},DC={readContext:si,useCallback:PE,useContext:si,useEffect:iw,useImperativeHandle:CE,useInsertionEffect:TE,useLayoutEffect:RE,useMemo:NE,useReducer:Lv,useRef:AE,useState:function(){return Lv(Dh)},useDebugValue:sw,useDeferredValue:function(t){var e=oi();return Cr===null?e.memoizedState=t:BE(e,Cr.memoizedState,t)},useTransition:function(){var t=Lv(Dh)[0],e=oi().memoizedState;return[t,e]},useMutableSource:_E,useSyncExternalStore:bE,useId:DE,unstable_isNewReconciler:!1};function yi(t,e){if(t&&t.defaultProps){e=gr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function z1(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:gr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Vp={isMounted:function(t){return(t=t._reactInternals)?Ga(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=yn(),s=bo(t),i=xs(n,s);i.payload=e,r!=null&&(i.callback=r),e=wo(t,i,s),e!==null&&(Ii(e,t,s,n),Zd(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=yn(),s=bo(t),i=xs(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=wo(t,i,s),e!==null&&(Ii(e,t,s,n),Zd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=yn(),n=bo(t),s=xs(r,n);s.tag=2,e!=null&&(s.callback=e),e=wo(t,s,n),e!==null&&(Ii(e,t,n,r),Zd(e,t,n))}};function Sx(t,e,r,n,s,i,u){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,u):e.prototype&&e.prototype.isPureReactComponent?!Th(r,n)||!Th(s,i):!0}function VE(t,e,r){var n=!1,s=Co,i=e.contextType;return typeof i=="object"&&i!==null?i=si(i):(s=kn(e)?Ra:dn.current,n=e.contextTypes,i=(n=n!=null)?Jl(t,s):Co),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Ix(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Vp.enqueueReplaceState(e,e.state,null)}function $1(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Y2(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=si(i):(i=kn(e)?Ra:dn.current,s.context=Jl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(z1(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Vp.enqueueReplaceState(s,s.state,null),L0(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ru(t,e){try{var r="",n=e;do r+=uk(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Fv(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function q1(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var OC=typeof WeakMap=="function"?WeakMap:Map;function UE(t,e,r){r=xs(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){z0||(z0=!0,ey=n),q1(t,e)},r}function jE(t,e,r){r=xs(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){q1(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){q1(t,e),typeof n!="function"&&(_o===null?_o=new Set([this]):_o.add(this));var u=e.stack;this.componentDidCatch(e.value,{componentStack:u!==null?u:""})}),r}function Ax(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new OC;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=QC.bind(null,t,e,r),e.then(t,t))}function Tx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Rx(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=xs(-1,1),e.tag=2,wo(r,e,1))),r.lanes|=1),t)}var LC=Ls.ReactCurrentOwner,An=!1;function pn(t,e,r,n){e.child=t===null?vE(e,null,r,n):eu(e,t.child,r,n)}function kx(t,e,r,n,s){r=r.render;var i=e.ref;return $l(e,s),n=rw(t,e,r,n,i,s),r=nw(),t!==null&&!An?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ts(t,e,s)):(hr&&r&&q2(e),e.flags|=1,pn(t,e,n,s),e.child)}function Cx(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!dw(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,zE(t,e,i,n,s)):(t=t0(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var u=i.memoizedProps;if(r=r.compare,r=r!==null?r:Th,r(u,n)&&t.ref===e.ref)return Ts(t,e,s)}return e.flags|=1,t=xo(i,n),t.ref=e.ref,t.return=e,e.child=t}function zE(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(Th(i,n)&&t.ref===e.ref)if(An=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(An=!0);else return e.lanes=t.lanes,Ts(t,e,s)}return H1(t,e,r,n,s)}function $E(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},nr(Ll,Ln),Ln|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,nr(Ll,Ln),Ln|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,nr(Ll,Ln),Ln|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,nr(Ll,Ln),Ln|=n;return pn(t,e,s,r),e.child}function qE(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function H1(t,e,r,n,s){var i=kn(r)?Ra:dn.current;return i=Jl(e,i),$l(e,s),r=rw(t,e,r,n,i,s),n=nw(),t!==null&&!An?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ts(t,e,s)):(hr&&n&&q2(e),e.flags|=1,pn(t,e,r,s),e.child)}function Px(t,e,r,n,s){if(kn(r)){var i=!0;P0(e)}else i=!1;if($l(e,s),e.stateNode===null)Jd(t,e),VE(e,r,n),$1(e,r,n,s),n=!0;else if(t===null){var u=e.stateNode,c=e.memoizedProps;u.props=c;var v=u.context,b=r.contextType;typeof b=="object"&&b!==null?b=si(b):(b=kn(r)?Ra:dn.current,b=Jl(e,b));var w=r.getDerivedStateFromProps,x=typeof w=="function"||typeof u.getSnapshotBeforeUpdate=="function";x||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(c!==n||v!==b)&&Ix(e,u,n,b),ro=!1;var E=e.memoizedState;u.state=E,L0(e,n,u,s),v=e.memoizedState,c!==n||E!==v||Rn.current||ro?(typeof w=="function"&&(z1(e,r,w,n),v=e.memoizedState),(c=ro||Sx(e,r,c,n,E,v,b))?(x||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(e.flags|=4194308)):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=v),u.props=n,u.state=v,u.context=b,n=c):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{u=e.stateNode,yE(t,e),c=e.memoizedProps,b=e.type===e.elementType?c:yi(e.type,c),u.props=b,x=e.pendingProps,E=u.context,v=r.contextType,typeof v=="object"&&v!==null?v=si(v):(v=kn(r)?Ra:dn.current,v=Jl(e,v));var A=r.getDerivedStateFromProps;(w=typeof A=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(c!==x||E!==v)&&Ix(e,u,n,v),ro=!1,E=e.memoizedState,u.state=E,L0(e,n,u,s);var N=e.memoizedState;c!==x||E!==N||Rn.current||ro?(typeof A=="function"&&(z1(e,r,A,n),N=e.memoizedState),(b=ro||Sx(e,r,b,n,E,N,v)||!1)?(w||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(n,N,v),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(n,N,v)),typeof u.componentDidUpdate=="function"&&(e.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof u.componentDidUpdate!="function"||c===t.memoizedProps&&E===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&E===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=N),u.props=n,u.state=N,u.context=v,n=b):(typeof u.componentDidUpdate!="function"||c===t.memoizedProps&&E===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&E===t.memoizedState||(e.flags|=1024),n=!1)}return K1(t,e,r,n,i,s)}function K1(t,e,r,n,s,i){qE(t,e);var u=(e.flags&128)!==0;if(!n&&!u)return s&&gx(e,r,!1),Ts(t,e,i);n=e.stateNode,LC.current=e;var c=u&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&u?(e.child=eu(e,t.child,null,i),e.child=eu(e,null,c,i)):pn(t,e,c,i),e.memoizedState=n.state,s&&gx(e,r,!0),e.child}function HE(t){var e=t.stateNode;e.pendingContext?vx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&vx(t,e.context,!1),J2(t,e.containerInfo)}function Nx(t,e,r,n,s){return Xl(),K2(s),e.flags|=256,pn(t,e,r,n),e.child}var W1={dehydrated:null,treeContext:null,retryLane:0};function G1(t){return{baseLanes:t,cachePool:null,transitions:null}}function KE(t,e,r){var n=e.pendingProps,s=dr.current,i=!1,u=(e.flags&128)!==0,c;if((c=u)||(c=t!==null&&t.memoizedState===null?!1:(s&2)!==0),c?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),nr(dr,s&1),t===null)return U1(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(u=n.children,t=n.fallback,i?(n=e.mode,i=e.child,u={mode:"hidden",children:u},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=u):i=zp(u,n,0,null),t=Ea(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=G1(r),e.memoizedState=W1,t):ow(e,u));if(s=t.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return FC(t,e,u,n,c,s,r);if(i){i=n.fallback,u=e.mode,s=t.child,c=s.sibling;var v={mode:"hidden",children:n.children};return!(u&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=v,e.deletions=null):(n=xo(s,v),n.subtreeFlags=s.subtreeFlags&14680064),c!==null?i=xo(c,i):(i=Ea(i,u,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,u=t.child.memoizedState,u=u===null?G1(r):{baseLanes:u.baseLanes|r,cachePool:null,transitions:u.transitions},i.memoizedState=u,i.childLanes=t.childLanes&~r,e.memoizedState=W1,n}return i=t.child,t=i.sibling,n=xo(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function ow(t,e){return e=zp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function md(t,e,r,n){return n!==null&&K2(n),eu(e,t.child,null,r),t=ow(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function FC(t,e,r,n,s,i,u){if(r)return e.flags&256?(e.flags&=-257,n=Fv(Error(Ke(422))),md(t,e,u,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=zp({mode:"visible",children:n.children},s,0,null),i=Ea(i,s,u,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&eu(e,t.child,null,u),e.child.memoizedState=G1(u),e.memoizedState=W1,i);if(!(e.mode&1))return md(t,e,u,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var c=n.dgst;return n=c,i=Error(Ke(419)),n=Fv(i,n,void 0),md(t,e,u,n)}if(c=(u&t.childLanes)!==0,An||c){if(n=jr,n!==null){switch(u&-u){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|u)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,As(t,s),Ii(n,t,s,-1))}return cw(),n=Fv(Error(Ke(421))),md(t,e,u,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=YC.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Un=yo(s.nextSibling),zn=e,hr=!0,xi=null,t!==null&&(Jn[Xn++]=vs,Jn[Xn++]=gs,Jn[Xn++]=ka,vs=t.id,gs=t.overflow,ka=e),e=ow(e,n.children),e.flags|=4096,e)}function Bx(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),j1(t.return,e,r)}function Vv(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function WE(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(pn(t,e,n.children,r),n=dr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bx(t,r,e);else if(t.tag===19)Bx(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(nr(dr,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&F0(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Vv(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&F0(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Vv(e,!0,r,null,i);break;case"together":Vv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Jd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ts(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Pa|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ke(153));if(e.child!==null){for(t=e.child,r=xo(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=xo(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function VC(t,e,r){switch(e.tag){case 3:HE(e),Xl();break;case 5:wE(e);break;case 1:kn(e.type)&&P0(e);break;case 4:J2(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;nr(D0,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(nr(dr,dr.current&1),e.flags|=128,null):r&e.child.childLanes?KE(t,e,r):(nr(dr,dr.current&1),t=Ts(t,e,r),t!==null?t.sibling:null);nr(dr,dr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return WE(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),nr(dr,dr.current),n)break;return null;case 22:case 23:return e.lanes=0,$E(t,e,r)}return Ts(t,e,r)}var GE,Z1,ZE,QE;GE=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Z1=function(){};ZE=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,ga(Zi.current);var i=null;switch(r){case"input":s=g1(t,s),n=g1(t,n),i=[];break;case"select":s=gr({},s,{value:void 0}),n=gr({},n,{value:void 0}),i=[];break;case"textarea":s=_1(t,s),n=_1(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=k0)}x1(r,n);var u;r=null;for(b in s)if(!n.hasOwnProperty(b)&&s.hasOwnProperty(b)&&s[b]!=null)if(b==="style"){var c=s[b];for(u in c)c.hasOwnProperty(u)&&(r||(r={}),r[u]="")}else b!=="dangerouslySetInnerHTML"&&b!=="children"&&b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(bh.hasOwnProperty(b)?i||(i=[]):(i=i||[]).push(b,null));for(b in n){var v=n[b];if(c=s!=null?s[b]:void 0,n.hasOwnProperty(b)&&v!==c&&(v!=null||c!=null))if(b==="style")if(c){for(u in c)!c.hasOwnProperty(u)||v&&v.hasOwnProperty(u)||(r||(r={}),r[u]="");for(u in v)v.hasOwnProperty(u)&&c[u]!==v[u]&&(r||(r={}),r[u]=v[u])}else r||(i||(i=[]),i.push(b,r)),r=v;else b==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,c=c?c.__html:void 0,v!=null&&c!==v&&(i=i||[]).push(b,v)):b==="children"?typeof v!="string"&&typeof v!="number"||(i=i||[]).push(b,""+v):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&(bh.hasOwnProperty(b)?(v!=null&&b==="onScroll"&&ar("scroll",t),i||c===v||(i=[])):(i=i||[]).push(b,v))}r&&(i=i||[]).push("style",r);var b=i;(e.updateQueue=b)&&(e.flags|=4)}};QE=function(t,e,r,n){r!==n&&(e.flags|=4)};function mf(t,e){if(!hr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function tn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function UC(t,e,r){var n=e.pendingProps;switch(H2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(e),null;case 1:return kn(e.type)&&C0(),tn(e),null;case 3:return n=e.stateNode,tu(),lr(Rn),lr(dn),ew(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(dd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xi!==null&&(ny(xi),xi=null))),Z1(t,e),tn(e),null;case 5:X2(e);var s=ga(Nh.current);if(r=e.type,t!==null&&e.stateNode!=null)ZE(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Ke(166));return tn(e),null}if(t=ga(Zi.current),dd(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[$i]=e,n[Ch]=i,t=(e.mode&1)!==0,r){case"dialog":ar("cancel",n),ar("close",n);break;case"iframe":case"object":case"embed":ar("load",n);break;case"video":case"audio":for(s=0;s<zf.length;s++)ar(zf[s],n);break;case"source":ar("error",n);break;case"img":case"image":case"link":ar("error",n),ar("load",n);break;case"details":ar("toggle",n);break;case"input":$b(n,i),ar("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ar("invalid",n);break;case"textarea":Hb(n,i),ar("invalid",n)}x1(r,i),s=null;for(var u in i)if(i.hasOwnProperty(u)){var c=i[u];u==="children"?typeof c=="string"?n.textContent!==c&&(i.suppressHydrationWarning!==!0&&cd(n.textContent,c,t),s=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&cd(n.textContent,c,t),s=["children",""+c]):bh.hasOwnProperty(u)&&c!=null&&u==="onScroll"&&ar("scroll",n)}switch(r){case"input":id(n),qb(n,i,!0);break;case"textarea":id(n),Kb(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=k0)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{u=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=E5(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=u.createElement(r,{is:n.is}):(t=u.createElement(r),r==="select"&&(u=t,n.multiple?u.multiple=!0:n.size&&(u.size=n.size))):t=u.createElementNS(t,r),t[$i]=e,t[Ch]=n,GE(t,e,!1,!1),e.stateNode=t;e:{switch(u=M1(r,n),r){case"dialog":ar("cancel",t),ar("close",t),s=n;break;case"iframe":case"object":case"embed":ar("load",t),s=n;break;case"video":case"audio":for(s=0;s<zf.length;s++)ar(zf[s],t);s=n;break;case"source":ar("error",t),s=n;break;case"img":case"image":case"link":ar("error",t),ar("load",t),s=n;break;case"details":ar("toggle",t),s=n;break;case"input":$b(t,n),s=g1(t,n),ar("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=gr({},n,{value:void 0}),ar("invalid",t);break;case"textarea":Hb(t,n),s=_1(t,n),ar("invalid",t);break;default:s=n}x1(r,s),c=s;for(i in c)if(c.hasOwnProperty(i)){var v=c[i];i==="style"?A5(t,v):i==="dangerouslySetInnerHTML"?(v=v?v.__html:void 0,v!=null&&S5(t,v)):i==="children"?typeof v=="string"?(r!=="textarea"||v!=="")&&xh(t,v):typeof v=="number"&&xh(t,""+v):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(bh.hasOwnProperty(i)?v!=null&&i==="onScroll"&&ar("scroll",t):v!=null&&k2(t,i,v,u))}switch(r){case"input":id(t),qb(t,n,!1);break;case"textarea":id(t),Kb(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ko(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Vl(t,!!n.multiple,i,!1):n.defaultValue!=null&&Vl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=k0)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tn(e),null;case 6:if(t&&e.stateNode!=null)QE(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Ke(166));if(r=ga(Nh.current),ga(Zi.current),dd(e)){if(n=e.stateNode,r=e.memoizedProps,n[$i]=e,(i=n.nodeValue!==r)&&(t=zn,t!==null))switch(t.tag){case 3:cd(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&cd(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[$i]=e,e.stateNode=n}return tn(e),null;case 13:if(lr(dr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(hr&&Un!==null&&e.mode&1&&!(e.flags&128))pE(),Xl(),e.flags|=98560,i=!1;else if(i=dd(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(Ke(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ke(317));i[$i]=e}else Xl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tn(e),i=!1}else xi!==null&&(ny(xi),xi=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||dr.current&1?Br===0&&(Br=3):cw())),e.updateQueue!==null&&(e.flags|=4),tn(e),null);case 4:return tu(),Z1(t,e),t===null&&Rh(e.stateNode.containerInfo),tn(e),null;case 10:return Z2(e.type._context),tn(e),null;case 17:return kn(e.type)&&C0(),tn(e),null;case 19:if(lr(dr),i=e.memoizedState,i===null)return tn(e),null;if(n=(e.flags&128)!==0,u=i.rendering,u===null)if(n)mf(i,!1);else{if(Br!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(u=F0(t),u!==null){for(e.flags|=128,mf(i,!1),n=u.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,u=i.alternate,u===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,t=u.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return nr(dr,dr.current&1|2),e.child}t=t.sibling}i.tail!==null&&xr()>nu&&(e.flags|=128,n=!0,mf(i,!1),e.lanes=4194304)}else{if(!n)if(t=F0(u),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),mf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!u.alternate&&!hr)return tn(e),null}else 2*xr()-i.renderingStartTime>nu&&r!==1073741824&&(e.flags|=128,n=!0,mf(i,!1),e.lanes=4194304);i.isBackwards?(u.sibling=e.child,e.child=u):(r=i.last,r!==null?r.sibling=u:e.child=u,i.last=u)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=xr(),e.sibling=null,r=dr.current,nr(dr,n?r&1|2:r&1),e):(tn(e),null);case 22:case 23:return hw(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Ln&1073741824&&(tn(e),e.subtreeFlags&6&&(e.flags|=8192)):tn(e),null;case 24:return null;case 25:return null}throw Error(Ke(156,e.tag))}function jC(t,e){switch(H2(e),e.tag){case 1:return kn(e.type)&&C0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return tu(),lr(Rn),lr(dn),ew(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return X2(e),null;case 13:if(lr(dr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ke(340));Xl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return lr(dr),null;case 4:return tu(),null;case 10:return Z2(e.type._context),null;case 22:case 23:return hw(),null;case 24:return null;default:return null}}var vd=!1,un=!1,zC=typeof WeakSet=="function"?WeakSet:Set,ot=null;function Ol(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){wr(t,e,n)}else r.current=null}function Q1(t,e,r){try{r()}catch(n){wr(t,e,n)}}var Dx=!1;function $C(t,e){if(N1=A0,t=tE(),$2(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var u=0,c=-1,v=-1,b=0,w=0,x=t,E=null;t:for(;;){for(var A;x!==r||s!==0&&x.nodeType!==3||(c=u+s),x!==i||n!==0&&x.nodeType!==3||(v=u+n),x.nodeType===3&&(u+=x.nodeValue.length),(A=x.firstChild)!==null;)E=x,x=A;for(;;){if(x===t)break t;if(E===r&&++b===s&&(c=u),E===i&&++w===n&&(v=u),(A=x.nextSibling)!==null)break;x=E,E=x.parentNode}x=A}r=c===-1||v===-1?null:{start:c,end:v}}else r=null}r=r||{start:0,end:0}}else r=null;for(B1={focusedElem:t,selectionRange:r},A0=!1,ot=e;ot!==null;)if(e=ot,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ot=t;else for(;ot!==null;){e=ot;try{var N=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var D=N.memoizedProps,W=N.memoizedState,P=e.stateNode,C=P.getSnapshotBeforeUpdate(e.elementType===e.type?D:yi(e.type,D),W);P.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var z=e.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ke(163))}}catch(K){wr(e,e.return,K)}if(t=e.sibling,t!==null){t.return=e.return,ot=t;break}ot=e.return}return N=Dx,Dx=!1,N}function ih(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Q1(e,r,i)}s=s.next}while(s!==n)}}function Up(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Y1(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function YE(t){var e=t.alternate;e!==null&&(t.alternate=null,YE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$i],delete e[Ch],delete e[L1],delete e[SC],delete e[IC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function JE(t){return t.tag===5||t.tag===3||t.tag===4}function Ox(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||JE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function J1(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=k0));else if(n!==4&&(t=t.child,t!==null))for(J1(t,e,r),t=t.sibling;t!==null;)J1(t,e,r),t=t.sibling}function X1(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(X1(t,e,r),t=t.sibling;t!==null;)X1(t,e,r),t=t.sibling}var Kr=null,wi=!1;function Gs(t,e,r){for(r=r.child;r!==null;)XE(t,e,r),r=r.sibling}function XE(t,e,r){if(Gi&&typeof Gi.onCommitFiberUnmount=="function")try{Gi.onCommitFiberUnmount(Pp,r)}catch{}switch(r.tag){case 5:un||Ol(r,e);case 6:var n=Kr,s=wi;Kr=null,Gs(t,e,r),Kr=n,wi=s,Kr!==null&&(wi?(t=Kr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Kr.removeChild(r.stateNode));break;case 18:Kr!==null&&(wi?(t=Kr,r=r.stateNode,t.nodeType===8?Pv(t.parentNode,r):t.nodeType===1&&Pv(t,r),Ih(t)):Pv(Kr,r.stateNode));break;case 4:n=Kr,s=wi,Kr=r.stateNode.containerInfo,wi=!0,Gs(t,e,r),Kr=n,wi=s;break;case 0:case 11:case 14:case 15:if(!un&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,u=i.destroy;i=i.tag,u!==void 0&&(i&2||i&4)&&Q1(r,e,u),s=s.next}while(s!==n)}Gs(t,e,r);break;case 1:if(!un&&(Ol(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){wr(r,e,c)}Gs(t,e,r);break;case 21:Gs(t,e,r);break;case 22:r.mode&1?(un=(n=un)||r.memoizedState!==null,Gs(t,e,r),un=n):Gs(t,e,r);break;default:Gs(t,e,r)}}function Lx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new zC),e.forEach(function(n){var s=JC.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function vi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,u=e,c=u;e:for(;c!==null;){switch(c.tag){case 5:Kr=c.stateNode,wi=!1;break e;case 3:Kr=c.stateNode.containerInfo,wi=!0;break e;case 4:Kr=c.stateNode.containerInfo,wi=!0;break e}c=c.return}if(Kr===null)throw Error(Ke(160));XE(i,u,s),Kr=null,wi=!1;var v=s.alternate;v!==null&&(v.return=null),s.return=null}catch(b){wr(s,e,b)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)e8(e,t),e=e.sibling}function e8(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vi(e,t),Di(t),n&4){try{ih(3,t,t.return),Up(3,t)}catch(D){wr(t,t.return,D)}try{ih(5,t,t.return)}catch(D){wr(t,t.return,D)}}break;case 1:vi(e,t),Di(t),n&512&&r!==null&&Ol(r,r.return);break;case 5:if(vi(e,t),Di(t),n&512&&r!==null&&Ol(r,r.return),t.flags&32){var s=t.stateNode;try{xh(s,"")}catch(D){wr(t,t.return,D)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,u=r!==null?r.memoizedProps:i,c=t.type,v=t.updateQueue;if(t.updateQueue=null,v!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&x5(s,i),M1(c,u);var b=M1(c,i);for(u=0;u<v.length;u+=2){var w=v[u],x=v[u+1];w==="style"?A5(s,x):w==="dangerouslySetInnerHTML"?S5(s,x):w==="children"?xh(s,x):k2(s,w,x,b)}switch(c){case"input":y1(s,i);break;case"textarea":M5(s,i);break;case"select":var E=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var A=i.value;A!=null?Vl(s,!!i.multiple,A,!1):E!==!!i.multiple&&(i.defaultValue!=null?Vl(s,!!i.multiple,i.defaultValue,!0):Vl(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ch]=i}catch(D){wr(t,t.return,D)}}break;case 6:if(vi(e,t),Di(t),n&4){if(t.stateNode===null)throw Error(Ke(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(D){wr(t,t.return,D)}}break;case 3:if(vi(e,t),Di(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ih(e.containerInfo)}catch(D){wr(t,t.return,D)}break;case 4:vi(e,t),Di(t);break;case 13:vi(e,t),Di(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(uw=xr())),n&4&&Lx(t);break;case 22:if(w=r!==null&&r.memoizedState!==null,t.mode&1?(un=(b=un)||w,vi(e,t),un=b):vi(e,t),Di(t),n&8192){if(b=t.memoizedState!==null,(t.stateNode.isHidden=b)&&!w&&t.mode&1)for(ot=t,w=t.child;w!==null;){for(x=ot=w;ot!==null;){switch(E=ot,A=E.child,E.tag){case 0:case 11:case 14:case 15:ih(4,E,E.return);break;case 1:Ol(E,E.return);var N=E.stateNode;if(typeof N.componentWillUnmount=="function"){n=E,r=E.return;try{e=n,N.props=e.memoizedProps,N.state=e.memoizedState,N.componentWillUnmount()}catch(D){wr(n,r,D)}}break;case 5:Ol(E,E.return);break;case 22:if(E.memoizedState!==null){Vx(x);continue}}A!==null?(A.return=E,ot=A):Vx(x)}w=w.sibling}e:for(w=null,x=t;;){if(x.tag===5){if(w===null){w=x;try{s=x.stateNode,b?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=x.stateNode,v=x.memoizedProps.style,u=v!=null&&v.hasOwnProperty("display")?v.display:null,c.style.display=I5("display",u))}catch(D){wr(t,t.return,D)}}}else if(x.tag===6){if(w===null)try{x.stateNode.nodeValue=b?"":x.memoizedProps}catch(D){wr(t,t.return,D)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===t)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===t)break e;for(;x.sibling===null;){if(x.return===null||x.return===t)break e;w===x&&(w=null),x=x.return}w===x&&(w=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:vi(e,t),Di(t),n&4&&Lx(t);break;case 21:break;default:vi(e,t),Di(t)}}function Di(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(JE(r)){var n=r;break e}r=r.return}throw Error(Ke(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(xh(s,""),n.flags&=-33);var i=Ox(t);X1(t,i,s);break;case 3:case 4:var u=n.stateNode.containerInfo,c=Ox(t);J1(t,c,u);break;default:throw Error(Ke(161))}}catch(v){wr(t,t.return,v)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qC(t,e,r){ot=t,t8(t)}function t8(t,e,r){for(var n=(t.mode&1)!==0;ot!==null;){var s=ot,i=s.child;if(s.tag===22&&n){var u=s.memoizedState!==null||vd;if(!u){var c=s.alternate,v=c!==null&&c.memoizedState!==null||un;c=vd;var b=un;if(vd=u,(un=v)&&!b)for(ot=s;ot!==null;)u=ot,v=u.child,u.tag===22&&u.memoizedState!==null?Ux(s):v!==null?(v.return=u,ot=v):Ux(s);for(;i!==null;)ot=i,t8(i),i=i.sibling;ot=s,vd=c,un=b}Fx(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ot=i):Fx(t)}}function Fx(t){for(;ot!==null;){var e=ot;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:un||Up(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!un)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:yi(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&xx(e,i,n);break;case 3:var u=e.updateQueue;if(u!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}xx(e,u,r)}break;case 5:var c=e.stateNode;if(r===null&&e.flags&4){r=c;var v=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":v.autoFocus&&r.focus();break;case"img":v.src&&(r.src=v.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var b=e.alternate;if(b!==null){var w=b.memoizedState;if(w!==null){var x=w.dehydrated;x!==null&&Ih(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ke(163))}un||e.flags&512&&Y1(e)}catch(E){wr(e,e.return,E)}}if(e===t){ot=null;break}if(r=e.sibling,r!==null){r.return=e.return,ot=r;break}ot=e.return}}function Vx(t){for(;ot!==null;){var e=ot;if(e===t){ot=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ot=r;break}ot=e.return}}function Ux(t){for(;ot!==null;){var e=ot;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Up(4,e)}catch(v){wr(e,r,v)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(v){wr(e,s,v)}}var i=e.return;try{Y1(e)}catch(v){wr(e,i,v)}break;case 5:var u=e.return;try{Y1(e)}catch(v){wr(e,u,v)}}}catch(v){wr(e,e.return,v)}if(e===t){ot=null;break}var c=e.sibling;if(c!==null){c.return=e.return,ot=c;break}ot=e.return}}var HC=Math.ceil,j0=Ls.ReactCurrentDispatcher,aw=Ls.ReactCurrentOwner,ni=Ls.ReactCurrentBatchConfig,Ht=0,jr=null,Ar=null,Zr=0,Ln=0,Ll=Fo(0),Br=0,Lh=null,Pa=0,jp=0,lw=0,sh=null,In=null,uw=0,nu=1/0,ps=null,z0=!1,ey=null,_o=null,gd=!1,fo=null,$0=0,oh=0,ty=null,Xd=-1,e0=0;function yn(){return Ht&6?xr():Xd!==-1?Xd:Xd=xr()}function bo(t){return t.mode&1?Ht&2&&Zr!==0?Zr&-Zr:TC.transition!==null?(e0===0&&(e0=V5()),e0):(t=Yt,t!==0||(t=window.event,t=t===void 0?16:K5(t.type)),t):1}function Ii(t,e,r,n){if(50<oh)throw oh=0,ty=null,Error(Ke(185));uc(t,r,n),(!(Ht&2)||t!==jr)&&(t===jr&&(!(Ht&2)&&(jp|=r),Br===4&&ao(t,Zr)),Cn(t,n),r===1&&Ht===0&&!(e.mode&1)&&(nu=xr()+500,Lp&&Vo()))}function Cn(t,e){var r=t.callbackNode;Tk(t,e);var n=I0(t,t===jr?Zr:0);if(n===0)r!==null&&Zb(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Zb(r),e===1)t.tag===0?AC(jx.bind(null,t)):hE(jx.bind(null,t)),MC(function(){!(Ht&6)&&Vo()}),r=null;else{switch(U5(n)){case 1:r=D2;break;case 4:r=L5;break;case 16:r=S0;break;case 536870912:r=F5;break;default:r=S0}r=u8(r,r8.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function r8(t,e){if(Xd=-1,e0=0,Ht&6)throw Error(Ke(327));var r=t.callbackNode;if(ql()&&t.callbackNode!==r)return null;var n=I0(t,t===jr?Zr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=q0(t,n);else{e=n;var s=Ht;Ht|=2;var i=i8();(jr!==t||Zr!==e)&&(ps=null,nu=xr()+500,Ma(t,e));do try{GC();break}catch(c){n8(t,c)}while(!0);G2(),j0.current=i,Ht=s,Ar!==null?e=0:(jr=null,Zr=0,e=Br)}if(e!==0){if(e===2&&(s=T1(t),s!==0&&(n=s,e=ry(t,s))),e===1)throw r=Lh,Ma(t,0),ao(t,n),Cn(t,xr()),r;if(e===6)ao(t,n);else{if(s=t.current.alternate,!(n&30)&&!KC(s)&&(e=q0(t,n),e===2&&(i=T1(t),i!==0&&(n=i,e=ry(t,i))),e===1))throw r=Lh,Ma(t,0),ao(t,n),Cn(t,xr()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(Ke(345));case 2:na(t,In,ps);break;case 3:if(ao(t,n),(n&130023424)===n&&(e=uw+500-xr(),10<e)){if(I0(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){yn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=O1(na.bind(null,t,In,ps),e);break}na(t,In,ps);break;case 4:if(ao(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var u=31-Si(n);i=1<<u,u=e[u],u>s&&(s=u),n&=~i}if(n=s,n=xr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*HC(n/1960))-n,10<n){t.timeoutHandle=O1(na.bind(null,t,In,ps),n);break}na(t,In,ps);break;case 5:na(t,In,ps);break;default:throw Error(Ke(329))}}}return Cn(t,xr()),t.callbackNode===r?r8.bind(null,t):null}function ry(t,e){var r=sh;return t.current.memoizedState.isDehydrated&&(Ma(t,e).flags|=256),t=q0(t,e),t!==2&&(e=In,In=r,e!==null&&ny(e)),t}function ny(t){In===null?In=t:In.push.apply(In,t)}function KC(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Ai(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ao(t,e){for(e&=~lw,e&=~jp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Si(e),n=1<<r;t[r]=-1,e&=~n}}function jx(t){if(Ht&6)throw Error(Ke(327));ql();var e=I0(t,0);if(!(e&1))return Cn(t,xr()),null;var r=q0(t,e);if(t.tag!==0&&r===2){var n=T1(t);n!==0&&(e=n,r=ry(t,n))}if(r===1)throw r=Lh,Ma(t,0),ao(t,e),Cn(t,xr()),r;if(r===6)throw Error(Ke(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,na(t,In,ps),Cn(t,xr()),null}function fw(t,e){var r=Ht;Ht|=1;try{return t(e)}finally{Ht=r,Ht===0&&(nu=xr()+500,Lp&&Vo())}}function Na(t){fo!==null&&fo.tag===0&&!(Ht&6)&&ql();var e=Ht;Ht|=1;var r=ni.transition,n=Yt;try{if(ni.transition=null,Yt=1,t)return t()}finally{Yt=n,ni.transition=r,Ht=e,!(Ht&6)&&Vo()}}function hw(){Ln=Ll.current,lr(Ll)}function Ma(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,xC(r)),Ar!==null)for(r=Ar.return;r!==null;){var n=r;switch(H2(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&C0();break;case 3:tu(),lr(Rn),lr(dn),ew();break;case 5:X2(n);break;case 4:tu();break;case 13:lr(dr);break;case 19:lr(dr);break;case 10:Z2(n.type._context);break;case 22:case 23:hw()}r=r.return}if(jr=t,Ar=t=xo(t.current,null),Zr=Ln=e,Br=0,Lh=null,lw=jp=Pa=0,In=sh=null,va!==null){for(e=0;e<va.length;e++)if(r=va[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var u=i.next;i.next=s,n.next=u}r.pending=n}va=null}return t}function n8(t,e){do{var r=Ar;try{if(G2(),Qd.current=U0,V0){for(var n=vr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}V0=!1}if(Ca=0,Fr=Cr=vr=null,nh=!1,Bh=0,aw.current=null,r===null||r.return===null){Br=1,Lh=e,Ar=null;break}e:{var i=t,u=r.return,c=r,v=e;if(e=Zr,c.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){var b=v,w=c,x=w.tag;if(!(w.mode&1)&&(x===0||x===11||x===15)){var E=w.alternate;E?(w.updateQueue=E.updateQueue,w.memoizedState=E.memoizedState,w.lanes=E.lanes):(w.updateQueue=null,w.memoizedState=null)}var A=Tx(u);if(A!==null){A.flags&=-257,Rx(A,u,c,i,e),A.mode&1&&Ax(i,b,e),e=A,v=b;var N=e.updateQueue;if(N===null){var D=new Set;D.add(v),e.updateQueue=D}else N.add(v);break e}else{if(!(e&1)){Ax(i,b,e),cw();break e}v=Error(Ke(426))}}else if(hr&&c.mode&1){var W=Tx(u);if(W!==null){!(W.flags&65536)&&(W.flags|=256),Rx(W,u,c,i,e),K2(ru(v,c));break e}}i=v=ru(v,c),Br!==4&&(Br=2),sh===null?sh=[i]:sh.push(i),i=u;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var P=UE(i,v,e);bx(i,P);break e;case 1:c=v;var C=i.type,z=i.stateNode;if(!(i.flags&128)&&(typeof C.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(_o===null||!_o.has(z)))){i.flags|=65536,e&=-e,i.lanes|=e;var K=jE(i,c,e);bx(i,K);break e}}i=i.return}while(i!==null)}o8(r)}catch(ne){e=ne,Ar===r&&r!==null&&(Ar=r=r.return);continue}break}while(!0)}function i8(){var t=j0.current;return j0.current=U0,t===null?U0:t}function cw(){(Br===0||Br===3||Br===2)&&(Br=4),jr===null||!(Pa&268435455)&&!(jp&268435455)||ao(jr,Zr)}function q0(t,e){var r=Ht;Ht|=2;var n=i8();(jr!==t||Zr!==e)&&(ps=null,Ma(t,e));do try{WC();break}catch(s){n8(t,s)}while(!0);if(G2(),Ht=r,j0.current=n,Ar!==null)throw Error(Ke(261));return jr=null,Zr=0,Br}function WC(){for(;Ar!==null;)s8(Ar)}function GC(){for(;Ar!==null&&!wk();)s8(Ar)}function s8(t){var e=l8(t.alternate,t,Ln);t.memoizedProps=t.pendingProps,e===null?o8(t):Ar=e,aw.current=null}function o8(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=jC(r,e),r!==null){r.flags&=32767,Ar=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Br=6,Ar=null;return}}else if(r=UC(r,e,Ln),r!==null){Ar=r;return}if(e=e.sibling,e!==null){Ar=e;return}Ar=e=t}while(e!==null);Br===0&&(Br=5)}function na(t,e,r){var n=Yt,s=ni.transition;try{ni.transition=null,Yt=1,ZC(t,e,r,n)}finally{ni.transition=s,Yt=n}return null}function ZC(t,e,r,n){do ql();while(fo!==null);if(Ht&6)throw Error(Ke(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Ke(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Rk(t,i),t===jr&&(Ar=jr=null,Zr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||gd||(gd=!0,u8(S0,function(){return ql(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ni.transition,ni.transition=null;var u=Yt;Yt=1;var c=Ht;Ht|=4,aw.current=null,$C(t,r),e8(r,t),mC(B1),A0=!!N1,B1=N1=null,t.current=r,qC(r),_k(),Ht=c,Yt=u,ni.transition=i}else t.current=r;if(gd&&(gd=!1,fo=t,$0=s),i=t.pendingLanes,i===0&&(_o=null),Mk(r.stateNode),Cn(t,xr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(z0)throw z0=!1,t=ey,ey=null,t;return $0&1&&t.tag!==0&&ql(),i=t.pendingLanes,i&1?t===ty?oh++:(oh=0,ty=t):oh=0,Vo(),null}function ql(){if(fo!==null){var t=U5($0),e=ni.transition,r=Yt;try{if(ni.transition=null,Yt=16>t?16:t,fo===null)var n=!1;else{if(t=fo,fo=null,$0=0,Ht&6)throw Error(Ke(331));var s=Ht;for(Ht|=4,ot=t.current;ot!==null;){var i=ot,u=i.child;if(ot.flags&16){var c=i.deletions;if(c!==null){for(var v=0;v<c.length;v++){var b=c[v];for(ot=b;ot!==null;){var w=ot;switch(w.tag){case 0:case 11:case 15:ih(8,w,i)}var x=w.child;if(x!==null)x.return=w,ot=x;else for(;ot!==null;){w=ot;var E=w.sibling,A=w.return;if(YE(w),w===b){ot=null;break}if(E!==null){E.return=A,ot=E;break}ot=A}}}var N=i.alternate;if(N!==null){var D=N.child;if(D!==null){N.child=null;do{var W=D.sibling;D.sibling=null,D=W}while(D!==null)}}ot=i}}if(i.subtreeFlags&2064&&u!==null)u.return=i,ot=u;else e:for(;ot!==null;){if(i=ot,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ih(9,i,i.return)}var P=i.sibling;if(P!==null){P.return=i.return,ot=P;break e}ot=i.return}}var C=t.current;for(ot=C;ot!==null;){u=ot;var z=u.child;if(u.subtreeFlags&2064&&z!==null)z.return=u,ot=z;else e:for(u=C;ot!==null;){if(c=ot,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Up(9,c)}}catch(ne){wr(c,c.return,ne)}if(c===u){ot=null;break e}var K=c.sibling;if(K!==null){K.return=c.return,ot=K;break e}ot=c.return}}if(Ht=s,Vo(),Gi&&typeof Gi.onPostCommitFiberRoot=="function")try{Gi.onPostCommitFiberRoot(Pp,t)}catch{}n=!0}return n}finally{Yt=r,ni.transition=e}}return!1}function zx(t,e,r){e=ru(r,e),e=UE(t,e,1),t=wo(t,e,1),e=yn(),t!==null&&(uc(t,1,e),Cn(t,e))}function wr(t,e,r){if(t.tag===3)zx(t,t,r);else for(;e!==null;){if(e.tag===3){zx(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(_o===null||!_o.has(n))){t=ru(r,t),t=jE(e,t,1),e=wo(e,t,1),t=yn(),e!==null&&(uc(e,1,t),Cn(e,t));break}}e=e.return}}function QC(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=yn(),t.pingedLanes|=t.suspendedLanes&r,jr===t&&(Zr&r)===r&&(Br===4||Br===3&&(Zr&130023424)===Zr&&500>xr()-uw?Ma(t,0):lw|=r),Cn(t,e)}function a8(t,e){e===0&&(t.mode&1?(e=ad,ad<<=1,!(ad&130023424)&&(ad=4194304)):e=1);var r=yn();t=As(t,e),t!==null&&(uc(t,e,r),Cn(t,r))}function YC(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),a8(t,r)}function JC(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Ke(314))}n!==null&&n.delete(e),a8(t,r)}var l8;l8=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Rn.current)An=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return An=!1,VC(t,e,r);An=!!(t.flags&131072)}else An=!1,hr&&e.flags&1048576&&cE(e,B0,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Jd(t,e),t=e.pendingProps;var s=Jl(e,dn.current);$l(e,r),s=rw(null,e,n,t,s,r);var i=nw();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,kn(n)?(i=!0,P0(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Y2(e),s.updater=Vp,e.stateNode=s,s._reactInternals=e,$1(e,n,t,r),e=K1(null,e,n,!0,i,r)):(e.tag=0,hr&&i&&q2(e),pn(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Jd(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=eP(n),t=yi(n,t),s){case 0:e=H1(null,e,n,t,r);break e;case 1:e=Px(null,e,n,t,r);break e;case 11:e=kx(null,e,n,t,r);break e;case 14:e=Cx(null,e,n,yi(n.type,t),r);break e}throw Error(Ke(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:yi(n,s),H1(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:yi(n,s),Px(t,e,n,s,r);case 3:e:{if(HE(e),t===null)throw Error(Ke(387));n=e.pendingProps,i=e.memoizedState,s=i.element,yE(t,e),L0(e,n,null,r);var u=e.memoizedState;if(n=u.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ru(Error(Ke(423)),e),e=Nx(t,e,n,r,s);break e}else if(n!==s){s=ru(Error(Ke(424)),e),e=Nx(t,e,n,r,s);break e}else for(Un=yo(e.stateNode.containerInfo.firstChild),zn=e,hr=!0,xi=null,r=vE(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Xl(),n===s){e=Ts(t,e,r);break e}pn(t,e,n,r)}e=e.child}return e;case 5:return wE(e),t===null&&U1(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,u=s.children,D1(n,s)?u=null:i!==null&&D1(n,i)&&(e.flags|=32),qE(t,e),pn(t,e,u,r),e.child;case 6:return t===null&&U1(e),null;case 13:return KE(t,e,r);case 4:return J2(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=eu(e,null,n,r):pn(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:yi(n,s),kx(t,e,n,s,r);case 7:return pn(t,e,e.pendingProps,r),e.child;case 8:return pn(t,e,e.pendingProps.children,r),e.child;case 12:return pn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,u=s.value,nr(D0,n._currentValue),n._currentValue=u,i!==null)if(Ai(i.value,u)){if(i.children===s.children&&!Rn.current){e=Ts(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var c=i.dependencies;if(c!==null){u=i.child;for(var v=c.firstContext;v!==null;){if(v.context===n){if(i.tag===1){v=xs(-1,r&-r),v.tag=2;var b=i.updateQueue;if(b!==null){b=b.shared;var w=b.pending;w===null?v.next=v:(v.next=w.next,w.next=v),b.pending=v}}i.lanes|=r,v=i.alternate,v!==null&&(v.lanes|=r),j1(i.return,r,e),c.lanes|=r;break}v=v.next}}else if(i.tag===10)u=i.type===e.type?null:i.child;else if(i.tag===18){if(u=i.return,u===null)throw Error(Ke(341));u.lanes|=r,c=u.alternate,c!==null&&(c.lanes|=r),j1(u,r,e),u=i.sibling}else u=i.child;if(u!==null)u.return=i;else for(u=i;u!==null;){if(u===e){u=null;break}if(i=u.sibling,i!==null){i.return=u.return,u=i;break}u=u.return}i=u}pn(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,$l(e,r),s=si(s),n=n(s),e.flags|=1,pn(t,e,n,r),e.child;case 14:return n=e.type,s=yi(n,e.pendingProps),s=yi(n.type,s),Cx(t,e,n,s,r);case 15:return zE(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:yi(n,s),Jd(t,e),e.tag=1,kn(n)?(t=!0,P0(e)):t=!1,$l(e,r),VE(e,n,s),$1(e,n,s,r),K1(null,e,n,!0,t,r);case 19:return WE(t,e,r);case 22:return $E(t,e,r)}throw Error(Ke(156,e.tag))};function u8(t,e){return O5(t,e)}function XC(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(t,e,r,n){return new XC(t,e,r,n)}function dw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function eP(t){if(typeof t=="function")return dw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===P2)return 11;if(t===N2)return 14}return 2}function xo(t,e){var r=t.alternate;return r===null?(r=ti(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function t0(t,e,r,n,s,i){var u=2;if(n=t,typeof t=="function")dw(t)&&(u=1);else if(typeof t=="string")u=5;else e:switch(t){case Al:return Ea(r.children,s,i,e);case C2:u=8,s|=8;break;case d1:return t=ti(12,r,e,s|2),t.elementType=d1,t.lanes=i,t;case p1:return t=ti(13,r,e,s),t.elementType=p1,t.lanes=i,t;case m1:return t=ti(19,r,e,s),t.elementType=m1,t.lanes=i,t;case w5:return zp(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case g5:u=10;break e;case y5:u=9;break e;case P2:u=11;break e;case N2:u=14;break e;case to:u=16,n=null;break e}throw Error(Ke(130,t==null?t:typeof t,""))}return e=ti(u,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Ea(t,e,r,n){return t=ti(7,t,n,e),t.lanes=r,t}function zp(t,e,r,n){return t=ti(22,t,n,e),t.elementType=w5,t.lanes=r,t.stateNode={isHidden:!1},t}function Uv(t,e,r){return t=ti(6,t,null,e),t.lanes=r,t}function jv(t,e,r){return e=ti(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function tP(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bv(0),this.expirationTimes=bv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bv(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function pw(t,e,r,n,s,i,u,c,v){return t=new tP(t,e,r,c,v),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ti(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Y2(i),t}function rP(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Il,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function f8(t){if(!t)return Co;t=t._reactInternals;e:{if(Ga(t)!==t||t.tag!==1)throw Error(Ke(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(kn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ke(171))}if(t.tag===1){var r=t.type;if(kn(r))return fE(t,r,e)}return e}function h8(t,e,r,n,s,i,u,c,v){return t=pw(r,n,!0,t,s,i,u,c,v),t.context=f8(null),r=t.current,n=yn(),s=bo(r),i=xs(n,s),i.callback=e??null,wo(r,i,s),t.current.lanes=s,uc(t,s,n),Cn(t,n),t}function $p(t,e,r,n){var s=e.current,i=yn(),u=bo(s);return r=f8(r),e.context===null?e.context=r:e.pendingContext=r,e=xs(i,u),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=wo(s,e,u),t!==null&&(Ii(t,s,u,i),Zd(t,s,u)),u}function H0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $x(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function mw(t,e){$x(t,e),(t=t.alternate)&&$x(t,e)}function nP(){return null}var c8=typeof reportError=="function"?reportError:function(t){console.error(t)};function vw(t){this._internalRoot=t}qp.prototype.render=vw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ke(409));$p(t,e,null,null)};qp.prototype.unmount=vw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Na(function(){$p(null,t,null,null)}),e[Is]=null}};function qp(t){this._internalRoot=t}qp.prototype.unstable_scheduleHydration=function(t){if(t){var e=$5();t={blockedOn:null,target:t,priority:e};for(var r=0;r<oo.length&&e!==0&&e<oo[r].priority;r++);oo.splice(r,0,t),r===0&&H5(t)}};function gw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qx(){}function iP(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var b=H0(u);i.call(b)}}var u=h8(e,n,t,0,null,!1,!1,"",qx);return t._reactRootContainer=u,t[Is]=u.current,Rh(t.nodeType===8?t.parentNode:t),Na(),u}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var c=n;n=function(){var b=H0(v);c.call(b)}}var v=pw(t,0,!1,null,null,!1,!1,"",qx);return t._reactRootContainer=v,t[Is]=v.current,Rh(t.nodeType===8?t.parentNode:t),Na(function(){$p(e,v,r,n)}),v}function Kp(t,e,r,n,s){var i=r._reactRootContainer;if(i){var u=i;if(typeof s=="function"){var c=s;s=function(){var v=H0(u);c.call(v)}}$p(e,u,t,s)}else u=iP(r,e,t,s,n);return H0(u)}j5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=jf(e.pendingLanes);r!==0&&(O2(e,r|1),Cn(e,xr()),!(Ht&6)&&(nu=xr()+500,Vo()))}break;case 13:Na(function(){var n=As(t,1);if(n!==null){var s=yn();Ii(n,t,1,s)}}),mw(t,1)}};L2=function(t){if(t.tag===13){var e=As(t,134217728);if(e!==null){var r=yn();Ii(e,t,134217728,r)}mw(t,134217728)}};z5=function(t){if(t.tag===13){var e=bo(t),r=As(t,e);if(r!==null){var n=yn();Ii(r,t,e,n)}mw(t,e)}};$5=function(){return Yt};q5=function(t,e){var r=Yt;try{return Yt=t,e()}finally{Yt=r}};S1=function(t,e,r){switch(e){case"input":if(y1(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Op(n);if(!s)throw Error(Ke(90));b5(n),y1(n,s)}}}break;case"textarea":M5(t,r);break;case"select":e=r.value,e!=null&&Vl(t,!!r.multiple,e,!1)}};k5=fw;C5=Na;var sP={usingClientEntryPoint:!1,Events:[hc,Cl,Op,T5,R5,fw]},vf={findFiberByHostInstance:ma,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oP={bundleType:vf.bundleType,version:vf.version,rendererPackageName:vf.rendererPackageName,rendererConfig:vf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ls.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=B5(t),t===null?null:t.stateNode},findFiberByHostInstance:vf.findFiberByHostInstance||nP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yd.isDisabled&&yd.supportsFiber)try{Pp=yd.inject(oP),Gi=yd}catch{}}Kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sP;Kn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gw(e))throw Error(Ke(200));return rP(t,e,null,r)};Kn.createRoot=function(t,e){if(!gw(t))throw Error(Ke(299));var r=!1,n="",s=c8;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=pw(t,1,!1,null,null,r,!1,n,s),t[Is]=e.current,Rh(t.nodeType===8?t.parentNode:t),new vw(e)};Kn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ke(188)):(t=Object.keys(t).join(","),Error(Ke(268,t)));return t=B5(e),t=t===null?null:t.stateNode,t};Kn.flushSync=function(t){return Na(t)};Kn.hydrate=function(t,e,r){if(!Hp(e))throw Error(Ke(200));return Kp(null,t,e,!0,r)};Kn.hydrateRoot=function(t,e,r){if(!gw(t))throw Error(Ke(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",u=c8;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(u=r.onRecoverableError)),e=h8(e,null,t,1,r??null,s,!1,i,u),t[Is]=e.current,Rh(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new qp(e)};Kn.render=function(t,e,r){if(!Hp(e))throw Error(Ke(200));return Kp(null,t,e,!1,r)};Kn.unmountComponentAtNode=function(t){if(!Hp(t))throw Error(Ke(40));return t._reactRootContainer?(Na(function(){Kp(null,null,t,!1,function(){t._reactRootContainer=null,t[Is]=null})}),!0):!1};Kn.unstable_batchedUpdates=fw;Kn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Hp(r))throw Error(Ke(200));if(t==null||t._reactInternals===void 0)throw Error(Ke(38));return Kp(t,e,r,!1,n)};Kn.version="18.3.1-next-f1338f8080-20240426";function d8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d8)}catch(t){console.error(t)}}d8(),d5.exports=Kn;var Wp=d5.exports;const aP=e5(Wp),lP=XM({__proto__:null,default:aP},[Wp]);var Hx=Wp;h1.createRoot=Hx.createRoot,h1.hydrateRoot=Hx.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ur(){return ur=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ur.apply(this,arguments)}var Ir;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ir||(Ir={}));const Kx="popstate";function uP(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:u,hash:c}=n.location;return Fh("",{pathname:i,search:u,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Ba(s)}return hP(e,r,null,t)}function Bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function iu(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fP(){return Math.random().toString(36).substr(2,8)}function Wx(t,e){return{usr:t.state,key:t.key,idx:e}}function Fh(t,e,r,n){return r===void 0&&(r=null),ur({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Uo(e):e,{state:r,key:e&&e.key||n||fP()})}function Ba(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Uo(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function hP(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,u=s.history,c=Ir.Pop,v=null,b=w();b==null&&(b=0,u.replaceState(ur({},u.state,{idx:b}),""));function w(){return(u.state||{idx:null}).idx}function x(){c=Ir.Pop;let W=w(),P=W==null?null:W-b;b=W,v&&v({action:c,location:D.location,delta:P})}function E(W,P){c=Ir.Push;let C=Fh(D.location,W,P);b=w()+1;let z=Wx(C,b),K=D.createHref(C);try{u.pushState(z,"",K)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;s.location.assign(K)}i&&v&&v({action:c,location:D.location,delta:1})}function A(W,P){c=Ir.Replace;let C=Fh(D.location,W,P);b=w();let z=Wx(C,b),K=D.createHref(C);u.replaceState(z,"",K),i&&v&&v({action:c,location:D.location,delta:0})}function N(W){let P=s.location.origin!=="null"?s.location.origin:s.location.href,C=typeof W=="string"?W:Ba(W);return C=C.replace(/ $/,"%20"),Bt(P,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,P)}let D={get action(){return c},get location(){return t(s,u)},listen(W){if(v)throw new Error("A history only accepts one active listener");return s.addEventListener(Kx,x),v=W,()=>{s.removeEventListener(Kx,x),v=null}},createHref(W){return e(s,W)},createURL:N,encodeLocation(W){let P=N(W);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:E,replace:A,go(W){return u.go(W)}};return D}var Zt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Zt||(Zt={}));const cP=new Set(["lazy","caseSensitive","path","id","index","children"]);function dP(t){return t.index===!0}function K0(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((s,i)=>{let u=[...r,String(i)],c=typeof s.id=="string"?s.id:u.join("-");if(Bt(s.index!==!0||!s.children,"Cannot specify children on an index route"),Bt(!n[c],'Found a route id collision on id "'+c+`".  Route id's must be globally unique within Data Router usages`),dP(s)){let v=ur({},s,e(s),{id:c});return n[c]=v,v}else{let v=ur({},s,e(s),{id:c,children:void 0});return n[c]=v,s.children&&(v.children=K0(s.children,e,u,n)),v}})}function aa(t,e,r){return r===void 0&&(r="/"),r0(t,e,r,!1)}function r0(t,e,r,n){let s=typeof e=="string"?Uo(e):e,i=Ou(s.pathname||"/",r);if(i==null)return null;let u=p8(t);mP(u);let c=null;for(let v=0;c==null&&v<u.length;++v){let b=IP(i);c=EP(u[v],b,n)}return c}function pP(t,e){let{route:r,pathname:n,params:s}=t;return{id:r.id,pathname:n,params:s,data:e[r.id],handle:r.handle}}function p8(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,u,c)=>{let v={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:u,route:i};v.relativePath.startsWith("/")&&(Bt(v.relativePath.startsWith(n),'Absolute route path "'+v.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),v.relativePath=v.relativePath.slice(n.length));let b=Ms([n,v.relativePath]),w=r.concat(v);i.children&&i.children.length>0&&(Bt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+b+'".')),p8(i.children,e,w,b)),!(i.path==null&&!i.index)&&e.push({path:b,score:xP(b,i.index),routesMeta:w})};return t.forEach((i,u)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))s(i,u);else for(let v of m8(i.path))s(i,u,v)}),e}function m8(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let u=m8(n.join("/")),c=[];return c.push(...u.map(v=>v===""?i:[i,v].join("/"))),s&&c.push(...u),c.map(v=>t.startsWith("/")&&v===""?"/":v)}function mP(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:MP(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const vP=/^:[\w-]+$/,gP=3,yP=2,wP=1,_P=10,bP=-2,Gx=t=>t==="*";function xP(t,e){let r=t.split("/"),n=r.length;return r.some(Gx)&&(n+=bP),e&&(n+=yP),r.filter(s=>!Gx(s)).reduce((s,i)=>s+(vP.test(i)?gP:i===""?wP:_P),n)}function MP(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function EP(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,s={},i="/",u=[];for(let c=0;c<n.length;++c){let v=n[c],b=c===n.length-1,w=i==="/"?e:e.slice(i.length)||"/",x=Zx({path:v.relativePath,caseSensitive:v.caseSensitive,end:b},w),E=v.route;if(!x&&b&&r&&!n[n.length-1].route.index&&(x=Zx({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},w)),!x)return null;Object.assign(s,x.params),u.push({params:s,pathname:Ms([i,x.pathname]),pathnameBase:RP(Ms([i,x.pathnameBase])),route:E}),x.pathnameBase!=="/"&&(i=Ms([i,x.pathnameBase]))}return u}function Zx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=SP(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],u=i.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:n.reduce((b,w,x)=>{let{paramName:E,isOptional:A}=w;if(E==="*"){let D=c[x]||"";u=i.slice(0,i.length-D.length).replace(/(.)\/+$/,"$1")}const N=c[x];return A&&!N?b[E]=void 0:b[E]=(N||"").replace(/%2F/g,"/"),b},{}),pathname:i,pathnameBase:u,pattern:t}}function SP(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),iu(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,v)=>(n.push({paramName:c,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function IP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return iu(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ou(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function AP(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Uo(t):t;return{pathname:r?r.startsWith("/")?r:TP(r,e):e,search:kP(n),hash:CP(s)}}function TP(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function zv(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function v8(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Gp(t,e){let r=v8(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Zp(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Uo(t):(s=ur({},t),Bt(!s.pathname||!s.pathname.includes("?"),zv("?","pathname","search",s)),Bt(!s.pathname||!s.pathname.includes("#"),zv("#","pathname","hash",s)),Bt(!s.search||!s.search.includes("#"),zv("#","search","hash",s)));let i=t===""||s.pathname==="",u=i?"/":s.pathname,c;if(u==null)c=r;else{let x=e.length-1;if(!n&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),x-=1;s.pathname=E.join("/")}c=x>=0?e[x]:"/"}let v=AP(s,c),b=u&&u!=="/"&&u.endsWith("/"),w=(i||u===".")&&r.endsWith("/");return!v.pathname.endsWith("/")&&(b||w)&&(v.pathname+="/"),v}const Ms=t=>t.join("/").replace(/\/\/+/g,"/"),RP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),kP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,CP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class W0{constructor(e,r,n,s){s===void 0&&(s=!1),this.status=e,this.statusText=r||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function su(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const g8=["post","put","patch","delete"],PP=new Set(g8),NP=["get",...g8],BP=new Set(NP),DP=new Set([301,302,303,307,308]),OP=new Set([307,308]),$v={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},LP={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},gf={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},yw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FP=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),y8="remix-router-transitions";function VP(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;Bt(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let s;if(t.mapRouteProperties)s=t.mapRouteProperties;else if(t.detectErrorBoundary){let J=t.detectErrorBoundary;s=re=>({hasErrorBoundary:J(re)})}else s=FP;let i={},u=K0(t.routes,s,void 0,i),c,v=t.basename||"/",b=t.dataStrategy||$P,w=t.patchRoutesOnNavigation,x=ur({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),E=null,A=new Set,N=null,D=null,W=null,P=t.hydrationData!=null,C=aa(u,t.history.location,v),z=!1,K=null;if(C==null&&!w){let J=En(404,{pathname:t.history.location.pathname}),{matches:re,route:_e}=o3(u);C=re,K={[_e.id]:J}}C&&!t.hydrationData&&_t(C,u,t.history.location.pathname).active&&(C=null);let ne;if(C)if(C.some(J=>J.route.lazy))ne=!1;else if(!C.some(J=>J.route.loader))ne=!0;else if(x.v7_partialHydration){let J=t.hydrationData?t.hydrationData.loaderData:null,re=t.hydrationData?t.hydrationData.errors:null;if(re){let _e=C.findIndex(ae=>re[ae.route.id]!==void 0);ne=C.slice(0,_e+1).every(ae=>!sy(ae.route,J,re))}else ne=C.every(_e=>!sy(_e.route,J,re))}else ne=t.hydrationData!=null;else if(ne=!1,C=[],x.v7_partialHydration){let J=_t(null,u,t.history.location.pathname);J.active&&J.matches&&(z=!0,C=J.matches)}let ue,G={historyAction:t.history.action,location:t.history.location,matches:C,initialized:ne,navigation:$v,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||K,fetchers:new Map,blockers:new Map},q=Ir.Pop,j=!1,Q,g=!1,o=new Map,l=null,f=!1,h=!1,m=[],y=new Set,_=new Map,d=0,a=-1,p=new Map,S=new Set,B=new Map,Z=new Map,X=new Set,oe=new Map,H=new Map,ee;function se(){if(E=t.history.listen(J=>{let{action:re,location:_e,delta:ae}=J;if(ee){ee(),ee=void 0;return}iu(H.size===0||ae!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let me=Ce({currentLocation:G.location,nextLocation:_e,historyAction:re});if(me&&ae!=null){let $e=new Promise(ve=>{ee=ve});t.history.go(ae*-1),be(me,{state:"blocked",location:_e,proceed(){be(me,{state:"proceeding",proceed:void 0,reset:void 0,location:_e}),$e.then(()=>t.history.go(ae))},reset(){let ve=new Map(G.blockers);ve.set(me,gf),he({blockers:ve})}});return}return Se(re,_e)}),r){nN(e,o);let J=()=>iN(e,o);e.addEventListener("pagehide",J),l=()=>e.removeEventListener("pagehide",J)}return G.initialized||Se(Ir.Pop,G.location,{initialHydration:!0}),ue}function le(){E&&E(),l&&l(),A.clear(),Q&&Q.abort(),G.fetchers.forEach((J,re)=>I(re)),G.blockers.forEach((J,re)=>qe(re))}function Ge(J){return A.add(J),()=>A.delete(J)}function he(J,re){re===void 0&&(re={}),G=ur({},G,J);let _e=[],ae=[];x.v7_fetcherPersist&&G.fetchers.forEach((me,$e)=>{me.state==="idle"&&(X.has($e)?ae.push($e):_e.push($e))}),X.forEach(me=>{!G.fetchers.has(me)&&!_.has(me)&&ae.push(me)}),[...A].forEach(me=>me(G,{deletedFetchers:ae,viewTransitionOpts:re.viewTransitionOpts,flushSync:re.flushSync===!0})),x.v7_fetcherPersist?(_e.forEach(me=>G.fetchers.delete(me)),ae.forEach(me=>I(me))):ae.forEach(me=>X.delete(me))}function de(J,re,_e){var ae,me;let{flushSync:$e}=_e===void 0?{}:_e,ve=G.actionData!=null&&G.navigation.formMethod!=null&&_i(G.navigation.formMethod)&&G.navigation.state==="loading"&&((ae=J.state)==null?void 0:ae._isRedirect)!==!0,ye;re.actionData?Object.keys(re.actionData).length>0?ye=re.actionData:ye=null:ve?ye=G.actionData:ye=null;let ze=re.loaderData?i3(G.loaderData,re.loaderData,re.matches||[],re.errors):G.loaderData,ce=G.blockers;ce.size>0&&(ce=new Map(ce),ce.forEach((Ze,yt)=>ce.set(yt,gf)));let we=j===!0||G.navigation.formMethod!=null&&_i(G.navigation.formMethod)&&((me=J.state)==null?void 0:me._isRedirect)!==!0;c&&(u=c,c=void 0),f||q===Ir.Pop||(q===Ir.Push?t.history.push(J,J.state):q===Ir.Replace&&t.history.replace(J,J.state));let We;if(q===Ir.Pop){let Ze=o.get(G.location.pathname);Ze&&Ze.has(J.pathname)?We={currentLocation:G.location,nextLocation:J}:o.has(J.pathname)&&(We={currentLocation:J,nextLocation:G.location})}else if(g){let Ze=o.get(G.location.pathname);Ze?Ze.add(J.pathname):(Ze=new Set([J.pathname]),o.set(G.location.pathname,Ze)),We={currentLocation:G.location,nextLocation:J}}he(ur({},re,{actionData:ye,loaderData:ze,historyAction:q,location:J,initialized:!0,navigation:$v,revalidation:"idle",restoreScrollPosition:Oe(J,re.matches||G.matches),preventScrollReset:we,blockers:ce}),{viewTransitionOpts:We,flushSync:$e===!0}),q=Ir.Pop,j=!1,g=!1,f=!1,h=!1,m=[]}async function Ye(J,re){if(typeof J=="number"){t.history.go(J);return}let _e=iy(G.location,G.matches,v,x.v7_prependBasename,J,x.v7_relativeSplatPath,re==null?void 0:re.fromRouteId,re==null?void 0:re.relative),{path:ae,submission:me,error:$e}=Qx(x.v7_normalizeFormMethod,!1,_e,re),ve=G.location,ye=Fh(G.location,ae,re&&re.state);ye=ur({},ye,t.history.encodeLocation(ye));let ze=re&&re.replace!=null?re.replace:void 0,ce=Ir.Push;ze===!0?ce=Ir.Replace:ze===!1||me!=null&&_i(me.formMethod)&&me.formAction===G.location.pathname+G.location.search&&(ce=Ir.Replace);let we=re&&"preventScrollReset"in re?re.preventScrollReset===!0:void 0,We=(re&&re.flushSync)===!0,Ze=Ce({currentLocation:ve,nextLocation:ye,historyAction:ce});if(Ze){be(Ze,{state:"blocked",location:ye,proceed(){be(Ze,{state:"proceeding",proceed:void 0,reset:void 0,location:ye}),Ye(J,re)},reset(){let yt=new Map(G.blockers);yt.set(Ze,gf),he({blockers:yt})}});return}return await Se(ce,ye,{submission:me,pendingError:$e,preventScrollReset:we,replace:re&&re.replace,enableViewTransition:re&&re.viewTransition,flushSync:We})}function xe(){if(V(),he({revalidation:"loading"}),G.navigation.state!=="submitting"){if(G.navigation.state==="idle"){Se(G.historyAction,G.location,{startUninterruptedRevalidation:!0});return}Se(q||G.historyAction,G.navigation.location,{overrideNavigation:G.navigation,enableViewTransition:g===!0})}}async function Se(J,re,_e){Q&&Q.abort(),Q=null,q=J,f=(_e&&_e.startUninterruptedRevalidation)===!0,De(G.location,G.matches),j=(_e&&_e.preventScrollReset)===!0,g=(_e&&_e.enableViewTransition)===!0;let ae=c||u,me=_e&&_e.overrideNavigation,$e=_e!=null&&_e.initialHydration&&G.matches&&G.matches.length>0&&!z?G.matches:aa(ae,re,v),ve=(_e&&_e.flushSync)===!0;if($e&&G.initialized&&!h&&ZP(G.location,re)&&!(_e&&_e.submission&&_i(_e.submission.formMethod))){de(re,{matches:$e},{flushSync:ve});return}let ye=_t($e,ae,re.pathname);if(ye.active&&ye.matches&&($e=ye.matches),!$e){let{error:ct,notFoundMatches:at,route:pt}=et(re.pathname);de(re,{matches:at,loaderData:{},errors:{[pt.id]:ct}},{flushSync:ve});return}Q=new AbortController;let ze=ol(t.history,re,Q.signal,_e&&_e.submission),ce;if(_e&&_e.pendingError)ce=[la($e).route.id,{type:Zt.error,error:_e.pendingError}];else if(_e&&_e.submission&&_i(_e.submission.formMethod)){let ct=await st(ze,re,_e.submission,$e,ye.active,{replace:_e.replace,flushSync:ve});if(ct.shortCircuited)return;if(ct.pendingActionResult){let[at,pt]=ct.pendingActionResult;if(Fn(pt)&&su(pt.error)&&pt.error.status===404){Q=null,de(re,{matches:ct.matches,loaderData:{},errors:{[at]:pt.error}});return}}$e=ct.matches||$e,ce=ct.pendingActionResult,me=qv(re,_e.submission),ve=!1,ye.active=!1,ze=ol(t.history,ze.url,ze.signal)}let{shortCircuited:we,matches:We,loaderData:Ze,errors:yt}=await Te(ze,re,$e,ye.active,me,_e&&_e.submission,_e&&_e.fetcherSubmission,_e&&_e.replace,_e&&_e.initialHydration===!0,ve,ce);we||(Q=null,de(re,ur({matches:We||$e},s3(ce),{loaderData:Ze,errors:yt})))}async function st(J,re,_e,ae,me,$e){$e===void 0&&($e={}),V();let ve=tN(re,_e);if(he({navigation:ve},{flushSync:$e.flushSync===!0}),me){let ce=await Pe(ae,re.pathname,J.signal);if(ce.type==="aborted")return{shortCircuited:!0};if(ce.type==="error"){let we=la(ce.partialMatches).route.id;return{matches:ce.partialMatches,pendingActionResult:[we,{type:Zt.error,error:ce.error}]}}else if(ce.matches)ae=ce.matches;else{let{notFoundMatches:we,error:We,route:Ze}=et(re.pathname);return{matches:we,pendingActionResult:[Ze.id,{type:Zt.error,error:We}]}}}let ye,ze=$f(ae,re);if(!ze.route.action&&!ze.route.lazy)ye={type:Zt.error,error:En(405,{method:J.method,pathname:re.pathname,routeId:ze.route.id})};else if(ye=(await Me("action",G,J,[ze],ae,null))[ze.route.id],J.signal.aborted)return{shortCircuited:!0};if(ya(ye)){let ce;return $e&&$e.replace!=null?ce=$e.replace:ce=t3(ye.response.headers.get("Location"),new URL(J.url),v)===G.location.pathname+G.location.search,await Ee(J,ye,!0,{submission:_e,replace:ce}),{shortCircuited:!0}}if(ho(ye))throw En(400,{type:"defer-action"});if(Fn(ye)){let ce=la(ae,ze.route.id);return($e&&$e.replace)!==!0&&(q=Ir.Push),{matches:ae,pendingActionResult:[ce.route.id,ye]}}return{matches:ae,pendingActionResult:[ze.route.id,ye]}}async function Te(J,re,_e,ae,me,$e,ve,ye,ze,ce,we){let We=me||qv(re,$e),Ze=$e||ve||l3(We),yt=!f&&(!x.v7_partialHydration||!ze);if(ae){if(yt){let vt=ke(we);he(ur({navigation:We},vt!==void 0?{actionData:vt}:{}),{flushSync:ce})}let ut=await Pe(_e,re.pathname,J.signal);if(ut.type==="aborted")return{shortCircuited:!0};if(ut.type==="error"){let vt=la(ut.partialMatches).route.id;return{matches:ut.partialMatches,loaderData:{},errors:{[vt]:ut.error}}}else if(ut.matches)_e=ut.matches;else{let{error:vt,notFoundMatches:Nt,route:Ft}=et(re.pathname);return{matches:Nt,loaderData:{},errors:{[Ft.id]:vt}}}}let ct=c||u,[at,pt]=Jx(t.history,G,_e,Ze,re,x.v7_partialHydration&&ze===!0,x.v7_skipActionErrorRevalidation,h,m,y,X,B,S,ct,v,we);if(Ne(ut=>!(_e&&_e.some(vt=>vt.route.id===ut))||at&&at.some(vt=>vt.route.id===ut)),a=++d,at.length===0&&pt.length===0){let ut=pe();return de(re,ur({matches:_e,loaderData:{},errors:we&&Fn(we[1])?{[we[0]]:we[1].error}:null},s3(we),ut?{fetchers:new Map(G.fetchers)}:{}),{flushSync:ce}),{shortCircuited:!0}}if(yt){let ut={};if(!ae){ut.navigation=We;let vt=ke(we);vt!==void 0&&(ut.actionData=vt)}pt.length>0&&(ut.fetchers=it(pt)),he(ut,{flushSync:ce})}pt.forEach(ut=>{F(ut.key),ut.controller&&_.set(ut.key,ut.controller)});let Ct=()=>pt.forEach(ut=>F(ut.key));Q&&Q.signal.addEventListener("abort",Ct);let{loaderResults:Ot,fetcherResults:Tt}=await rt(G,_e,at,pt,J);if(J.signal.aborted)return{shortCircuited:!0};Q&&Q.signal.removeEventListener("abort",Ct),pt.forEach(ut=>_.delete(ut.key));let xt=wd(Ot);if(xt)return await Ee(J,xt.result,!0,{replace:ye}),{shortCircuited:!0};if(xt=wd(Tt),xt)return S.add(xt.key),await Ee(J,xt.result,!0,{replace:ye}),{shortCircuited:!0};let{loaderData:zt,errors:Pt}=n3(G,_e,Ot,we,pt,Tt,oe);oe.forEach((ut,vt)=>{ut.subscribe(Nt=>{(Nt||ut.done)&&oe.delete(vt)})}),x.v7_partialHydration&&ze&&G.errors&&(Pt=ur({},G.errors,Pt));let Mt=pe(),St=ie(a),Lt=Mt||St||pt.length>0;return ur({matches:_e,loaderData:zt,errors:Pt},Lt?{fetchers:new Map(G.fetchers)}:{})}function ke(J){if(J&&!Fn(J[1]))return{[J[0]]:J[1].data};if(G.actionData)return Object.keys(G.actionData).length===0?null:G.actionData}function it(J){return J.forEach(re=>{let _e=G.fetchers.get(re.key),ae=yf(void 0,_e?_e.data:void 0);G.fetchers.set(re.key,ae)}),new Map(G.fetchers)}function Ie(J,re,_e,ae){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");F(J);let me=(ae&&ae.flushSync)===!0,$e=c||u,ve=iy(G.location,G.matches,v,x.v7_prependBasename,_e,x.v7_relativeSplatPath,re,ae==null?void 0:ae.relative),ye=aa($e,ve,v),ze=_t(ye,$e,ve);if(ze.active&&ze.matches&&(ye=ze.matches),!ye){L(J,re,En(404,{pathname:ve}),{flushSync:me});return}let{path:ce,submission:we,error:We}=Qx(x.v7_normalizeFormMethod,!0,ve,ae);if(We){L(J,re,We,{flushSync:me});return}let Ze=$f(ye,ce),yt=(ae&&ae.preventScrollReset)===!0;if(we&&_i(we.formMethod)){Be(J,re,ce,Ze,ye,ze.active,me,yt,we);return}B.set(J,{routeId:re,path:ce}),ft(J,re,ce,Ze,ye,ze.active,me,yt,we)}async function Be(J,re,_e,ae,me,$e,ve,ye,ze){V(),B.delete(J);function ce(er){if(!er.route.action&&!er.route.lazy){let xn=En(405,{method:ze.formMethod,pathname:_e,routeId:re});return L(J,re,xn,{flushSync:ve}),!0}return!1}if(!$e&&ce(ae))return;let we=G.fetchers.get(J);R(J,rN(ze,we),{flushSync:ve});let We=new AbortController,Ze=ol(t.history,_e,We.signal,ze);if($e){let er=await Pe(me,new URL(Ze.url).pathname,Ze.signal,J);if(er.type==="aborted")return;if(er.type==="error"){L(J,re,er.error,{flushSync:ve});return}else if(er.matches){if(me=er.matches,ae=$f(me,_e),ce(ae))return}else{L(J,re,En(404,{pathname:_e}),{flushSync:ve});return}}_.set(J,We);let yt=d,at=(await Me("action",G,Ze,[ae],me,J))[ae.route.id];if(Ze.signal.aborted){_.get(J)===We&&_.delete(J);return}if(x.v7_fetcherPersist&&X.has(J)){if(ya(at)||Fn(at)){R(J,Xs(void 0));return}}else{if(ya(at))if(_.delete(J),a>yt){R(J,Xs(void 0));return}else return S.add(J),R(J,yf(ze)),Ee(Ze,at,!1,{fetcherSubmission:ze,preventScrollReset:ye});if(Fn(at)){L(J,re,at.error);return}}if(ho(at))throw En(400,{type:"defer-action"});let pt=G.navigation.location||G.location,Ct=ol(t.history,pt,We.signal),Ot=c||u,Tt=G.navigation.state!=="idle"?aa(Ot,G.navigation.location,v):G.matches;Bt(Tt,"Didn't find any matches after fetcher action");let xt=++d;p.set(J,xt);let zt=yf(ze,at.data);G.fetchers.set(J,zt);let[Pt,Mt]=Jx(t.history,G,Tt,ze,pt,!1,x.v7_skipActionErrorRevalidation,h,m,y,X,B,S,Ot,v,[ae.route.id,at]);Mt.filter(er=>er.key!==J).forEach(er=>{let xn=er.key,ef=G.fetchers.get(xn),qc=yf(void 0,ef?ef.data:void 0);G.fetchers.set(xn,qc),F(xn),er.controller&&_.set(xn,er.controller)}),he({fetchers:new Map(G.fetchers)});let St=()=>Mt.forEach(er=>F(er.key));We.signal.addEventListener("abort",St);let{loaderResults:Lt,fetcherResults:ut}=await rt(G,Tt,Pt,Mt,Ct);if(We.signal.aborted)return;We.signal.removeEventListener("abort",St),p.delete(J),_.delete(J),Mt.forEach(er=>_.delete(er.key));let vt=wd(Lt);if(vt)return Ee(Ct,vt.result,!1,{preventScrollReset:ye});if(vt=wd(ut),vt)return S.add(vt.key),Ee(Ct,vt.result,!1,{preventScrollReset:ye});let{loaderData:Nt,errors:Ft}=n3(G,Tt,Lt,void 0,Mt,ut,oe);if(G.fetchers.has(J)){let er=Xs(at.data);G.fetchers.set(J,er)}ie(xt),G.navigation.state==="loading"&&xt>a?(Bt(q,"Expected pending action"),Q&&Q.abort(),de(G.navigation.location,{matches:Tt,loaderData:Nt,errors:Ft,fetchers:new Map(G.fetchers)})):(he({errors:Ft,loaderData:i3(G.loaderData,Nt,Tt,Ft),fetchers:new Map(G.fetchers)}),h=!1)}async function ft(J,re,_e,ae,me,$e,ve,ye,ze){let ce=G.fetchers.get(J);R(J,yf(ze,ce?ce.data:void 0),{flushSync:ve});let we=new AbortController,We=ol(t.history,_e,we.signal);if($e){let at=await Pe(me,new URL(We.url).pathname,We.signal,J);if(at.type==="aborted")return;if(at.type==="error"){L(J,re,at.error,{flushSync:ve});return}else if(at.matches)me=at.matches,ae=$f(me,_e);else{L(J,re,En(404,{pathname:_e}),{flushSync:ve});return}}_.set(J,we);let Ze=d,ct=(await Me("loader",G,We,[ae],me,J))[ae.route.id];if(ho(ct)&&(ct=await ww(ct,We.signal,!0)||ct),_.get(J)===we&&_.delete(J),!We.signal.aborted){if(X.has(J)){R(J,Xs(void 0));return}if(ya(ct))if(a>Ze){R(J,Xs(void 0));return}else{S.add(J),await Ee(We,ct,!1,{preventScrollReset:ye});return}if(Fn(ct)){L(J,re,ct.error);return}Bt(!ho(ct),"Unhandled fetcher deferred data"),R(J,Xs(ct.data))}}async function Ee(J,re,_e,ae){let{submission:me,fetcherSubmission:$e,preventScrollReset:ve,replace:ye}=ae===void 0?{}:ae;re.response.headers.has("X-Remix-Revalidate")&&(h=!0);let ze=re.response.headers.get("Location");Bt(ze,"Expected a Location header on the redirect Response"),ze=t3(ze,new URL(J.url),v);let ce=Fh(G.location,ze,{_isRedirect:!0});if(r){let at=!1;if(re.response.headers.has("X-Remix-Reload-Document"))at=!0;else if(yw.test(ze)){const pt=t.history.createURL(ze);at=pt.origin!==e.location.origin||Ou(pt.pathname,v)==null}if(at){ye?e.location.replace(ze):e.location.assign(ze);return}}Q=null;let we=ye===!0||re.response.headers.has("X-Remix-Replace")?Ir.Replace:Ir.Push,{formMethod:We,formAction:Ze,formEncType:yt}=G.navigation;!me&&!$e&&We&&Ze&&yt&&(me=l3(G.navigation));let ct=me||$e;if(OP.has(re.response.status)&&ct&&_i(ct.formMethod))await Se(we,ce,{submission:ur({},ct,{formAction:ze}),preventScrollReset:ve||j,enableViewTransition:_e?g:void 0});else{let at=qv(ce,me);await Se(we,ce,{overrideNavigation:at,fetcherSubmission:$e,preventScrollReset:ve||j,enableViewTransition:_e?g:void 0})}}async function Me(J,re,_e,ae,me,$e){let ve,ye={};try{ve=await qP(b,J,re,_e,ae,me,$e,i,s)}catch(ze){return ae.forEach(ce=>{ye[ce.route.id]={type:Zt.error,error:ze}}),ye}for(let[ze,ce]of Object.entries(ve))if(QP(ce)){let we=ce.result;ye[ze]={type:Zt.redirect,response:WP(we,_e,ze,me,v,x.v7_relativeSplatPath)}}else ye[ze]=await KP(ce);return ye}async function rt(J,re,_e,ae,me){let $e=J.matches,ve=Me("loader",J,me,_e,re,null),ye=Promise.all(ae.map(async we=>{if(we.matches&&we.match&&we.controller){let Ze=(await Me("loader",J,ol(t.history,we.path,we.controller.signal),[we.match],we.matches,we.key))[we.match.route.id];return{[we.key]:Ze}}else return Promise.resolve({[we.key]:{type:Zt.error,error:En(404,{pathname:we.path})}})})),ze=await ve,ce=(await ye).reduce((we,We)=>Object.assign(we,We),{});return await Promise.all([XP(re,ze,me.signal,$e,J.loaderData),eN(re,ce,ae)]),{loaderResults:ze,fetcherResults:ce}}function V(){h=!0,m.push(...Ne()),B.forEach((J,re)=>{_.has(re)&&y.add(re),F(re)})}function R(J,re,_e){_e===void 0&&(_e={}),G.fetchers.set(J,re),he({fetchers:new Map(G.fetchers)},{flushSync:(_e&&_e.flushSync)===!0})}function L(J,re,_e,ae){ae===void 0&&(ae={});let me=la(G.matches,re);I(J),he({errors:{[me.route.id]:_e},fetchers:new Map(G.fetchers)},{flushSync:(ae&&ae.flushSync)===!0})}function T(J){return Z.set(J,(Z.get(J)||0)+1),X.has(J)&&X.delete(J),G.fetchers.get(J)||LP}function I(J){let re=G.fetchers.get(J);_.has(J)&&!(re&&re.state==="loading"&&p.has(J))&&F(J),B.delete(J),p.delete(J),S.delete(J),x.v7_fetcherPersist&&X.delete(J),y.delete(J),G.fetchers.delete(J)}function k(J){let re=(Z.get(J)||0)-1;re<=0?(Z.delete(J),X.add(J),x.v7_fetcherPersist||I(J)):Z.set(J,re),he({fetchers:new Map(G.fetchers)})}function F(J){let re=_.get(J);re&&(re.abort(),_.delete(J))}function Y(J){for(let re of J){let _e=T(re),ae=Xs(_e.data);G.fetchers.set(re,ae)}}function pe(){let J=[],re=!1;for(let _e of S){let ae=G.fetchers.get(_e);Bt(ae,"Expected fetcher: "+_e),ae.state==="loading"&&(S.delete(_e),J.push(_e),re=!0)}return Y(J),re}function ie(J){let re=[];for(let[_e,ae]of p)if(ae<J){let me=G.fetchers.get(_e);Bt(me,"Expected fetcher: "+_e),me.state==="loading"&&(F(_e),p.delete(_e),re.push(_e))}return Y(re),re.length>0}function ge(J,re){let _e=G.blockers.get(J)||gf;return H.get(J)!==re&&H.set(J,re),_e}function qe(J){G.blockers.delete(J),H.delete(J)}function be(J,re){let _e=G.blockers.get(J)||gf;Bt(_e.state==="unblocked"&&re.state==="blocked"||_e.state==="blocked"&&re.state==="blocked"||_e.state==="blocked"&&re.state==="proceeding"||_e.state==="blocked"&&re.state==="unblocked"||_e.state==="proceeding"&&re.state==="unblocked","Invalid blocker state transition: "+_e.state+" -> "+re.state);let ae=new Map(G.blockers);ae.set(J,re),he({blockers:ae})}function Ce(J){let{currentLocation:re,nextLocation:_e,historyAction:ae}=J;if(H.size===0)return;H.size>1&&iu(!1,"A router only supports one blocker at a time");let me=Array.from(H.entries()),[$e,ve]=me[me.length-1],ye=G.blockers.get($e);if(!(ye&&ye.state==="proceeding")&&ve({currentLocation:re,nextLocation:_e,historyAction:ae}))return $e}function et(J){let re=En(404,{pathname:J}),_e=c||u,{matches:ae,route:me}=o3(_e);return Ne(),{notFoundMatches:ae,route:me,error:re}}function Ne(J){let re=[];return oe.forEach((_e,ae)=>{(!J||J(ae))&&(_e.cancel(),re.push(ae),oe.delete(ae))}),re}function Fe(J,re,_e){if(N=J,W=re,D=_e||null,!P&&G.navigation===$v){P=!0;let ae=Oe(G.location,G.matches);ae!=null&&he({restoreScrollPosition:ae})}return()=>{N=null,W=null,D=null}}function gt(J,re){return D&&D(J,re.map(ae=>pP(ae,G.loaderData)))||J.key}function De(J,re){if(N&&W){let _e=gt(J,re);N[_e]=W()}}function Oe(J,re){if(N){let _e=gt(J,re),ae=N[_e];if(typeof ae=="number")return ae}return null}function _t(J,re,_e){if(w)if(J){if(Object.keys(J[0].params).length>0)return{active:!0,matches:r0(re,_e,v,!0)}}else return{active:!0,matches:r0(re,_e,v,!0)||[]};return{active:!1,matches:null}}async function Pe(J,re,_e,ae){if(!w)return{type:"success",matches:J};let me=J;for(;;){let $e=c==null,ve=c||u,ye=i;try{await w({signal:_e,path:re,matches:me,fetcherKey:ae,patch:(we,We)=>{_e.aborted||e3(we,We,ve,ye,s)}})}catch(we){return{type:"error",error:we,partialMatches:me}}finally{$e&&!_e.aborted&&(u=[...u])}if(_e.aborted)return{type:"aborted"};let ze=aa(ve,re,v);if(ze)return{type:"success",matches:ze};let ce=r0(ve,re,v,!0);if(!ce||me.length===ce.length&&me.every((we,We)=>we.route.id===ce[We].route.id))return{type:"success",matches:null};me=ce}}function Ve(J){i={},c=K0(J,s,void 0,i)}function dt(J,re){let _e=c==null;e3(J,re,c||u,i,s),_e&&(u=[...u],he({}))}return ue={get basename(){return v},get future(){return x},get state(){return G},get routes(){return u},get window(){return e},initialize:se,subscribe:Ge,enableScrollRestoration:Fe,navigate:Ye,fetch:Ie,revalidate:xe,createHref:J=>t.history.createHref(J),encodeLocation:J=>t.history.encodeLocation(J),getFetcher:T,deleteFetcher:k,dispose:le,getBlocker:ge,deleteBlocker:qe,patchRoutes:dt,_internalFetchControllers:_,_internalActiveDeferreds:oe,_internalSetRoutes:Ve},ue}function UP(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function iy(t,e,r,n,s,i,u,c){let v,b;if(u){v=[];for(let x of e)if(v.push(x),x.route.id===u){b=x;break}}else v=e,b=e[e.length-1];let w=Zp(s||".",Gp(v,i),Ou(t.pathname,r)||t.pathname,c==="path");if(s==null&&(w.search=t.search,w.hash=t.hash),(s==null||s===""||s===".")&&b){let x=_w(w.search);if(b.route.index&&!x)w.search=w.search?w.search.replace(/^\?/,"?index&"):"?index";else if(!b.route.index&&x){let E=new URLSearchParams(w.search),A=E.getAll("index");E.delete("index"),A.filter(D=>D).forEach(D=>E.append("index",D));let N=E.toString();w.search=N?"?"+N:""}}return n&&r!=="/"&&(w.pathname=w.pathname==="/"?r:Ms([r,w.pathname])),Ba(w)}function Qx(t,e,r,n){if(!n||!UP(n))return{path:r};if(n.formMethod&&!JP(n.formMethod))return{path:r,error:En(405,{method:n.formMethod})};let s=()=>({path:r,error:En(400,{type:"invalid-body"})}),i=n.formMethod||"get",u=t?i.toUpperCase():i.toLowerCase(),c=b8(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!_i(u))return s();let E=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((A,N)=>{let[D,W]=N;return""+A+D+"="+W+`
`},""):String(n.body);return{path:r,submission:{formMethod:u,formAction:c,formEncType:n.formEncType,formData:void 0,json:void 0,text:E}}}else if(n.formEncType==="application/json"){if(!_i(u))return s();try{let E=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:u,formAction:c,formEncType:n.formEncType,formData:void 0,json:E,text:void 0}}}catch{return s()}}}Bt(typeof FormData=="function","FormData is not available in this environment");let v,b;if(n.formData)v=oy(n.formData),b=n.formData;else if(n.body instanceof FormData)v=oy(n.body),b=n.body;else if(n.body instanceof URLSearchParams)v=n.body,b=r3(v);else if(n.body==null)v=new URLSearchParams,b=new FormData;else try{v=new URLSearchParams(n.body),b=r3(v)}catch{return s()}let w={formMethod:u,formAction:c,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:b,json:void 0,text:void 0};if(_i(w.formMethod))return{path:r,submission:w};let x=Uo(r);return e&&x.search&&_w(x.search)&&v.append("index",""),x.search="?"+v,{path:Ba(x),submission:w}}function Yx(t,e,r){r===void 0&&(r=!1);let n=t.findIndex(s=>s.route.id===e);return n>=0?t.slice(0,r?n+1:n):t}function Jx(t,e,r,n,s,i,u,c,v,b,w,x,E,A,N,D){let W=D?Fn(D[1])?D[1].error:D[1].data:void 0,P=t.createURL(e.location),C=t.createURL(s),z=r;i&&e.errors?z=Yx(r,Object.keys(e.errors)[0],!0):D&&Fn(D[1])&&(z=Yx(r,D[0]));let K=D?D[1].statusCode:void 0,ne=u&&K&&K>=400,ue=z.filter((q,j)=>{let{route:Q}=q;if(Q.lazy)return!0;if(Q.loader==null)return!1;if(i)return sy(Q,e.loaderData,e.errors);if(jP(e.loaderData,e.matches[j],q)||v.some(l=>l===q.route.id))return!0;let g=e.matches[j],o=q;return Xx(q,ur({currentUrl:P,currentParams:g.params,nextUrl:C,nextParams:o.params},n,{actionResult:W,actionStatus:K,defaultShouldRevalidate:ne?!1:c||P.pathname+P.search===C.pathname+C.search||P.search!==C.search||w8(g,o)}))}),G=[];return x.forEach((q,j)=>{if(i||!r.some(f=>f.route.id===q.routeId)||w.has(j))return;let Q=aa(A,q.path,N);if(!Q){G.push({key:j,routeId:q.routeId,path:q.path,matches:null,match:null,controller:null});return}let g=e.fetchers.get(j),o=$f(Q,q.path),l=!1;E.has(j)?l=!1:b.has(j)?(b.delete(j),l=!0):g&&g.state!=="idle"&&g.data===void 0?l=c:l=Xx(o,ur({currentUrl:P,currentParams:e.matches[e.matches.length-1].params,nextUrl:C,nextParams:r[r.length-1].params},n,{actionResult:W,actionStatus:K,defaultShouldRevalidate:ne?!1:c})),l&&G.push({key:j,routeId:q.routeId,path:q.path,matches:Q,match:o,controller:new AbortController})}),[ue,G]}function sy(t,e,r){if(t.lazy)return!0;if(!t.loader)return!1;let n=e!=null&&e[t.id]!==void 0,s=r!=null&&r[t.id]!==void 0;return!n&&s?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!n&&!s}function jP(t,e,r){let n=!e||r.route.id!==e.route.id,s=t[r.route.id]===void 0;return n||s}function w8(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function Xx(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}function e3(t,e,r,n,s){var i;let u;if(t){let b=n[t];Bt(b,"No route found to patch children into: routeId = "+t),b.children||(b.children=[]),u=b.children}else u=r;let c=e.filter(b=>!u.some(w=>_8(b,w))),v=K0(c,s,[t||"_","patch",String(((i=u)==null?void 0:i.length)||"0")],n);u.push(...v)}function _8(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((r,n)=>{var s;return(s=e.children)==null?void 0:s.some(i=>_8(r,i))}):!1}async function zP(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let s=r[t.id];Bt(s,"No route found in manifest");let i={};for(let u in n){let v=s[u]!==void 0&&u!=="hasErrorBoundary";iu(!v,'Route "'+s.id+'" has a static property "'+u+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+u+'" will be ignored.')),!v&&!cP.has(u)&&(i[u]=n[u])}Object.assign(s,i),Object.assign(s,ur({},e(s),{lazy:void 0}))}async function $P(t){let{matches:e}=t,r=e.filter(s=>s.shouldLoad);return(await Promise.all(r.map(s=>s.resolve()))).reduce((s,i,u)=>Object.assign(s,{[r[u].route.id]:i}),{})}async function qP(t,e,r,n,s,i,u,c,v,b){let w=i.map(A=>A.route.lazy?zP(A.route,v,c):void 0),x=i.map((A,N)=>{let D=w[N],W=s.some(C=>C.route.id===A.route.id);return ur({},A,{shouldLoad:W,resolve:async C=>(C&&n.method==="GET"&&(A.route.lazy||A.route.loader)&&(W=!0),W?HP(e,n,A,D,C,b):Promise.resolve({type:Zt.data,result:void 0}))})}),E=await t({matches:x,request:n,params:i[0].params,fetcherKey:u,context:b});try{await Promise.all(w)}catch{}return E}async function HP(t,e,r,n,s,i){let u,c,v=b=>{let w,x=new Promise((N,D)=>w=D);c=()=>w(),e.signal.addEventListener("abort",c);let E=N=>typeof b!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+r.route.id+"]"))):b({request:e,params:r.params,context:i},...N!==void 0?[N]:[]),A=(async()=>{try{return{type:"data",result:await(s?s(D=>E(D)):E())}}catch(N){return{type:"error",result:N}}})();return Promise.race([A,x])};try{let b=r.route[t];if(n)if(b){let w,[x]=await Promise.all([v(b).catch(E=>{w=E}),n]);if(w!==void 0)throw w;u=x}else if(await n,b=r.route[t],b)u=await v(b);else if(t==="action"){let w=new URL(e.url),x=w.pathname+w.search;throw En(405,{method:e.method,pathname:x,routeId:r.route.id})}else return{type:Zt.data,result:void 0};else if(b)u=await v(b);else{let w=new URL(e.url),x=w.pathname+w.search;throw En(404,{pathname:x})}Bt(u.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(b){return{type:Zt.error,result:b}}finally{c&&e.signal.removeEventListener("abort",c)}return u}async function KP(t){let{result:e,type:r}=t;if(x8(e)){let x;try{let E=e.headers.get("Content-Type");E&&/\bapplication\/json\b/.test(E)?e.body==null?x=null:x=await e.json():x=await e.text()}catch(E){return{type:Zt.error,error:E}}return r===Zt.error?{type:Zt.error,error:new W0(e.status,e.statusText,x),statusCode:e.status,headers:e.headers}:{type:Zt.data,data:x,statusCode:e.status,headers:e.headers}}if(r===Zt.error){if(a3(e)){var n,s;if(e.data instanceof Error){var i,u;return{type:Zt.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}}return{type:Zt.error,error:new W0(((n=e.init)==null?void 0:n.status)||500,void 0,e.data),statusCode:su(e)?e.status:void 0,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}}return{type:Zt.error,error:e,statusCode:su(e)?e.status:void 0}}if(YP(e)){var c,v;return{type:Zt.deferred,deferredData:e,statusCode:(c=e.init)==null?void 0:c.status,headers:((v=e.init)==null?void 0:v.headers)&&new Headers(e.init.headers)}}if(a3(e)){var b,w;return{type:Zt.data,data:e.data,statusCode:(b=e.init)==null?void 0:b.status,headers:(w=e.init)!=null&&w.headers?new Headers(e.init.headers):void 0}}return{type:Zt.data,data:e}}function WP(t,e,r,n,s,i){let u=t.headers.get("Location");if(Bt(u,"Redirects returned/thrown from loaders/actions must have a Location header"),!yw.test(u)){let c=n.slice(0,n.findIndex(v=>v.route.id===r)+1);u=iy(new URL(e.url),c,s,!0,u,i),t.headers.set("Location",u)}return t}function t3(t,e,r){if(yw.test(t)){let n=t,s=n.startsWith("//")?new URL(e.protocol+n):new URL(n),i=Ou(s.pathname,r)!=null;if(s.origin===e.origin&&i)return s.pathname+s.search+s.hash}return t}function ol(t,e,r,n){let s=t.createURL(b8(e)).toString(),i={signal:r};if(n&&_i(n.formMethod)){let{formMethod:u,formEncType:c}=n;i.method=u.toUpperCase(),c==="application/json"?(i.headers=new Headers({"Content-Type":c}),i.body=JSON.stringify(n.json)):c==="text/plain"?i.body=n.text:c==="application/x-www-form-urlencoded"&&n.formData?i.body=oy(n.formData):i.body=n.formData}return new Request(s,i)}function oy(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function r3(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function GP(t,e,r,n,s){let i={},u=null,c,v=!1,b={},w=r&&Fn(r[1])?r[1].error:void 0;return t.forEach(x=>{if(!(x.route.id in e))return;let E=x.route.id,A=e[E];if(Bt(!ya(A),"Cannot handle redirect results in processLoaderData"),Fn(A)){let N=A.error;w!==void 0&&(N=w,w=void 0),u=u||{};{let D=la(t,E);u[D.route.id]==null&&(u[D.route.id]=N)}i[E]=void 0,v||(v=!0,c=su(A.error)?A.error.status:500),A.headers&&(b[E]=A.headers)}else ho(A)?(n.set(E,A.deferredData),i[E]=A.deferredData.data,A.statusCode!=null&&A.statusCode!==200&&!v&&(c=A.statusCode),A.headers&&(b[E]=A.headers)):(i[E]=A.data,A.statusCode&&A.statusCode!==200&&!v&&(c=A.statusCode),A.headers&&(b[E]=A.headers))}),w!==void 0&&r&&(u={[r[0]]:w},i[r[0]]=void 0),{loaderData:i,errors:u,statusCode:c||200,loaderHeaders:b}}function n3(t,e,r,n,s,i,u){let{loaderData:c,errors:v}=GP(e,r,n,u);return s.forEach(b=>{let{key:w,match:x,controller:E}=b,A=i[w];if(Bt(A,"Did not find corresponding fetcher result"),!(E&&E.signal.aborted))if(Fn(A)){let N=la(t.matches,x==null?void 0:x.route.id);v&&v[N.route.id]||(v=ur({},v,{[N.route.id]:A.error})),t.fetchers.delete(w)}else if(ya(A))Bt(!1,"Unhandled fetcher revalidation redirect");else if(ho(A))Bt(!1,"Unhandled fetcher deferred data");else{let N=Xs(A.data);t.fetchers.set(w,N)}}),{loaderData:c,errors:v}}function i3(t,e,r,n){let s=ur({},e);for(let i of r){let u=i.route.id;if(e.hasOwnProperty(u)?e[u]!==void 0&&(s[u]=e[u]):t[u]!==void 0&&i.route.loader&&(s[u]=t[u]),n&&n.hasOwnProperty(u))break}return s}function s3(t){return t?Fn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function la(t,e){return(e?t.slice(0,t.findIndex(n=>n.route.id===e)+1):[...t]).reverse().find(n=>n.route.hasErrorBoundary===!0)||t[0]}function o3(t){let e=t.length===1?t[0]:t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function En(t,e){let{pathname:r,routeId:n,method:s,type:i,message:u}=e===void 0?{}:e,c="Unknown Server Error",v="Unknown @remix-run/router error";return t===400?(c="Bad Request",s&&r&&n?v="You made a "+s+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":i==="defer-action"?v="defer() is not supported in actions":i==="invalid-body"&&(v="Unable to encode submission body")):t===403?(c="Forbidden",v='Route "'+n+'" does not match URL "'+r+'"'):t===404?(c="Not Found",v='No route matches URL "'+r+'"'):t===405&&(c="Method Not Allowed",s&&r&&n?v="You made a "+s.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":s&&(v='Invalid request method "'+s.toUpperCase()+'"')),new W0(t||500,c,new Error(v),!0)}function wd(t){let e=Object.entries(t);for(let r=e.length-1;r>=0;r--){let[n,s]=e[r];if(ya(s))return{key:n,result:s}}}function b8(t){let e=typeof t=="string"?Uo(t):t;return Ba(ur({},e,{hash:""}))}function ZP(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function QP(t){return x8(t.result)&&DP.has(t.result.status)}function ho(t){return t.type===Zt.deferred}function Fn(t){return t.type===Zt.error}function ya(t){return(t&&t.type)===Zt.redirect}function a3(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function YP(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function x8(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function JP(t){return BP.has(t.toLowerCase())}function _i(t){return PP.has(t.toLowerCase())}async function XP(t,e,r,n,s){let i=Object.entries(e);for(let u=0;u<i.length;u++){let[c,v]=i[u],b=t.find(E=>(E==null?void 0:E.route.id)===c);if(!b)continue;let w=n.find(E=>E.route.id===b.route.id),x=w!=null&&!w8(w,b)&&(s&&s[b.route.id])!==void 0;ho(v)&&x&&await ww(v,r,!1).then(E=>{E&&(e[c]=E)})}}async function eN(t,e,r){for(let n=0;n<r.length;n++){let{key:s,routeId:i,controller:u}=r[n],c=e[s];t.find(b=>(b==null?void 0:b.route.id)===i)&&ho(c)&&(Bt(u,"Expected an AbortController for revalidating fetcher deferred result"),await ww(c,u.signal,!0).then(b=>{b&&(e[s]=b)}))}}async function ww(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:Zt.data,data:t.deferredData.unwrappedData}}catch(s){return{type:Zt.error,error:s}}return{type:Zt.data,data:t.deferredData.data}}}function _w(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function $f(t,e){let r=typeof e=="string"?Uo(e).search:e.search;if(t[t.length-1].route.index&&_w(r||""))return t[t.length-1];let n=v8(t);return n[n.length-1]}function l3(t){let{formMethod:e,formAction:r,formEncType:n,text:s,formData:i,json:u}=t;if(!(!e||!r||!n)){if(s!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:s};if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:i,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:u,text:void 0}}}function qv(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function tN(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function yf(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function rN(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Xs(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function nN(t,e){try{let r=t.sessionStorage.getItem(y8);if(r){let n=JSON.parse(r);for(let[s,i]of Object.entries(n||{}))i&&Array.isArray(i)&&e.set(s,new Set(i||[]))}}catch{}}function iN(t,e){if(e.size>0){let r={};for(let[n,s]of e)r[n]=[...s];try{t.sessionStorage.setItem(y8,JSON.stringify(r))}catch(n){iu(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function G0(){return G0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},G0.apply(this,arguments)}const Qp=fe.createContext(null),M8=fe.createContext(null),jo=fe.createContext(null),bw=fe.createContext(null),Fs=fe.createContext({outlet:null,matches:[],isDataRoute:!1}),E8=fe.createContext(null);function sN(t,e){let{relative:r}=e===void 0?{}:e;Lu()||Bt(!1);let{basename:n,navigator:s}=fe.useContext(jo),{hash:i,pathname:u,search:c}=I8(t,{relative:r}),v=u;return n!=="/"&&(v=u==="/"?n:Ms([n,u])),s.createHref({pathname:v,search:c,hash:i})}function Lu(){return fe.useContext(bw)!=null}function Za(){return Lu()||Bt(!1),fe.useContext(bw).location}function S8(t){fe.useContext(jo).static||fe.useLayoutEffect(t)}function Yp(){let{isDataRoute:t}=fe.useContext(Fs);return t?yN():oN()}function oN(){Lu()||Bt(!1);let t=fe.useContext(Qp),{basename:e,future:r,navigator:n}=fe.useContext(jo),{matches:s}=fe.useContext(Fs),{pathname:i}=Za(),u=JSON.stringify(Gp(s,r.v7_relativeSplatPath)),c=fe.useRef(!1);return S8(()=>{c.current=!0}),fe.useCallback(function(b,w){if(w===void 0&&(w={}),!c.current)return;if(typeof b=="number"){n.go(b);return}let x=Zp(b,JSON.parse(u),i,w.relative==="path");t==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Ms([e,x.pathname])),(w.replace?n.replace:n.push)(x,w.state,w)},[e,n,u,i,t])}const aN=fe.createContext(null);function lN(t){let e=fe.useContext(Fs).outlet;return e&&fe.createElement(aN.Provider,{value:t},e)}function I8(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=fe.useContext(jo),{matches:s}=fe.useContext(Fs),{pathname:i}=Za(),u=JSON.stringify(Gp(s,n.v7_relativeSplatPath));return fe.useMemo(()=>Zp(t,JSON.parse(u),i,r==="path"),[t,u,i,r])}function uN(t,e,r,n){Lu()||Bt(!1);let{navigator:s,static:i}=fe.useContext(jo),{matches:u}=fe.useContext(Fs),c=u[u.length-1],v=c?c.params:{};c&&c.pathname;let b=c?c.pathnameBase:"/";c&&c.route;let w=Za(),x;x=w;let E=x.pathname||"/",A=E;if(b!=="/"){let W=b.replace(/^\//,"").split("/");A="/"+E.replace(/^\//,"").split("/").slice(W.length).join("/")}let N=!i&&r&&r.matches&&r.matches.length>0?r.matches:aa(t,{pathname:A});return pN(N&&N.map(W=>Object.assign({},W,{params:Object.assign({},v,W.params),pathname:Ms([b,s.encodeLocation?s.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?b:Ms([b,s.encodeLocation?s.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),u,r,n)}function fN(){let t=k8(),e=su(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return fe.createElement(fe.Fragment,null,fe.createElement("h2",null,"Unexpected Application Error!"),fe.createElement("h3",{style:{fontStyle:"italic"}},e),r?fe.createElement("pre",{style:s},r):null,null)}const hN=fe.createElement(fN,null);class cN extends fe.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?fe.createElement(Fs.Provider,{value:this.props.routeContext},fe.createElement(E8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dN(t){let{routeContext:e,match:r,children:n}=t,s=fe.useContext(Qp);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),fe.createElement(Fs.Provider,{value:e},n)}function pN(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let u=t,c=(s=r)==null?void 0:s.errors;if(c!=null){let w=u.findIndex(x=>x.route.id&&(c==null?void 0:c[x.route.id])!==void 0);w>=0||Bt(!1),u=u.slice(0,Math.min(u.length,w+1))}let v=!1,b=-1;if(r&&n&&n.v7_partialHydration)for(let w=0;w<u.length;w++){let x=u[w];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(b=w),x.route.id){let{loaderData:E,errors:A}=r,N=x.route.loader&&E[x.route.id]===void 0&&(!A||A[x.route.id]===void 0);if(x.route.lazy||N){v=!0,b>=0?u=u.slice(0,b+1):u=[u[0]];break}}}return u.reduceRight((w,x,E)=>{let A,N=!1,D=null,W=null;r&&(A=c&&x.route.id?c[x.route.id]:void 0,D=x.route.errorElement||hN,v&&(b<0&&E===0?(wN("route-fallback"),N=!0,W=null):b===E&&(N=!0,W=x.route.hydrateFallbackElement||null)));let P=e.concat(u.slice(0,E+1)),C=()=>{let z;return A?z=D:N?z=W:x.route.Component?z=fe.createElement(x.route.Component,null):x.route.element?z=x.route.element:z=w,fe.createElement(dN,{match:x,routeContext:{outlet:w,matches:P,isDataRoute:r!=null},children:z})};return r&&(x.route.ErrorBoundary||x.route.errorElement||E===0)?fe.createElement(cN,{location:r.location,revalidation:r.revalidation,component:D,error:A,children:C(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):C()},null)}var A8=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(A8||{}),T8=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(T8||{});function mN(t){let e=fe.useContext(Qp);return e||Bt(!1),e}function vN(t){let e=fe.useContext(M8);return e||Bt(!1),e}function gN(t){let e=fe.useContext(Fs);return e||Bt(!1),e}function R8(t){let e=gN(),r=e.matches[e.matches.length-1];return r.route.id||Bt(!1),r.route.id}function k8(){var t;let e=fe.useContext(E8),r=vN(T8.UseRouteError),n=R8();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function yN(){let{router:t}=mN(A8.UseNavigateStable),e=R8(),r=fe.useRef(!1);return S8(()=>{r.current=!0}),fe.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,G0({fromRouteId:e},i)))},[t,e])}const u3={};function wN(t,e,r){u3[t]||(u3[t]=!0)}function _N(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function C8(t){let{to:e,replace:r,state:n,relative:s}=t;Lu()||Bt(!1);let{future:i,static:u}=fe.useContext(jo),{matches:c}=fe.useContext(Fs),{pathname:v}=Za(),b=Yp(),w=Zp(e,Gp(c,i.v7_relativeSplatPath),v,s==="path"),x=JSON.stringify(w);return fe.useEffect(()=>b(JSON.parse(x),{replace:r,state:n,relative:s}),[b,x,s,r,n]),null}function ay(t){return lN(t.context)}function bN(t){let{basename:e="/",children:r=null,location:n,navigationType:s=Ir.Pop,navigator:i,static:u=!1,future:c}=t;Lu()&&Bt(!1);let v=e.replace(/^\/*/,"/"),b=fe.useMemo(()=>({basename:v,navigator:i,static:u,future:G0({v7_relativeSplatPath:!1},c)}),[v,c,i,u]);typeof n=="string"&&(n=Uo(n));let{pathname:w="/",search:x="",hash:E="",state:A=null,key:N="default"}=n,D=fe.useMemo(()=>{let W=Ou(w,v);return W==null?null:{location:{pathname:W,search:x,hash:E,state:A,key:N},navigationType:s}},[v,w,x,E,A,N,s]);return D==null?null:fe.createElement(jo.Provider,{value:b},fe.createElement(bw.Provider,{children:r,value:D}))}new Promise(()=>{});function xN(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:fe.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:fe.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:fe.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vh(){return Vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vh.apply(this,arguments)}function MN(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function EN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function SN(t,e){return t.button===0&&(!e||e==="_self")&&!EN(t)}const IN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],AN="6";try{window.__reactRouterVersion=AN}catch{}function TN(t,e){return VP({basename:void 0,future:Vh({},void 0,{v7_prependBasename:!0}),history:uP({window:void 0}),hydrationData:RN(),routes:t,mapRouteProperties:xN,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function RN(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Vh({},e,{errors:kN(e.errors)})),e}function kN(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,s]of e)if(s&&s.__type==="RouteErrorResponse")r[n]=new W0(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let i=window[s.__subType];if(typeof i=="function")try{let u=new i(s.message);u.stack="",r[n]=u}catch{}}if(r[n]==null){let i=new Error(s.message);i.stack="",r[n]=i}}else r[n]=s;return r}const CN=fe.createContext({isTransitioning:!1}),PN=fe.createContext(new Map),NN="startTransition",f3=QR[NN],BN="flushSync",h3=lP[BN];function DN(t){f3?f3(t):t()}function wf(t){h3?h3(t):t()}let ON=class{constructor(){this.status="pending",this.promise=new Promise((e,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",e(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}};function LN(t){let{fallbackElement:e,router:r,future:n}=t,[s,i]=fe.useState(r.state),[u,c]=fe.useState(),[v,b]=fe.useState({isTransitioning:!1}),[w,x]=fe.useState(),[E,A]=fe.useState(),[N,D]=fe.useState(),W=fe.useRef(new Map),{v7_startTransition:P}=n||{},C=fe.useCallback(q=>{P?DN(q):q()},[P]),z=fe.useCallback((q,j)=>{let{deletedFetchers:Q,flushSync:g,viewTransitionOpts:o}=j;q.fetchers.forEach((f,h)=>{f.data!==void 0&&W.current.set(h,f.data)}),Q.forEach(f=>W.current.delete(f));let l=r.window==null||r.window.document==null||typeof r.window.document.startViewTransition!="function";if(!o||l){g?wf(()=>i(q)):C(()=>i(q));return}if(g){wf(()=>{E&&(w&&w.resolve(),E.skipTransition()),b({isTransitioning:!0,flushSync:!0,currentLocation:o.currentLocation,nextLocation:o.nextLocation})});let f=r.window.document.startViewTransition(()=>{wf(()=>i(q))});f.finished.finally(()=>{wf(()=>{x(void 0),A(void 0),c(void 0),b({isTransitioning:!1})})}),wf(()=>A(f));return}E?(w&&w.resolve(),E.skipTransition(),D({state:q,currentLocation:o.currentLocation,nextLocation:o.nextLocation})):(c(q),b({isTransitioning:!0,flushSync:!1,currentLocation:o.currentLocation,nextLocation:o.nextLocation}))},[r.window,E,w,W,C]);fe.useLayoutEffect(()=>r.subscribe(z),[r,z]),fe.useEffect(()=>{v.isTransitioning&&!v.flushSync&&x(new ON)},[v]),fe.useEffect(()=>{if(w&&u&&r.window){let q=u,j=w.promise,Q=r.window.document.startViewTransition(async()=>{C(()=>i(q)),await j});Q.finished.finally(()=>{x(void 0),A(void 0),c(void 0),b({isTransitioning:!1})}),A(Q)}},[C,u,w,r.window]),fe.useEffect(()=>{w&&u&&s.location.key===u.location.key&&w.resolve()},[w,E,s.location,u]),fe.useEffect(()=>{!v.isTransitioning&&N&&(c(N.state),b({isTransitioning:!0,flushSync:!1,currentLocation:N.currentLocation,nextLocation:N.nextLocation}),D(void 0))},[v.isTransitioning,N]),fe.useEffect(()=>{},[]);let K=fe.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:q=>r.navigate(q),push:(q,j,Q)=>r.navigate(q,{state:j,preventScrollReset:Q==null?void 0:Q.preventScrollReset}),replace:(q,j,Q)=>r.navigate(q,{replace:!0,state:j,preventScrollReset:Q==null?void 0:Q.preventScrollReset})}),[r]),ne=r.basename||"/",ue=fe.useMemo(()=>({router:r,navigator:K,static:!1,basename:ne}),[r,K,ne]),G=fe.useMemo(()=>({v7_relativeSplatPath:r.future.v7_relativeSplatPath}),[r.future.v7_relativeSplatPath]);return fe.useEffect(()=>_N(n,r.future),[n,r.future]),fe.createElement(fe.Fragment,null,fe.createElement(Qp.Provider,{value:ue},fe.createElement(M8.Provider,{value:s},fe.createElement(PN.Provider,{value:W.current},fe.createElement(CN.Provider,{value:v},fe.createElement(bN,{basename:ne,location:s.location,navigationType:s.historyAction,navigator:K,future:G},s.initialized||r.future.v7_partialHydration?fe.createElement(FN,{routes:r.routes,future:r.future,state:s}):e))))),null)}const FN=fe.memo(VN);function VN(t){let{routes:e,future:r,state:n}=t;return uN(e,void 0,n,r)}const UN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ah=fe.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:u,state:c,target:v,to:b,preventScrollReset:w,viewTransition:x}=e,E=MN(e,IN),{basename:A}=fe.useContext(jo),N,D=!1;if(typeof b=="string"&&jN.test(b)&&(N=b,UN))try{let z=new URL(window.location.href),K=b.startsWith("//")?new URL(z.protocol+b):new URL(b),ne=Ou(K.pathname,A);K.origin===z.origin&&ne!=null?b=ne+K.search+K.hash:D=!0}catch{}let W=sN(b,{relative:s}),P=zN(b,{replace:u,state:c,target:v,preventScrollReset:w,relative:s,viewTransition:x});function C(z){n&&n(z),z.defaultPrevented||P(z)}return fe.createElement("a",Vh({},E,{href:N||W,onClick:D||i?n:C,ref:r,target:v}))});var c3;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(c3||(c3={}));var d3;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(d3||(d3={}));function zN(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:u,viewTransition:c}=e===void 0?{}:e,v=Yp(),b=Za(),w=I8(t,{relative:u});return fe.useCallback(x=>{if(SN(x,r)){x.preventDefault();let E=n!==void 0?n:Ba(b)===Ba(w);v(t,{replace:E,state:s,preventScrollReset:i,relative:u,viewTransition:c})}},[b,v,w,n,s,r,t,i,u,c])}const Vr=globalThis||void 0||self;var $N=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"});function P8({packageName:t,customMessages:e}){let r=t;const n={...$N,...e};function s(i,u){if(!u)return`${r}: ${i}`;let c=i;const v=i.matchAll(/{{([a-zA-Z0-9-_]+)}}/g);for(const b of v){const w=(u[b[1]]||"").toString();c=c.replace(`{{${b[1]}}}`,w)}return`${r}: ${c}`}return{setPackageName({packageName:i}){return typeof i=="string"&&(r=i),this},setMessages({customMessages:i}){return Object.assign(n,i||{}),this},throwInvalidPublishableKeyError(i){throw new Error(s(n.InvalidPublishableKeyErrorMessage,i))},throwInvalidProxyUrl(i){throw new Error(s(n.InvalidProxyUrlErrorMessage,i))},throwMissingPublishableKeyError(){throw new Error(s(n.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw new Error(s(n.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(i){throw new Error(s(n.MissingClerkProvider,i))},throw(i){throw new Error(s(i))}}}var N8=Object.defineProperty,qN=Object.getOwnPropertyDescriptor,HN=Object.getOwnPropertyNames,KN=Object.prototype.hasOwnProperty,WN=(t,e)=>{for(var r in e)N8(t,r,{get:e[r],enumerable:!0})},GN=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of HN(e))!KN.call(t,s)&&s!==r&&N8(t,s,{get:()=>e[s],enumerable:!(n=qN(e,s))||n.enumerable});return t},ZN=(t,e,r)=>(GN(t,e,"default"),r),QN={strict_mfa:{afterMinutes:10,level:"multi_factor"},strict:{afterMinutes:10,level:"second_factor"},moderate:{afterMinutes:60,level:"second_factor"},lax:{afterMinutes:1440,level:"second_factor"}},YN=new Set(["first_factor","second_factor","multi_factor"]),JN=new Set(["strict_mfa","strict","moderate","lax"]),XN=t=>typeof t=="number"&&t>0,eB=t=>YN.has(t),tB=t=>JN.has(t),rB=(t,e)=>{const{orgId:r,orgRole:n,orgPermissions:s}=e;return!t.role&&!t.permission||!r||!n||!s?null:t.permission?s.includes(t.permission):t.role?n===t.role:null},nB=t=>{if(!t)return!1;const e=s=>typeof s=="string"?QN[s]:s,r=typeof t=="string"&&tB(t),n=typeof t=="object"&&eB(t.level)&&XN(t.afterMinutes);return r||n?e.bind(null,t):!1},iB=(t,{factorVerificationAge:e})=>{if(!t.reverification||!e)return null;const r=nB(t.reverification);if(!r)return null;const{level:n,afterMinutes:s}=r(),[i,u]=e,c=i!==-1?s>i:null,v=u!==-1?s>u:null;switch(n){case"first_factor":return c;case"second_factor":return u!==-1?v:c;case"multi_factor":return u===-1?c:c&&v}},sB=t=>e=>{if(!t.userId)return!1;const r=rB(e,t),n=iB(e,t);return[r,n].some(s=>s===null)?[r,n].some(s=>s===!0):[r,n].every(s=>s===!0)};function oB(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var B8={exports:{}},Mr=B8.exports={},Li,Fi;function ly(){throw new Error("setTimeout has not been defined")}function uy(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Li=setTimeout:Li=ly}catch{Li=ly}try{typeof clearTimeout=="function"?Fi=clearTimeout:Fi=uy}catch{Fi=uy}})();function D8(t){if(Li===setTimeout)return setTimeout(t,0);if((Li===ly||!Li)&&setTimeout)return Li=setTimeout,setTimeout(t,0);try{return Li(t,0)}catch{try{return Li.call(null,t,0)}catch{return Li.call(this,t,0)}}}function aB(t){if(Fi===clearTimeout)return clearTimeout(t);if((Fi===uy||!Fi)&&clearTimeout)return Fi=clearTimeout,clearTimeout(t);try{return Fi(t)}catch{try{return Fi.call(null,t)}catch{return Fi.call(this,t)}}}var ys=[],Hl=!1,wa,n0=-1;function lB(){!Hl||!wa||(Hl=!1,wa.length?ys=wa.concat(ys):n0=-1,ys.length&&O8())}function O8(){if(!Hl){var t=D8(lB);Hl=!0;for(var e=ys.length;e;){for(wa=ys,ys=[];++n0<e;)wa&&wa[n0].run();n0=-1,e=ys.length}wa=null,Hl=!1,aB(t)}}Mr.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];ys.push(new L8(t,e)),ys.length===1&&!Hl&&D8(O8)};function L8(t,e){this.fun=t,this.array=e}L8.prototype.run=function(){this.fun.apply(null,this.array)};Mr.title="browser";Mr.browser=!0;Mr.env={};Mr.argv=[];Mr.version="";Mr.versions={};function Vs(){}Mr.on=Vs;Mr.addListener=Vs;Mr.once=Vs;Mr.off=Vs;Mr.removeListener=Vs;Mr.removeAllListeners=Vs;Mr.emit=Vs;Mr.prependListener=Vs;Mr.prependOnceListener=Vs;Mr.listeners=function(t){return[]};Mr.binding=function(t){throw new Error("process.binding is not supported")};Mr.cwd=function(){return"/"};Mr.chdir=function(t){throw new Error("process.chdir is not supported")};Mr.umask=function(){return 0};var uB=B8.exports;const pr=oB(uB);var F8=t=>typeof atob<"u"&&typeof atob=="function"?atob(t):typeof Vr<"u"&&Vr.Buffer?new Vr.Buffer(t,"base64").toString():t,fB=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],V8="pk_live_",hB="pk_test_";function p3(t,e={}){if(t=t||"",!t||!fy(t)){if(e.fatal&&!t)throw new Error("Publishable key is missing. Ensure that your publishable key is correctly configured. Double-check your environment configuration for your keys, or access them here: https://dashboard.clerk.com/last-active?path=api-keys");if(e.fatal&&!fy(t))throw new Error("Publishable key not valid.");return null}const r=t.startsWith(V8)?"production":"development";let n=F8(t.split("_")[2]);return n=n.slice(0,-1),e.proxyUrl?n=e.proxyUrl:r!=="development"&&e.domain&&(n=`clerk.${e.domain}`),{instanceType:r,frontendApi:n}}function fy(t=""){try{const e=t.startsWith(V8)||t.startsWith(hB),r=F8(t.split("_")[2]||"").endsWith("$");return e&&r}catch{return!1}}function cB(){const t=new Map;return{isDevOrStagingUrl:e=>{if(!e)return!1;const r=typeof e=="string"?e:e.hostname;let n=t.get(r);return n===void 0&&(n=fB.some(s=>r.endsWith(s)),t.set(r,n)),n}}}var U8={exports:{}},j8={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ou=fe;function dB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pB=typeof Object.is=="function"?Object.is:dB,mB=ou.useState,vB=ou.useEffect,gB=ou.useLayoutEffect,yB=ou.useDebugValue;function wB(t,e){var r=e(),n=mB({inst:{value:r,getSnapshot:e}}),s=n[0].inst,i=n[1];return gB(function(){s.value=r,s.getSnapshot=e,Hv(s)&&i({inst:s})},[t,r,e]),vB(function(){return Hv(s)&&i({inst:s}),t(function(){Hv(s)&&i({inst:s})})},[t]),yB(r),r}function Hv(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!pB(t,r)}catch{return!0}}function _B(t,e){return e()}var bB=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?_B:wB;j8.useSyncExternalStore=ou.useSyncExternalStore!==void 0?ou.useSyncExternalStore:bB;U8.exports=j8;var z8=U8.exports;const $8=0,q8=1,H8=2,m3=3;var v3=Object.prototype.hasOwnProperty;function hy(t,e){var r,n;if(t===e)return!0;if(t&&e&&(r=t.constructor)===e.constructor){if(r===Date)return t.getTime()===e.getTime();if(r===RegExp)return t.toString()===e.toString();if(r===Array){if((n=t.length)===e.length)for(;n--&&hy(t[n],e[n]););return n===-1}if(!r||typeof t=="object"){n=0;for(r in t)if(v3.call(t,r)&&++n&&!v3.call(e,r)||!(r in e)||!hy(t[r],e[r]))return!1;return Object.keys(e).length===n}}return t!==t&&e!==e}const Ei=new WeakMap,co=()=>{},Pr=co(),Z0=Object,It=t=>t===Pr,ei=t=>typeof t=="function",Rs=(t,e)=>({...t,...e}),K8=t=>ei(t.then),Kv={},_d={},xw="undefined",dc=typeof window!=xw,cy=typeof document!=xw,xB=dc&&"Deno"in window,MB=()=>dc&&typeof window.requestAnimationFrame!=xw,no=(t,e)=>{const r=Ei.get(t);return[()=>!It(e)&&t.get(e)||Kv,n=>{if(!It(e)){const s=t.get(e);e in _d||(_d[e]=s),r[5](e,Rs(s,n),s||Kv)}},r[6],()=>!It(e)&&e in _d?_d[e]:!It(e)&&t.get(e)||Kv]};let dy=!0;const EB=()=>dy,[py,my]=dc&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[co,co],SB=()=>{const t=cy&&document.visibilityState;return It(t)||t!=="hidden"},IB=t=>(cy&&document.addEventListener("visibilitychange",t),py("focus",t),()=>{cy&&document.removeEventListener("visibilitychange",t),my("focus",t)}),AB=t=>{const e=()=>{dy=!0,t()},r=()=>{dy=!1};return py("online",e),py("offline",r),()=>{my("online",e),my("offline",r)}},TB={isOnline:EB,isVisible:SB},RB={initFocus:IB,initReconnect:AB},g3=!je.useId,Uh=!dc||xB,kB=t=>MB()?window.requestAnimationFrame(t):setTimeout(t,1),lh=Uh?fe.useEffect:fe.useLayoutEffect,Wv=typeof navigator<"u"&&navigator.connection,y3=!Uh&&Wv&&(["slow-2g","2g"].includes(Wv.effectiveType)||Wv.saveData),bd=new WeakMap,Gv=(t,e)=>Z0.prototype.toString.call(t)===`[object ${e}]`;let CB=0;const vy=t=>{const e=typeof t,r=Gv(t,"Date"),n=Gv(t,"RegExp"),s=Gv(t,"Object");let i,u;if(Z0(t)===t&&!r&&!n){if(i=bd.get(t),i)return i;if(i=++CB+"~",bd.set(t,i),Array.isArray(t)){for(i="@",u=0;u<t.length;u++)i+=vy(t[u])+",";bd.set(t,i)}if(s){i="#";const c=Z0.keys(t).sort();for(;!It(u=c.pop());)It(t[u])||(i+=u+":"+vy(t[u])+",");bd.set(t,i)}}else i=r?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return i},au=t=>{if(ei(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?vy(t):"",[t,e]};let PB=0;const gy=()=>++PB;async function W8(...t){const[e,r,n,s]=t,i=Rs({populateCache:!0,throwOnError:!0},typeof s=="boolean"?{revalidate:s}:s||{});let u=i.populateCache;const c=i.rollbackOnError;let v=i.optimisticData;const b=E=>typeof c=="function"?c(E):c!==!1,w=i.throwOnError;if(ei(r)){const E=r,A=[],N=e.keys();for(const D of N)!/^\$(inf|sub)\$/.test(D)&&E(e.get(D)._k)&&A.push(D);return Promise.all(A.map(x))}return x(r);async function x(E){const[A]=au(E);if(!A)return;const[N,D]=no(e,A),[W,P,C,z]=Ei.get(e),K=()=>{const l=W[A];return(ei(i.revalidate)?i.revalidate(N().data,E):i.revalidate!==!1)&&(delete C[A],delete z[A],l&&l[0])?l[0](H8).then(()=>N().data):N().data};if(t.length<3)return K();let ne=n,ue;const G=gy();P[A]=[G,0];const q=!It(v),j=N(),Q=j.data,g=j._c,o=It(g)?Q:g;if(q&&(v=ei(v)?v(o,Q):v,D({data:v,_c:o})),ei(ne))try{ne=ne(o)}catch(l){ue=l}if(ne&&K8(ne))if(ne=await ne.catch(l=>{ue=l}),G!==P[A][0]){if(ue)throw ue;return ne}else ue&&q&&b(ue)&&(u=!0,D({data:o,_c:Pr}));if(u&&!ue)if(ei(u)){const l=u(ne,o);D({data:l,error:Pr,_c:Pr})}else D({data:ne,error:Pr,_c:Pr});if(P[A][1]=gy(),Promise.resolve(K()).then(()=>{D({_c:Pr})}),ue){if(w)throw ue;return}return ne}}const w3=(t,e)=>{for(const r in t)t[r][0]&&t[r][0](e)},G8=(t,e)=>{if(!Ei.has(t)){const r=Rs(RB,e),n=Object.create(null),s=W8.bind(Pr,t);let i=co;const u=Object.create(null),c=(w,x)=>{const E=u[w]||[];return u[w]=E,E.push(x),()=>E.splice(E.indexOf(x),1)},v=(w,x,E)=>{t.set(w,x);const A=u[w];if(A)for(const N of A)N(x,E)},b=()=>{if(!Ei.has(t)&&(Ei.set(t,[n,Object.create(null),Object.create(null),Object.create(null),s,v,c]),!Uh)){const w=r.initFocus(setTimeout.bind(Pr,w3.bind(Pr,n,$8))),x=r.initReconnect(setTimeout.bind(Pr,w3.bind(Pr,n,q8)));i=()=>{w&&w(),x&&x(),Ei.delete(t)}}};return b(),[t,s,b,i]}return[t,Ei.get(t)[4]]},NB=(t,e,r,n,s)=>{const i=r.errorRetryCount,u=s.retryCount,c=~~((Math.random()+.5)*(1<<(u<8?u:8)))*r.errorRetryInterval;!It(i)&&u>i||setTimeout(n,c,s)},BB=hy,[pc,Z8]=G8(new Map),Q8=Rs({onLoadingSlow:co,onSuccess:co,onError:co,onErrorRetry:NB,onDiscarded:co,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:y3?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:y3?5e3:3e3,compare:BB,isPaused:()=>!1,cache:pc,mutate:Z8,fallback:{}},TB),Y8=(t,e)=>{const r=Rs(t,e);if(e){const{use:n,fallback:s}=t,{use:i,fallback:u}=e;n&&i&&(r.use=n.concat(i)),s&&u&&(r.fallback=Rs(s,u))}return r},yy=fe.createContext({}),DB=t=>{const{value:e}=t,r=fe.useContext(yy),n=ei(e),s=fe.useMemo(()=>n?e(r):e,[n,r,e]),i=fe.useMemo(()=>n?s:Y8(r,s),[n,r,s]),u=s&&s.provider,c=fe.useRef(Pr);u&&!c.current&&(c.current=G8(u(i.cache||pc),s));const v=c.current;return v&&(i.cache=v[0],i.mutate=v[1]),lh(()=>{if(v)return v[2]&&v[2](),v[3]},[]),fe.createElement(yy.Provider,Rs(t,{value:i}))},J8="$inf$",X8=dc&&window.__SWR_DEVTOOLS_USE__,OB=X8?window.__SWR_DEVTOOLS_USE__:[],LB=()=>{X8&&(window.__SWR_DEVTOOLS_REACT__=je)},eS=t=>ei(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],tS=()=>Rs(Q8,fe.useContext(yy)),FB=(t,e)=>{const[r,n]=au(t),[,,,s]=Ei.get(pc);if(s[r])return s[r];const i=e(n);return s[r]=i,i},VB=t=>(e,r,n)=>t(e,r&&((...i)=>{const[u]=au(e),[,,,c]=Ei.get(pc);if(u.startsWith(J8))return r(...i);const v=c[u];return It(v)?r(...i):(delete c[u],v)}),n),UB=OB.concat(VB),jB=t=>function(...r){const n=tS(),[s,i,u]=eS(r),c=Y8(n,u);let v=t;const{use:b}=c,w=(b||[]).concat(UB);for(let x=w.length;x--;)v=w[x](v);return v(s,i||c.fetcher||null,c)},zB=(t,e,r)=>{const n=e[t]||(e[t]=[]);return n.push(r),()=>{const s=n.indexOf(r);s>=0&&(n[s]=n[n.length-1],n.pop())}},$B=(t,e)=>(...r)=>{const[n,s,i]=eS(r),u=(i.use||[]).concat(e);return t(n,s,{...i,use:u})};LB();const qB=()=>{},HB=qB(),wy=Object,_3=t=>t===HB,KB=t=>typeof t=="function",xd=new WeakMap,Zv=(t,e)=>wy.prototype.toString.call(t)===`[object ${e}]`;let WB=0;const _y=t=>{const e=typeof t,r=Zv(t,"Date"),n=Zv(t,"RegExp"),s=Zv(t,"Object");let i,u;if(wy(t)===t&&!r&&!n){if(i=xd.get(t),i)return i;if(i=++WB+"~",xd.set(t,i),Array.isArray(t)){for(i="@",u=0;u<t.length;u++)i+=_y(t[u])+",";xd.set(t,i)}if(s){i="#";const c=wy.keys(t).sort();for(;!_3(u=c.pop());)_3(t[u])||(i+=u+":"+_y(t[u])+",");xd.set(t,i)}}else i=r?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return i},GB=t=>{if(KB(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?_y(t):"",[t,e]},ZB=t=>GB(t)[0],Qv=je.use||(t=>{switch(t.status){case"pending":throw t;case"fulfilled":return t.value;case"rejected":throw t.reason;default:throw t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t}}),Yv={dedupe:!0},QB=(t,e,r)=>{const{cache:n,compare:s,suspense:i,fallbackData:u,revalidateOnMount:c,revalidateIfStale:v,refreshInterval:b,refreshWhenHidden:w,refreshWhenOffline:x,keepPreviousData:E}=r,[A,N,D,W]=Ei.get(n),[P,C]=au(t),z=fe.useRef(!1),K=fe.useRef(!1),ne=fe.useRef(P),ue=fe.useRef(e),G=fe.useRef(r),q=()=>G.current,j=()=>q().isVisible()&&q().isOnline(),[Q,g,o,l]=no(n,P),f=fe.useRef({}).current,h=It(u)?It(r.fallback)?Pr:r.fallback[P]:u,m=(de,Ye)=>{for(const xe in f){const Se=xe;if(Se==="data"){if(!s(de[Se],Ye[Se])&&(!It(de[Se])||!s(X,Ye[Se])))return!1}else if(Ye[Se]!==de[Se])return!1}return!0},y=fe.useMemo(()=>{const de=!P||!e?!1:It(c)?q().isPaused()||i?!1:v!==!1:c,Ye=it=>{const Ie=Rs(it);return delete Ie._k,de?{isValidating:!0,isLoading:!0,...Ie}:Ie},xe=Q(),Se=l(),st=Ye(xe),Te=xe===Se?st:Ye(Se);let ke=st;return[()=>{const it=Ye(Q());return m(it,ke)?(ke.data=it.data,ke.isLoading=it.isLoading,ke.isValidating=it.isValidating,ke.error=it.error,ke):(ke=it,it)},()=>Te]},[n,P]),_=z8.useSyncExternalStore(fe.useCallback(de=>o(P,(Ye,xe)=>{m(xe,Ye)||de()}),[n,P]),y[0],y[1]),d=!z.current,a=A[P]&&A[P].length>0,p=_.data,S=It(p)?h&&K8(h)?Qv(h):h:p,B=_.error,Z=fe.useRef(S),X=E?It(p)?It(Z.current)?S:Z.current:p:S,oe=a&&!It(B)?!1:d&&!It(c)?c:q().isPaused()?!1:i?It(S)?!1:v:It(S)||v,H=!!(P&&e&&d&&oe),ee=It(_.isValidating)?H:_.isValidating,se=It(_.isLoading)?H:_.isLoading,le=fe.useCallback(async de=>{const Ye=ue.current;if(!P||!Ye||K.current||q().isPaused())return!1;let xe,Se,st=!0;const Te=de||{},ke=!D[P]||!Te.dedupe,it=()=>g3?!K.current&&P===ne.current&&z.current:P===ne.current,Ie={isValidating:!1,isLoading:!1},Be=()=>{g(Ie)},ft=()=>{const Me=D[P];Me&&Me[1]===Se&&delete D[P]},Ee={isValidating:!0};It(Q().data)&&(Ee.isLoading=!0);try{if(ke&&(g(Ee),r.loadingTimeout&&It(Q().data)&&setTimeout(()=>{st&&it()&&q().onLoadingSlow(P,r)},r.loadingTimeout),D[P]=[Ye(C),gy()]),[xe,Se]=D[P],xe=await xe,ke&&setTimeout(ft,r.dedupingInterval),!D[P]||D[P][1]!==Se)return ke&&it()&&q().onDiscarded(P),!1;Ie.error=Pr;const Me=N[P];if(!It(Me)&&(Se<=Me[0]||Se<=Me[1]||Me[1]===0))return Be(),ke&&it()&&q().onDiscarded(P),!1;const rt=Q().data;Ie.data=s(rt,xe)?rt:xe,ke&&it()&&q().onSuccess(xe,P,r)}catch(Me){ft();const rt=q(),{shouldRetryOnError:V}=rt;rt.isPaused()||(Ie.error=Me,ke&&it()&&(rt.onError(Me,P,rt),(V===!0||ei(V)&&V(Me))&&(!q().revalidateOnFocus||!q().revalidateOnReconnect||j())&&rt.onErrorRetry(Me,P,rt,R=>{const L=A[P];L&&L[0]&&L[0](m3,R)},{retryCount:(Te.retryCount||0)+1,dedupe:!0})))}return st=!1,Be(),!0},[P,n]),Ge=fe.useCallback((...de)=>W8(n,ne.current,...de),[]);if(lh(()=>{ue.current=e,G.current=r,It(p)||(Z.current=p)}),lh(()=>{if(!P)return;const de=le.bind(Pr,Yv);let Ye=0;q().revalidateOnFocus&&(Ye=Date.now()+q().focusThrottleInterval);const Se=zB(P,A,(st,Te={})=>{if(st==$8){const ke=Date.now();q().revalidateOnFocus&&ke>Ye&&j()&&(Ye=ke+q().focusThrottleInterval,de())}else if(st==q8)q().revalidateOnReconnect&&j()&&de();else{if(st==H8)return le();if(st==m3)return le(Te)}});return K.current=!1,ne.current=P,z.current=!0,g({_k:C}),oe&&(It(S)||Uh?de():kB(de)),()=>{K.current=!0,Se()}},[P]),lh(()=>{let de;function Ye(){const Se=ei(b)?b(Q().data):b;Se&&de!==-1&&(de=setTimeout(xe,Se))}function xe(){!Q().error&&(w||q().isVisible())&&(x||q().isOnline())?le(Yv).then(Ye):Ye()}return Ye(),()=>{de&&(clearTimeout(de),de=-1)}},[b,w,x,P]),fe.useDebugValue(X),i&&It(S)&&P){if(!g3&&Uh)throw new Error("Fallback data is required when using Suspense in SSR.");ue.current=e,G.current=r,K.current=!1;const de=W[P];if(!It(de)){const Ye=Ge(de);Qv(Ye)}if(It(B)){const Ye=le(Yv);It(X)||(Ye.status="fulfilled",Ye.value=!0),Qv(Ye)}else throw B}return{mutate:Ge,get data(){return f.data=!0,X},get error(){return f.error=!0,B},get isValidating(){return f.isValidating=!0,ee},get isLoading(){return f.isLoading=!0,se}}},YB=Z0.defineProperty(DB,"defaultValue",{value:Q8}),Mw=jB(QB),JB=Object.freeze(Object.defineProperty({__proto__:null,SWRConfig:YB,default:Mw,mutate:Z8,preload:FB,unstable_serialize:ZB,useSWRConfig:tS},Symbol.toStringTag,{value:"Module"})),XB=()=>{},eD=XB(),by=Object,b3=t=>t===eD,tD=t=>typeof t=="function",Md=new WeakMap,Jv=(t,e)=>by.prototype.toString.call(t)===`[object ${e}]`;let rD=0;const xy=t=>{const e=typeof t,r=Jv(t,"Date"),n=Jv(t,"RegExp"),s=Jv(t,"Object");let i,u;if(by(t)===t&&!r&&!n){if(i=Md.get(t),i)return i;if(i=++rD+"~",Md.set(t,i),Array.isArray(t)){for(i="@",u=0;u<t.length;u++)i+=xy(t[u])+",";Md.set(t,i)}if(s){i="#";const c=by.keys(t).sort();for(;!b3(u=c.pop());)b3(t[u])||(i+=u+":"+xy(t[u])+",");Md.set(t,i)}}else i=r?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return i},nD=t=>{if(tD(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?xy(t):"",[t,e]},iD=t=>nD(t?t(0,null):null)[0],Xv=Promise.resolve(),sD=t=>(e,r,n)=>{const s=fe.useRef(!1),{cache:i,initialSize:u=1,revalidateAll:c=!1,persistSize:v=!1,revalidateFirstPage:b=!0,revalidateOnMount:w=!1,parallel:x=!1}=n,[,,,E]=Ei.get(pc);let A;try{A=iD(e),A&&(A=J8+A)}catch{}const[N,D,W]=no(i,A),P=fe.useCallback(()=>It(N()._l)?u:N()._l,[i,A,u]);z8.useSyncExternalStore(fe.useCallback(q=>A?W(A,()=>{q()}):()=>{},[i,A]),P,P);const C=fe.useCallback(()=>{const q=N()._l;return It(q)?u:q},[A,u]),z=fe.useRef(C());lh(()=>{if(!s.current){s.current=!0;return}A&&D({_l:v?z.current:C()})},[A,i]);const K=w&&!s.current,ne=t(A,async q=>{const j=N()._i,Q=N()._r;D({_r:Pr});const g=[],o=C(),[l]=no(i,q),f=l().data,h=[];let m=null;for(let y=0;y<o;++y){const[_,d]=au(e(y,x?null:m));if(!_)break;const[a,p]=no(i,_);let S=a().data;const B=c||j||It(S)||b&&!y&&!It(f)||K||f&&!It(f[y])&&!n.compare(f[y],S);if(r&&(typeof Q=="function"?Q(S,d):B)){const Z=async()=>{if(!(_ in E))S=await r(d);else{const oe=E[_];delete E[_],S=await oe}p({data:S,_k:d}),g[y]=S};x?h.push(Z):await Z()}else g[y]=S;x||(m=S)}return x&&await Promise.all(h.map(y=>y())),D({_i:Pr}),g},n),ue=fe.useCallback(function(q,j){const Q=typeof j=="boolean"?{revalidate:j}:j||{},g=Q.revalidate!==!1;return A?(g&&(It(q)?D({_i:!0,_r:Q.revalidate}):D({_i:!1,_r:Q.revalidate})),arguments.length?ne.mutate(q,{...Q,revalidate:g}):ne.mutate()):Xv},[A,i]),G=fe.useCallback(q=>{if(!A)return Xv;const[,j]=no(i,A);let Q;if(ei(q)?Q=q(C()):typeof q=="number"&&(Q=q),typeof Q!="number")return Xv;j({_l:Q}),z.current=Q;const g=[],[o]=no(i,A);let l=null;for(let f=0;f<Q;++f){const[h]=au(e(f,l)),[m]=no(i,h),y=h?m().data:Pr;if(It(y))return ue(o().data);g.push(y),l=y}return ue(g)},[A,i,ue,C]);return{size:C(),setSize:G,mutate:ue,get data(){return ne.data},get error(){return ne.error},get isValidating(){return ne.isValidating},get isLoading(){return ne.isLoading}}},oD=$B(Mw,sD);var x3=Object.prototype.hasOwnProperty;function M3(t,e,r){for(r of t.keys())if(uh(r,e))return r}function uh(t,e){var r,n,s;if(t===e)return!0;if(t&&e&&(r=t.constructor)===e.constructor){if(r===Date)return t.getTime()===e.getTime();if(r===RegExp)return t.toString()===e.toString();if(r===Array){if((n=t.length)===e.length)for(;n--&&uh(t[n],e[n]););return n===-1}if(r===Set){if(t.size!==e.size)return!1;for(n of t)if(s=n,s&&typeof s=="object"&&(s=M3(e,s),!s)||!e.has(s))return!1;return!0}if(r===Map){if(t.size!==e.size)return!1;for(n of t)if(s=n[0],s&&typeof s=="object"&&(s=M3(e,s),!s)||!uh(n[1],e.get(s)))return!1;return!0}if(r===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(r===DataView){if((n=t.byteLength)===e.byteLength)for(;n--&&t.getInt8(n)===e.getInt8(n););return n===-1}if(ArrayBuffer.isView(t)){if((n=t.byteLength)===e.byteLength)for(;n--&&t[n]===e[n];);return n===-1}if(!r||typeof t=="object"){n=0;for(r in t)if(x3.call(t,r)&&++n&&!x3.call(e,r)||!(r in e)||!uh(t[r],e[r]))return!1;return Object.keys(e).length===n}}return t!==t&&e!==e}function aD(t,e){if(!t)throw typeof e=="string"?new Error(e):new Error(`${e.displayName} not found`)}var Fu=(t,e)=>{const{assertCtxFn:r=aD}={},n=je.createContext(void 0);return n.displayName=t,[n,()=>{const u=je.useContext(n);return r(u,`${t} not found`),u.value},()=>{const u=je.useContext(n);return u?u.value:{}}]},Ew={};WN(Ew,{useSWR:()=>Mw,useSWRInfinite:()=>oD});ZN(Ew,JB);var[rS,lD]=Fu("ClerkInstanceContext"),[uD,fD]=Fu("UserContext"),[hD,xY]=Fu("ClientContext"),[cD,MY]=Fu("SessionContext");je.createContext({});var[dD,EY]=Fu("OrganizationContext"),pD=({children:t,organization:e,swrConfig:r})=>je.createElement(Ew.SWRConfig,{value:r},je.createElement(dD.Provider,{value:{value:{organization:e}}},t));function nS(t){if(!je.useContext(rS)){if(typeof t=="function"){t();return}throw new Error(`${t} can only be used within the <ClerkProvider /> component.

Possible fixes:
1. Ensure that the <ClerkProvider /> is correctly wrapping your application where this component is used.
2. Check for multiple versions of the \`@clerk/shared\` package in your project. Use a tool like \`npm ls @clerk/shared\` to identify multiple versions, and update your dependencies to only rely on one.

Learn more: https://clerk.com/docs/components/clerk-provider`.trim())}}typeof window<"u"?je.useLayoutEffect:je.useEffect;function as(){nS("useUser");const t=fD();return t===void 0?{isLoaded:!1,isSignedIn:void 0,user:void 0}:t===null?{isLoaded:!0,isSignedIn:!1,user:null}:{isLoaded:!0,isSignedIn:!0,user:t}}var E3=uh,mD=()=>{try{return!1}catch{}return!1},vD=()=>{try{return!1}catch{}return!1},gD=()=>{try{return!0}catch{}return!1},S3=new Set,Sw=(t,e,r)=>{const n=vD()||gD(),s=t;S3.has(s)||n||(S3.add(s),console.warn(`Clerk - DEPRECATION WARNING: "${t}" is deprecated and will be removed in the next major release.
${e}`))},Qi=P8({packageName:"@clerk/clerk-react"});function yD(t){Qi.setMessages(t).setPackageName(t)}var[wD,Iw]=Fu("AuthContext"),_D=rS,iS=lD,bD="You've added multiple <ClerkProvider> components in your React component tree. Wrap your components in a single <ClerkProvider>.",xD=t=>`You've passed multiple children components to <${t}/>. You can only pass a single child component or text.`,MD="Invalid state. Feel free to submit a bug or reach out to support here: https://clerk.com/support",eg="Unsupported usage of isSatellite, domain or proxyUrl. The usage of isSatellite, domain or proxyUrl as function is not supported in non-browser environments.",ED="<UserProfile.Page /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",SD="<UserProfile.Link /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",ID="<OrganizationProfile.Page /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",AD="<OrganizationProfile.Link /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",TD=t=>`<${t} /> can only accept <${t}.Page /> and <${t}.Link /> as its children. Any other provided component will be ignored.`,RD=t=>`Missing props. <${t}.Page /> component requires the following props: url, label, labelIcon, alongside with children to be rendered inside the page.`,kD=t=>`Missing props. <${t}.Link /> component requires the following props: url, label and labelIcon.`,CD="<UserButton /> can only accept <UserButton.UserProfilePage />, <UserButton.UserProfileLink /> and <UserButton.MenuItems /> as its children. Any other provided component will be ignored.",PD="<UserButton.MenuItems /> component can only accept <UserButton.Action /> and <UserButton.Link /> as its children. Any other provided component will be ignored.",ND="<UserButton.MenuItems /> component needs to be a direct child of `<UserButton />`.",BD="<UserButton.Action /> component needs to be a direct child of `<UserButton.MenuItems />`.",DD="<UserButton.Link /> component needs to be a direct child of `<UserButton.MenuItems />`.",OD="Missing props. <UserButton.Link /> component requires the following props: href, label and labelIcon.",LD="Missing props. <UserButton.Action /> component requires the following props: label.",Jp=t=>{nS(()=>{Qi.throwMissingClerkProviderError({source:t})})},sS=t=>new Promise(e=>{t.loaded&&e(),t.addOnLoaded(e)}),FD=t=>async e=>(await sS(t),t.session?t.session.getToken(e):null),VD=t=>async(...e)=>(await sS(t),t.signOut(...e)),oS=(t={})=>{Jp("useAuth");let r=Iw();r.sessionId===void 0&&r.userId===void 0&&(r=t??{});const{sessionId:n,userId:s,actor:i,orgId:u,orgRole:c,orgSlug:v,orgPermissions:b,factorVerificationAge:w}=r,x=iS(),E=fe.useCallback(FD(x),[x]),A=fe.useCallback(VD(x),[x]);return UD({sessionId:n,userId:s,actor:i,orgId:u,orgSlug:v,orgRole:c,getToken:E,signOut:A,orgPermissions:b,factorVerificationAge:w})};function UD(t){const{sessionId:e,userId:r,actor:n,orgId:s,orgSlug:i,orgRole:u,has:c,signOut:v,getToken:b,orgPermissions:w,factorVerificationAge:x}=t??{},E=fe.useCallback(A=>c?c(A):sB({userId:r,orgId:s,orgRole:u,orgPermissions:w,factorVerificationAge:x})(A),[r,x,s,u,w]);return e===void 0&&r===void 0?{isLoaded:!1,isSignedIn:void 0,sessionId:e,userId:r,actor:void 0,orgId:void 0,orgRole:void 0,orgSlug:void 0,has:void 0,signOut:v,getToken:b}:e===null&&r===null?{isLoaded:!0,isSignedIn:!1,sessionId:e,userId:r,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:v,getToken:b}:e&&r&&s&&u?{isLoaded:!0,isSignedIn:!0,sessionId:e,userId:r,actor:n||null,orgId:s,orgRole:u,orgSlug:i||null,has:E,signOut:v,getToken:b}:e&&r&&!s?{isLoaded:!0,isSignedIn:!0,sessionId:e,userId:r,actor:n||null,orgId:null,orgRole:null,orgSlug:null,has:E,signOut:v,getToken:b}:Qi.throw(MD)}var Rr=(t,e)=>{const n=(typeof e=="string"?e:e==null?void 0:e.component)||t.displayName||t.name||"Component";t.displayName=n;const s=typeof e=="string"?void 0:e,i=u=>{Jp(n||"withClerk");const c=iS();return!c.loaded&&!(s!=null&&s.renderWhileLoading)?null:je.createElement(t,{...u,component:n,clerk:c})};return i.displayName=`withClerk(${n})`,i},My=({children:t})=>{Jp("SignedIn");const{userId:e}=Iw();return e?t:null},aS=({children:t})=>{Jp("SignedOut");const{userId:e}=Iw();return e===null?t:null};Rr(({clerk:t,...e})=>{const{client:r,session:n}=t,s=r.signedInSessions?r.signedInSessions.length>0:r.activeSessions&&r.activeSessions.length>0;return je.useEffect(()=>{n===null&&s?t.redirectToAfterSignOut():t.redirectToSignIn(e)},[]),null},"RedirectToSignIn");Rr(({clerk:t,...e})=>(je.useEffect(()=>{t.redirectToSignUp(e)},[]),null),"RedirectToSignUp");Rr(({clerk:t})=>(je.useEffect(()=>{Sw("RedirectToUserProfile","Use the `redirectToUserProfile()` method instead."),t.redirectToUserProfile()},[]),null),"RedirectToUserProfile");Rr(({clerk:t})=>(je.useEffect(()=>{Sw("RedirectToOrganizationProfile","Use the `redirectToOrganizationProfile()` method instead."),t.redirectToOrganizationProfile()},[]),null),"RedirectToOrganizationProfile");Rr(({clerk:t})=>(je.useEffect(()=>{Sw("RedirectToCreateOrganization","Use the `redirectToCreateOrganization()` method instead."),t.redirectToCreateOrganization()},[]),null),"RedirectToCreateOrganization");Rr(({clerk:t,...e})=>(je.useEffect(()=>{t.handleRedirectCallback(e)},[]),null),"AuthenticateWithRedirectCallback");var lS=t=>{throw TypeError(t)},Aw=(t,e,r)=>e.has(t)||lS("Cannot "+r),Qe=(t,e,r)=>(Aw(t,e,"read from private field"),r?r.call(t):e.get(t)),yl=(t,e,r)=>e.has(t)?lS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),al=(t,e,r,n)=>(Aw(t,e,"write to private field"),e.set(t,r),r),I3=(t,e,r)=>(Aw(t,e,"access private method"),r);function jD(t){if(!t)return"";let e;if(t.match(/^(clerk\.)+\w*$/))e=/(clerk\.)*(?=clerk\.)/;else{if(t.match(/\.clerk.accounts/))return t;e=/^(clerk\.)*/gi}return`clerk.${t.replace(e,"")}`}var zD=(t,e="5.57.2")=>{if(t)return t;const r=$D(e);return r?r==="snapshot"?"5.57.2":r:qD(e)},$D=t=>{var e;return(e=t.trim().replace(/^v/,"").match(/-(.+?)(\.|$)/))==null?void 0:e[1]},qD=t=>t.trim().replace(/^v/,"").split(".")[0];function HD(t){return t?KD(t)||uS(t):!0}function KD(t){return/^http(s)?:\/\//.test(t||"")}function uS(t){return t.startsWith("/")}function WD(t){return t?uS(t)?new URL(t,window.location.origin).toString():t:""}var GD={initialDelay:125,maxDelayBetweenRetries:0,factor:2,shouldRetry:(t,e)=>e<5,retryImmediately:!0,jitter:!0},ZD=100,fS=async t=>new Promise(e=>setTimeout(e,t)),hS=(t,e)=>e?t*(1+Math.random()):t,QD=t=>{let e=0;const r=()=>{const n=t.initialDelay,s=t.factor;let i=n*Math.pow(s,e);return i=hS(i,t.jitter),Math.min(t.maxDelayBetweenRetries||i,i)};return async()=>{await fS(r()),e++}},YD=async(t,e={})=>{let r=0;const{shouldRetry:n,initialDelay:s,maxDelayBetweenRetries:i,factor:u,retryImmediately:c,jitter:v}={...GD,...e},b=QD({initialDelay:s,maxDelayBetweenRetries:i,factor:u,jitter:v});for(;;)try{return await t()}catch(w){if(r++,!n(w,r))throw w;c&&r===1?await fS(hS(ZD,v)):await b()}},JD="loadScript cannot be called when document does not exist",XD="loadScript cannot be called without a src";async function eO(t="",e){const{async:r,defer:n,beforeLoad:s,crossOrigin:i,nonce:u}=e||{};return YD(()=>new Promise((v,b)=>{t||b(new Error(XD)),(!document||!document.body)&&b(JD);const w=document.createElement("script");i&&w.setAttribute("crossorigin",i),w.async=r||!1,w.defer=n||!1,w.addEventListener("load",()=>{w.remove(),v(w)}),w.addEventListener("error",()=>{w.remove(),b()}),w.src=t,w.nonce=u,s==null||s(w),document.body.appendChild(w)}),{shouldRetry:(v,b)=>b<=5})}var A3="Clerk: Failed to load Clerk",{isDevOrStagingUrl:tO}=cB(),cS=P8({packageName:"@clerk/shared"});function rO(t){cS.setPackageName({packageName:t})}var nO=async t=>{const e=document.querySelector("script[data-clerk-js-script]");if(e)return new Promise((r,n)=>{e.addEventListener("load",()=>{r(e)}),e.addEventListener("error",()=>{n(A3)})});if(!(t!=null&&t.publishableKey)){cS.throwMissingPublishableKeyError();return}return eO(iO(t),{async:!0,crossOrigin:"anonymous",nonce:t.nonce,beforeLoad:oO(t)}).catch(()=>{throw new Error(A3)})},iO=t=>{var w,x;const{clerkJSUrl:e,clerkJSVariant:r,clerkJSVersion:n,proxyUrl:s,domain:i,publishableKey:u}=t;if(e)return e;let c="";s&&HD(s)?c=WD(s).replace(/http(s)?:\/\//,""):i&&!tO(((w=p3(u))==null?void 0:w.frontendApi)||"")?c=jD(i):c=((x=p3(u))==null?void 0:x.frontendApi)||"";const v=r?`${r.replace(/\.+$/,"")}.`:"",b=zD(n);return`https://${c}/npm/@clerk/clerk-js@${b}/dist/clerk.${v}browser.js`},sO=t=>{const e={};return t.publishableKey&&(e["data-clerk-publishable-key"]=t.publishableKey),t.proxyUrl&&(e["data-clerk-proxy-url"]=t.proxyUrl),t.domain&&(e["data-clerk-domain"]=t.domain),t.nonce&&(e.nonce=t.nonce),e},oO=t=>e=>{const r=sO(t);for(const n in r)e.setAttribute(n,r[n])},vn=t=>{mD()&&console.error(`Clerk: ${t}`)};function tg(t,e,r){if(typeof t=="function")return t(e);if(typeof t<"u")return t;if(typeof r<"u")return r}var T3=(t,...e)=>{const r={...t};for(const n of e)delete r[n];return r},aO=(t,e,r)=>!t&&r?lO(r):uO(e),lO=t=>{const e=t.userId,r=t.user,n=t.sessionId,s=t.session,i=t.organization,u=t.orgId,c=t.orgRole,v=t.orgPermissions,b=t.orgSlug,w=t.actor,x=t.factorVerificationAge;return{userId:e,user:r,sessionId:n,session:s,organization:i,orgId:u,orgRole:c,orgPermissions:v,orgSlug:b,actor:w,factorVerificationAge:x}},uO=t=>{var A;const e=t.user?t.user.id:t.user,r=t.user,n=t.session?t.session.id:t.session,s=t.session,i=t.session?t.session.factorVerificationAge:null,u=s==null?void 0:s.actor,c=t.organization,v=t.organization?t.organization.id:t.organization,b=c==null?void 0:c.slug,w=c&&((A=r==null?void 0:r.organizationMemberships)==null?void 0:A.find(N=>N.organization.id===v)),x=w&&w.permissions,E=w&&w.role;return{userId:e,user:r,sessionId:n,session:s,organization:c,orgId:v,orgRole:E,orgSlug:b,orgPermissions:x,actor:u,factorVerificationAge:i}};function R3(){return typeof window<"u"}typeof window<"u"&&!window.global&&(window.global=typeof Vr>"u"?window:Vr);var Xp=t=>e=>{try{return je.Children.only(t)}catch{return Qi.throw(xD(e))}},em=(t,e)=>(t||(t=e),typeof t=="string"&&(t=je.createElement("button",null,t)),t),tm=t=>(...e)=>{if(t&&typeof t=="function")return t(...e)};function fO(t){return typeof t=="function"}var Ed=new Map;function hO(t,e,r=1){je.useEffect(()=>{const n=Ed.get(t)||0;return n==r?Qi.throw(e):(Ed.set(t,n+1),()=>{Ed.set(t,(Ed.get(t)||1)-1)})},[])}function cO(t,e,r){const n=t.displayName||t.name||e||"Component",s=i=>(hO(e,r),je.createElement(t,{...i}));return s.displayName=`withMaxAllowedInstancesGuard(${n})`,s}var fh=t=>{const e=Array(t.length).fill(null),[r,n]=fe.useState(e);return t.map((s,i)=>({id:s.id,mount:u=>n(c=>c.map((v,b)=>b===i?u:v)),unmount:()=>n(u=>u.map((c,v)=>v===i?null:c)),portal:()=>je.createElement(je.Fragment,null,r[i]?Wp.createPortal(s.component,r[i]):null)}))},mn=(t,e)=>!!t&&je.isValidElement(t)&&(t==null?void 0:t.type)===e,dS=(t,e)=>vS({children:t,reorderItemsLabels:["account","security"],LinkComponent:vc,PageComponent:mc,MenuItemsComponent:nm,componentName:"UserProfile"},e),pS=(t,e)=>vS({children:t,reorderItemsLabels:["general","members"],LinkComponent:sm,PageComponent:im,componentName:"OrganizationProfile"},e),mS=t=>{const e=[],r=[sm,im,nm,mc,vc];return je.Children.forEach(t,n=>{r.some(s=>mn(n,s))||e.push(n)}),e},vS=(t,e)=>{const{children:r,LinkComponent:n,PageComponent:s,MenuItemsComponent:i,reorderItemsLabels:u,componentName:c}=t,{allowForAnyChildren:v=!1}=e||{},b=[];je.Children.forEach(r,C=>{if(!mn(C,s)&&!mn(C,n)&&!mn(C,i)){C&&!v&&vn(TD(c));return}const{props:z}=C,{children:K,label:ne,url:ue,labelIcon:G}=z;if(mn(C,s))if(k3(z,u))b.push({label:ne});else if(rg(z))b.push({label:ne,labelIcon:G,children:K,url:ue});else{vn(RD(c));return}if(mn(C,n))if(ng(z))b.push({label:ne,labelIcon:G,url:ue});else{vn(kD(c));return}});const w=[],x=[],E=[];b.forEach((C,z)=>{if(rg(C)){w.push({component:C.children,id:z}),x.push({component:C.labelIcon,id:z});return}ng(C)&&E.push({component:C.labelIcon,id:z})});const A=fh(w),N=fh(x),D=fh(E),W=[],P=[];return b.forEach((C,z)=>{if(k3(C,u)){W.push({label:C.label});return}if(rg(C)){const{portal:K,mount:ne,unmount:ue}=A.find(Q=>Q.id===z),{portal:G,mount:q,unmount:j}=N.find(Q=>Q.id===z);W.push({label:C.label,url:C.url,mount:ne,unmount:ue,mountIcon:q,unmountIcon:j}),P.push(K),P.push(G);return}if(ng(C)){const{portal:K,mount:ne,unmount:ue}=D.find(G=>G.id===z);W.push({label:C.label,url:C.url,mountIcon:ne,unmountIcon:ue}),P.push(K);return}}),{customPages:W,customPagesPortals:P}},k3=(t,e)=>{const{children:r,label:n,url:s,labelIcon:i}=t;return!r&&!s&&!i&&e.some(u=>u===n)},rg=t=>{const{children:e,label:r,url:n,labelIcon:s}=t;return!!e&&!!n&&!!s&&!!r},ng=t=>{const{children:e,label:r,url:n,labelIcon:s}=t;return!e&&!!n&&!!s&&!!r},dO=t=>pO({children:t,reorderItemsLabels:["manageAccount","signOut"],MenuItemsComponent:nm,MenuActionComponent:wS,MenuLinkComponent:_S,UserProfileLinkComponent:vc,UserProfilePageComponent:mc}),pO=({children:t,MenuItemsComponent:e,MenuActionComponent:r,MenuLinkComponent:n,UserProfileLinkComponent:s,UserProfilePageComponent:i,reorderItemsLabels:u})=>{const c=[],v=[],b=[];je.Children.forEach(t,N=>{if(!mn(N,e)&&!mn(N,s)&&!mn(N,i)){N&&vn(CD);return}if(mn(N,s)||mn(N,i))return;const{props:D}=N;je.Children.forEach(D.children,W=>{if(!mn(W,r)&&!mn(W,n)){W&&vn(PD);return}const{props:P}=W,{label:C,labelIcon:z,href:K,onClick:ne,open:ue}=P;if(mn(W,r))if(C3(P,u))c.push({label:C});else if(ig(P)){const G={label:C,labelIcon:z};if(ne!==void 0)c.push({...G,onClick:ne});else if(ue!==void 0)c.push({...G,open:ue.startsWith("/")?ue:`/${ue}`});else{vn("Custom menu item must have either onClick or open property");return}}else{vn(LD);return}if(mn(W,n))if(sg(P))c.push({label:C,labelIcon:z,href:K});else{vn(OD);return}})});const w=[],x=[];c.forEach((N,D)=>{ig(N)&&w.push({component:N.labelIcon,id:D}),sg(N)&&x.push({component:N.labelIcon,id:D})});const E=fh(w),A=fh(x);return c.forEach((N,D)=>{if(C3(N,u)&&v.push({label:N.label}),ig(N)){const{portal:W,mount:P,unmount:C}=E.find(K=>K.id===D),z={label:N.label,mountIcon:P,unmountIcon:C};"onClick"in N?z.onClick=N.onClick:"open"in N&&(z.open=N.open),v.push(z),b.push(W)}if(sg(N)){const{portal:W,mount:P,unmount:C}=A.find(z=>z.id===D);v.push({label:N.label,href:N.href,mountIcon:P,unmountIcon:C}),b.push(W)}}),{customMenuItems:v,customMenuItemsPortals:b}},C3=(t,e)=>{const{children:r,label:n,onClick:s,labelIcon:i}=t;return!r&&!s&&!i&&e.some(u=>u===n)},ig=t=>{const{label:e,labelIcon:r,onClick:n,open:s}=t;return!!r&&!!e&&(typeof n=="function"||typeof s=="string")},sg=t=>{const{label:e,href:r,labelIcon:n}=t;return!!r&&!!n&&!!e};function mO(t){const{root:e=document==null?void 0:document.body,selector:r,timeout:n=0}=t;return new Promise((s,i)=>{if(!e){i(new Error("No root element provided"));return}let u=e;if(r&&(u=e==null?void 0:e.querySelector(r)),(u==null?void 0:u.childElementCount)&&u.childElementCount>0){s();return}const v=new MutationObserver(b=>{for(const w of b)if(w.type==="childList"&&(!u&&r&&(u=e==null?void 0:e.querySelector(r)),u!=null&&u.childElementCount&&u.childElementCount>0)){v.disconnect(),s();return}});v.observe(e,{childList:!0,subtree:!0}),n>0&&setTimeout(()=>{v.disconnect(),i(new Error("Timeout waiting for element children"))},n)})}function ls(t){const e=fe.useRef(),[r,n]=fe.useState("rendering");return fe.useEffect(()=>{if(!t)throw new Error("Clerk: no component name provided, unable to detect mount.");typeof window<"u"&&!e.current&&(e.current=mO({selector:`[data-clerk-component="${t}"]`}).then(()=>{n("rendered")}).catch(()=>{n("error")}))},[t]),r}var Sd=t=>"mount"in t,P3=t=>"open"in t,N3=t=>t==null?void 0:t.map(({mountIcon:e,unmountIcon:r,...n})=>n),li=class extends je.PureComponent{constructor(){super(...arguments),this.rootRef=je.createRef()}componentDidUpdate(t){var e,r,n,s;if(!Sd(t)||!Sd(this.props))return;const i=T3(t.props,"customPages","customMenuItems","children"),u=T3(this.props.props,"customPages","customMenuItems","children"),c=((e=i.customPages)==null?void 0:e.length)!==((r=u.customPages)==null?void 0:r.length),v=((n=i.customMenuItems)==null?void 0:n.length)!==((s=u.customMenuItems)==null?void 0:s.length),b=N3(t.props.customMenuItems),w=N3(this.props.props.customMenuItems);(!E3(i,u)||!E3(b,w)||c||v)&&this.rootRef.current&&this.props.updateProps({node:this.rootRef.current,props:this.props.props})}componentDidMount(){this.rootRef.current&&(Sd(this.props)&&this.props.mount(this.rootRef.current,this.props.props),P3(this.props)&&this.props.open(this.props.props))}componentWillUnmount(){this.rootRef.current&&(Sd(this.props)&&this.props.unmount(this.rootRef.current),P3(this.props)&&this.props.close())}render(){const{hideRootHtmlElement:t=!1}=this.props,e={ref:this.rootRef,...this.props.rootProps,...this.props.component&&{"data-clerk-component":this.props.component}};return je.createElement(je.Fragment,null,!t&&je.createElement("div",{...e}),this.props.children)}},rm=t=>{var e,r;return je.createElement(je.Fragment,null,(e=t==null?void 0:t.customPagesPortals)==null?void 0:e.map((n,s)=>fe.createElement(n,{key:s})),(r=t==null?void 0:t.customMenuItemsPortals)==null?void 0:r.map((n,s)=>fe.createElement(n,{key:s})))},gS=Rr(({clerk:t,component:e,fallback:r,...n})=>{const i=ls(e)==="rendering"||!t.loaded,u={...i&&r&&{style:{display:"none"}}};return je.createElement(je.Fragment,null,i&&r,t.loaded&&je.createElement(li,{component:e,mount:t.mountSignIn,unmount:t.unmountSignIn,updateProps:t.__unstable__updateProps,props:n,rootProps:u}))},{component:"SignIn",renderWhileLoading:!0}),vO=Rr(({clerk:t,component:e,fallback:r,...n})=>{const i=ls(e)==="rendering"||!t.loaded,u={...i&&r&&{style:{display:"none"}}};return je.createElement(je.Fragment,null,i&&r,t.loaded&&je.createElement(li,{component:e,mount:t.mountSignUp,unmount:t.unmountSignUp,updateProps:t.__unstable__updateProps,props:n,rootProps:u}))},{component:"SignUp",renderWhileLoading:!0});function mc({children:t}){return vn(ED),je.createElement(je.Fragment,null,t)}function vc({children:t}){return vn(SD),je.createElement(je.Fragment,null,t)}var gO=Rr(({clerk:t,component:e,fallback:r,...n})=>{const i=ls(e)==="rendering"||!t.loaded,u={...i&&r&&{style:{display:"none"}}},{customPages:c,customPagesPortals:v}=dS(n.children);return je.createElement(je.Fragment,null,i&&r,je.createElement(li,{component:e,mount:t.mountUserProfile,unmount:t.unmountUserProfile,updateProps:t.__unstable__updateProps,props:{...n,customPages:c},rootProps:u},je.createElement(rm,{customPagesPortals:v})))},{component:"UserProfile",renderWhileLoading:!0});Object.assign(gO,{Page:mc,Link:vc});var yS=fe.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),yO=Rr(({clerk:t,component:e,fallback:r,...n})=>{const i=ls(e)==="rendering"||!t.loaded,u={...i&&r&&{style:{display:"none"}}},{customPages:c,customPagesPortals:v}=dS(n.children,{allowForAnyChildren:!!n.__experimental_asProvider}),b=Object.assign(n.userProfileProps||{},{customPages:c}),{customMenuItems:w,customMenuItemsPortals:x}=dO(n.children),E=mS(n.children),A={mount:t.mountUserButton,unmount:t.unmountUserButton,updateProps:t.__unstable__updateProps,props:{...n,userProfileProps:b,customMenuItems:w}},N={customPagesPortals:v,customMenuItemsPortals:x};return je.createElement(yS.Provider,{value:A},i&&r,t.loaded&&je.createElement(li,{component:e,...A,hideRootHtmlElement:!!n.__experimental_asProvider,rootProps:u},n.__experimental_asProvider?E:null,je.createElement(rm,{...N})))},{component:"UserButton",renderWhileLoading:!0});function nm({children:t}){return vn(ND),je.createElement(je.Fragment,null,t)}function wS({children:t}){return vn(BD),je.createElement(je.Fragment,null,t)}function _S({children:t}){return vn(DD),je.createElement(je.Fragment,null,t)}function wO(t){const e=fe.useContext(yS),r={...e,props:{...e.props,...t}};return je.createElement(li,{...r})}var bS=Object.assign(yO,{UserProfilePage:mc,UserProfileLink:vc,MenuItems:nm,Action:wS,Link:_S,__experimental_Outlet:wO});function im({children:t}){return vn(ID),je.createElement(je.Fragment,null,t)}function sm({children:t}){return vn(AD),je.createElement(je.Fragment,null,t)}var _O=Rr(({clerk:t,component:e,fallback:r,...n})=>{const i=ls(e)==="rendering"||!t.loaded,u={...i&&r&&{style:{display:"none"}}},{customPages:c,customPagesPortals:v}=pS(n.children);return je.createElement(je.Fragment,null,i&&r,t.loaded&&je.createElement(li,{component:e,mount:t.mountOrganizationProfile,unmount:t.unmountOrganizationProfile,updateProps:t.__unstable__updateProps,props:{...n,customPages:c},rootProps:u},je.createElement(rm,{customPagesPortals:v})))},{component:"OrganizationProfile",renderWhileLoading:!0});Object.assign(_O,{Page:im,Link:sm});Rr(({clerk:t,component:e,fallback:r,...n})=>{const i=ls(e)==="rendering"||!t.loaded,u={...i&&r&&{style:{display:"none"}}};return je.createElement(je.Fragment,null,i&&r,t.loaded&&je.createElement(li,{component:e,mount:t.mountCreateOrganization,unmount:t.unmountCreateOrganization,updateProps:t.__unstable__updateProps,props:n,rootProps:u}))},{component:"CreateOrganization",renderWhileLoading:!0});var xS=fe.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),bO=Rr(({clerk:t,component:e,fallback:r,...n})=>{const i=ls(e)==="rendering"||!t.loaded,u={...i&&r&&{style:{display:"none"}}},{customPages:c,customPagesPortals:v}=pS(n.children,{allowForAnyChildren:!!n.__experimental_asProvider}),b=Object.assign(n.organizationProfileProps||{},{customPages:c}),w=mS(n.children),x={mount:t.mountOrganizationSwitcher,unmount:t.unmountOrganizationSwitcher,updateProps:t.__unstable__updateProps,props:{...n,organizationProfileProps:b},rootProps:u,component:e};return t.__experimental_prefetchOrganizationSwitcher(),je.createElement(xS.Provider,{value:x},je.createElement(je.Fragment,null,i&&r,t.loaded&&je.createElement(li,{...x,hideRootHtmlElement:!!n.__experimental_asProvider},n.__experimental_asProvider?w:null,je.createElement(rm,{customPagesPortals:v}))))},{component:"OrganizationSwitcher",renderWhileLoading:!0});function xO(t){const e=fe.useContext(xS),r={...e,props:{...e.props,...t}};return je.createElement(li,{...r})}Object.assign(bO,{OrganizationProfilePage:im,OrganizationProfileLink:sm,__experimental_Outlet:xO});Rr(({clerk:t,component:e,fallback:r,...n})=>{const i=ls(e)==="rendering"||!t.loaded,u={...i&&r&&{style:{display:"none"}}};return je.createElement(je.Fragment,null,i&&r,t.loaded&&je.createElement(li,{component:e,mount:t.mountOrganizationList,unmount:t.unmountOrganizationList,updateProps:t.__unstable__updateProps,props:n,rootProps:u}))},{component:"OrganizationList",renderWhileLoading:!0});Rr(({clerk:t,component:e,fallback:r,...n})=>{const i=ls(e)==="rendering"||!t.loaded,u={...i&&r&&{style:{display:"none"}}};return je.createElement(je.Fragment,null,i&&r,t.loaded&&je.createElement(li,{component:e,open:t.openGoogleOneTap,close:t.closeGoogleOneTap,updateProps:t.__unstable__updateProps,props:n,rootProps:u}))},{component:"GoogleOneTap",renderWhileLoading:!0});Rr(({clerk:t,component:e,fallback:r,...n})=>{const i=ls(e)==="rendering"||!t.loaded,u={...i&&r&&{style:{display:"none"}}};return je.createElement(je.Fragment,null,i&&r,t.loaded&&je.createElement(li,{component:e,mount:t.mountWaitlist,unmount:t.unmountWaitlist,updateProps:t.__unstable__updateProps,props:n,rootProps:u}))},{component:"Waitlist",renderWhileLoading:!0});var MS=Rr(({clerk:t,children:e,...r})=>{const{signUpFallbackRedirectUrl:n,forceRedirectUrl:s,fallbackRedirectUrl:i,signUpForceRedirectUrl:u,mode:c,initialValues:v,withSignUp:b,...w}=r;e=em(e,"Sign in");const x=Xp(e)("SignInButton"),E=()=>{const D={forceRedirectUrl:s,fallbackRedirectUrl:i,signUpFallbackRedirectUrl:n,signUpForceRedirectUrl:u,initialValues:v,withSignUp:b};return c==="modal"?t.openSignIn({...D,appearance:r.appearance}):t.redirectToSignIn({...D,signInFallbackRedirectUrl:i,signInForceRedirectUrl:s})},N={...w,onClick:async D=>(x&&typeof x=="object"&&"props"in x&&await tm(x.props.onClick)(D),E())};return je.cloneElement(x,N)},{component:"SignInButton",renderWhileLoading:!0});Rr(({clerk:t,children:e,...r})=>{const{fallbackRedirectUrl:n,forceRedirectUrl:s,signInFallbackRedirectUrl:i,signInForceRedirectUrl:u,mode:c,unsafeMetadata:v,initialValues:b,...w}=r;e=em(e,"Sign up");const x=Xp(e)("SignUpButton"),E=()=>{const D={fallbackRedirectUrl:n,forceRedirectUrl:s,signInFallbackRedirectUrl:i,signInForceRedirectUrl:u,unsafeMetadata:v,initialValues:b};return c==="modal"?t.openSignUp({...D,appearance:r.appearance}):t.redirectToSignUp({...D,signUpFallbackRedirectUrl:n,signUpForceRedirectUrl:s})},N={...w,onClick:async D=>(x&&typeof x=="object"&&"props"in x&&await tm(x.props.onClick)(D),E())};return je.cloneElement(x,N)},{component:"SignUpButton",renderWhileLoading:!0});Rr(({clerk:t,children:e,...r})=>{const{redirectUrl:n="/",signOutOptions:s,...i}=r;e=em(e,"Sign out");const u=Xp(e)("SignOutButton"),c=()=>t.signOut({redirectUrl:n,...s}),b={...i,onClick:async w=>(await tm(u.props.onClick)(w),c())};return je.cloneElement(u,b)},{component:"SignOutButton",renderWhileLoading:!0});Rr(({clerk:t,children:e,...r})=>{const{redirectUrl:n,...s}=r;e=em(e,"Sign in with Metamask");const i=Xp(e)("SignInWithMetamaskButton"),u=async()=>{async function b(){await t.authenticateWithMetamask({redirectUrl:n||void 0})}b()},v={...s,onClick:async b=>(await tm(i.props.onClick)(b),u())};return je.cloneElement(i,v)},{component:"SignInWithMetamask",renderWhileLoading:!0});typeof globalThis.__BUILD_DISABLE_RHC__>"u"&&(globalThis.__BUILD_DISABLE_RHC__=!1);var MO={name:"@clerk/clerk-react",version:"5.25.2",environment:"production"},tt,wl,_l,eo,io,i0,Ey,ES=class SS{constructor(e){yl(this,i0),this.clerkjs=null,this.preopenOneTap=null,this.preopenUserVerification=null,this.preopenSignIn=null,this.preopenSignUp=null,this.preopenUserProfile=null,this.preopenOrganizationProfile=null,this.preopenCreateOrganization=null,this.preOpenWaitlist=null,this.premountSignInNodes=new Map,this.premountSignUpNodes=new Map,this.premountUserProfileNodes=new Map,this.premountUserButtonNodes=new Map,this.premountOrganizationProfileNodes=new Map,this.premountCreateOrganizationNodes=new Map,this.premountOrganizationSwitcherNodes=new Map,this.premountOrganizationListNodes=new Map,this.premountMethodCalls=new Map,this.premountWaitlistNodes=new Map,this.premountPricingTableNodes=new Map,this.premountAddListenerCalls=new Map,this.loadedListeners=[],yl(this,tt,!1),yl(this,wl),yl(this,_l),yl(this,eo),this.buildSignInUrl=s=>{const i=()=>{var u;return((u=this.clerkjs)==null?void 0:u.buildSignInUrl(s))||""};if(this.clerkjs&&Qe(this,tt))return i();this.premountMethodCalls.set("buildSignInUrl",i)},this.buildSignUpUrl=s=>{const i=()=>{var u;return((u=this.clerkjs)==null?void 0:u.buildSignUpUrl(s))||""};if(this.clerkjs&&Qe(this,tt))return i();this.premountMethodCalls.set("buildSignUpUrl",i)},this.buildAfterSignInUrl=(...s)=>{const i=()=>{var u;return((u=this.clerkjs)==null?void 0:u.buildAfterSignInUrl(...s))||""};if(this.clerkjs&&Qe(this,tt))return i();this.premountMethodCalls.set("buildAfterSignInUrl",i)},this.buildAfterSignUpUrl=(...s)=>{const i=()=>{var u;return((u=this.clerkjs)==null?void 0:u.buildAfterSignUpUrl(...s))||""};if(this.clerkjs&&Qe(this,tt))return i();this.premountMethodCalls.set("buildAfterSignUpUrl",i)},this.buildAfterSignOutUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildAfterSignOutUrl())||""};if(this.clerkjs&&Qe(this,tt))return s();this.premountMethodCalls.set("buildAfterSignOutUrl",s)},this.buildAfterMultiSessionSingleSignOutUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildAfterMultiSessionSingleSignOutUrl())||""};if(this.clerkjs&&Qe(this,tt))return s();this.premountMethodCalls.set("buildAfterMultiSessionSingleSignOutUrl",s)},this.buildUserProfileUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildUserProfileUrl())||""};if(this.clerkjs&&Qe(this,tt))return s();this.premountMethodCalls.set("buildUserProfileUrl",s)},this.buildCreateOrganizationUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildCreateOrganizationUrl())||""};if(this.clerkjs&&Qe(this,tt))return s();this.premountMethodCalls.set("buildCreateOrganizationUrl",s)},this.buildOrganizationProfileUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildOrganizationProfileUrl())||""};if(this.clerkjs&&Qe(this,tt))return s();this.premountMethodCalls.set("buildOrganizationProfileUrl",s)},this.buildWaitlistUrl=()=>{const s=()=>{var i;return((i=this.clerkjs)==null?void 0:i.buildWaitlistUrl())||""};if(this.clerkjs&&Qe(this,tt))return s();this.premountMethodCalls.set("buildWaitlistUrl",s)},this.buildUrlWithAuth=s=>{const i=()=>{var u;return((u=this.clerkjs)==null?void 0:u.buildUrlWithAuth(s))||""};if(this.clerkjs&&Qe(this,tt))return i();this.premountMethodCalls.set("buildUrlWithAuth",i)},this.handleUnauthenticated=async()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.handleUnauthenticated()};this.clerkjs&&Qe(this,tt)?s():this.premountMethodCalls.set("handleUnauthenticated",s)},this.addOnLoaded=s=>{this.loadedListeners.push(s),this.loaded&&this.emitLoaded()},this.emitLoaded=()=>{this.loadedListeners.forEach(s=>s()),this.loadedListeners=[]},this.hydrateClerkJS=s=>{if(!s)throw new Error("Failed to hydrate latest Clerk JS");return this.clerkjs=s,this.premountMethodCalls.forEach(i=>i()),this.premountAddListenerCalls.forEach((i,u)=>{i.nativeUnsubscribe=s.addListener(u)}),this.preopenSignIn!==null&&s.openSignIn(this.preopenSignIn),this.preopenSignUp!==null&&s.openSignUp(this.preopenSignUp),this.preopenUserProfile!==null&&s.openUserProfile(this.preopenUserProfile),this.preopenUserVerification!==null&&s.__internal_openReverification(this.preopenUserVerification),this.preopenOneTap!==null&&s.openGoogleOneTap(this.preopenOneTap),this.preopenOrganizationProfile!==null&&s.openOrganizationProfile(this.preopenOrganizationProfile),this.preopenCreateOrganization!==null&&s.openCreateOrganization(this.preopenCreateOrganization),this.preOpenWaitlist!==null&&s.openWaitlist(this.preOpenWaitlist),this.premountSignInNodes.forEach((i,u)=>{s.mountSignIn(u,i)}),this.premountSignUpNodes.forEach((i,u)=>{s.mountSignUp(u,i)}),this.premountUserProfileNodes.forEach((i,u)=>{s.mountUserProfile(u,i)}),this.premountUserButtonNodes.forEach((i,u)=>{s.mountUserButton(u,i)}),this.premountOrganizationListNodes.forEach((i,u)=>{s.mountOrganizationList(u,i)}),this.premountWaitlistNodes.forEach((i,u)=>{s.mountWaitlist(u,i)}),this.premountPricingTableNodes.forEach((i,u)=>{s.__experimental_mountPricingTable(u,i)}),al(this,tt,!0),this.emitLoaded(),this.clerkjs},this.__unstable__updateProps=async s=>{const i=await I3(this,i0,Ey).call(this);if(i&&"__unstable__updateProps"in i)return i.__unstable__updateProps(s)},this.__experimental_nextTask=async s=>this.clerkjs?this.clerkjs.__experimental_nextTask(s):Promise.reject(),this.setActive=s=>this.clerkjs?this.clerkjs.setActive(s):Promise.reject(),this.openSignIn=s=>{this.clerkjs&&Qe(this,tt)?this.clerkjs.openSignIn(s):this.preopenSignIn=s},this.closeSignIn=()=>{this.clerkjs&&Qe(this,tt)?this.clerkjs.closeSignIn():this.preopenSignIn=null},this.__internal_openReverification=s=>{this.clerkjs&&Qe(this,tt)?this.clerkjs.__internal_openReverification(s):this.preopenUserVerification=s},this.__internal_closeReverification=()=>{this.clerkjs&&Qe(this,tt)?this.clerkjs.__internal_closeReverification():this.preopenUserVerification=null},this.openGoogleOneTap=s=>{this.clerkjs&&Qe(this,tt)?this.clerkjs.openGoogleOneTap(s):this.preopenOneTap=s},this.closeGoogleOneTap=()=>{this.clerkjs&&Qe(this,tt)?this.clerkjs.closeGoogleOneTap():this.preopenOneTap=null},this.openUserProfile=s=>{this.clerkjs&&Qe(this,tt)?this.clerkjs.openUserProfile(s):this.preopenUserProfile=s},this.closeUserProfile=()=>{this.clerkjs&&Qe(this,tt)?this.clerkjs.closeUserProfile():this.preopenUserProfile=null},this.openOrganizationProfile=s=>{this.clerkjs&&Qe(this,tt)?this.clerkjs.openOrganizationProfile(s):this.preopenOrganizationProfile=s},this.closeOrganizationProfile=()=>{this.clerkjs&&Qe(this,tt)?this.clerkjs.closeOrganizationProfile():this.preopenOrganizationProfile=null},this.openCreateOrganization=s=>{this.clerkjs&&Qe(this,tt)?this.clerkjs.openCreateOrganization(s):this.preopenCreateOrganization=s},this.closeCreateOrganization=()=>{this.clerkjs&&Qe(this,tt)?this.clerkjs.closeCreateOrganization():this.preopenCreateOrganization=null},this.openWaitlist=s=>{this.clerkjs&&Qe(this,tt)?this.clerkjs.openWaitlist(s):this.preOpenWaitlist=s},this.closeWaitlist=()=>{this.clerkjs&&Qe(this,tt)?this.clerkjs.closeWaitlist():this.preOpenWaitlist=null},this.openSignUp=s=>{this.clerkjs&&Qe(this,tt)?this.clerkjs.openSignUp(s):this.preopenSignUp=s},this.closeSignUp=()=>{this.clerkjs&&Qe(this,tt)?this.clerkjs.closeSignUp():this.preopenSignUp=null},this.mountSignIn=(s,i)=>{this.clerkjs&&Qe(this,tt)?this.clerkjs.mountSignIn(s,i):this.premountSignInNodes.set(s,i)},this.unmountSignIn=s=>{this.clerkjs&&Qe(this,tt)?this.clerkjs.unmountSignIn(s):this.premountSignInNodes.delete(s)},this.__experimental_mountPricingTable=(s,i)=>{this.clerkjs&&Qe(this,tt)?this.clerkjs.__experimental_mountPricingTable(s,i):this.premountPricingTableNodes.set(s,i)},this.__experimental_unmountPricingTable=s=>{this.clerkjs&&Qe(this,tt)?this.clerkjs.__experimental_unmountPricingTable(s):this.premountPricingTableNodes.delete(s)},this.mountSignUp=(s,i)=>{this.clerkjs&&Qe(this,tt)?this.clerkjs.mountSignUp(s,i):this.premountSignUpNodes.set(s,i)},this.unmountSignUp=s=>{this.clerkjs&&Qe(this,tt)?this.clerkjs.unmountSignUp(s):this.premountSignUpNodes.delete(s)},this.mountUserProfile=(s,i)=>{this.clerkjs&&Qe(this,tt)?this.clerkjs.mountUserProfile(s,i):this.premountUserProfileNodes.set(s,i)},this.unmountUserProfile=s=>{this.clerkjs&&Qe(this,tt)?this.clerkjs.unmountUserProfile(s):this.premountUserProfileNodes.delete(s)},this.mountOrganizationProfile=(s,i)=>{this.clerkjs&&Qe(this,tt)?this.clerkjs.mountOrganizationProfile(s,i):this.premountOrganizationProfileNodes.set(s,i)},this.unmountOrganizationProfile=s=>{this.clerkjs&&Qe(this,tt)?this.clerkjs.unmountOrganizationProfile(s):this.premountOrganizationProfileNodes.delete(s)},this.mountCreateOrganization=(s,i)=>{this.clerkjs&&Qe(this,tt)?this.clerkjs.mountCreateOrganization(s,i):this.premountCreateOrganizationNodes.set(s,i)},this.unmountCreateOrganization=s=>{this.clerkjs&&Qe(this,tt)?this.clerkjs.unmountCreateOrganization(s):this.premountCreateOrganizationNodes.delete(s)},this.mountOrganizationSwitcher=(s,i)=>{this.clerkjs&&Qe(this,tt)?this.clerkjs.mountOrganizationSwitcher(s,i):this.premountOrganizationSwitcherNodes.set(s,i)},this.unmountOrganizationSwitcher=s=>{this.clerkjs&&Qe(this,tt)?this.clerkjs.unmountOrganizationSwitcher(s):this.premountOrganizationSwitcherNodes.delete(s)},this.__experimental_prefetchOrganizationSwitcher=()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.__experimental_prefetchOrganizationSwitcher()};this.clerkjs&&Qe(this,tt)?s():this.premountMethodCalls.set("__experimental_prefetchOrganizationSwitcher",s)},this.mountOrganizationList=(s,i)=>{this.clerkjs&&Qe(this,tt)?this.clerkjs.mountOrganizationList(s,i):this.premountOrganizationListNodes.set(s,i)},this.unmountOrganizationList=s=>{this.clerkjs&&Qe(this,tt)?this.clerkjs.unmountOrganizationList(s):this.premountOrganizationListNodes.delete(s)},this.mountUserButton=(s,i)=>{this.clerkjs&&Qe(this,tt)?this.clerkjs.mountUserButton(s,i):this.premountUserButtonNodes.set(s,i)},this.unmountUserButton=s=>{this.clerkjs&&Qe(this,tt)?this.clerkjs.unmountUserButton(s):this.premountUserButtonNodes.delete(s)},this.mountWaitlist=(s,i)=>{this.clerkjs&&Qe(this,tt)?this.clerkjs.mountWaitlist(s,i):this.premountWaitlistNodes.set(s,i)},this.unmountWaitlist=s=>{this.clerkjs&&Qe(this,tt)?this.clerkjs.unmountWaitlist(s):this.premountWaitlistNodes.delete(s)},this.addListener=s=>{if(this.clerkjs)return this.clerkjs.addListener(s);{const i=()=>{var u;const c=this.premountAddListenerCalls.get(s);c&&((u=c.nativeUnsubscribe)==null||u.call(c),this.premountAddListenerCalls.delete(s))};return this.premountAddListenerCalls.set(s,{unsubscribe:i,nativeUnsubscribe:void 0}),i}},this.navigate=s=>{const i=()=>{var u;return(u=this.clerkjs)==null?void 0:u.navigate(s)};this.clerkjs&&Qe(this,tt)?i():this.premountMethodCalls.set("navigate",i)},this.redirectWithAuth=async(...s)=>{const i=()=>{var u;return(u=this.clerkjs)==null?void 0:u.redirectWithAuth(...s)};if(this.clerkjs&&Qe(this,tt))return i();this.premountMethodCalls.set("redirectWithAuth",i)},this.redirectToSignIn=async s=>{const i=()=>{var u;return(u=this.clerkjs)==null?void 0:u.redirectToSignIn(s)};if(this.clerkjs&&Qe(this,tt))return i();this.premountMethodCalls.set("redirectToSignIn",i)},this.redirectToSignUp=async s=>{const i=()=>{var u;return(u=this.clerkjs)==null?void 0:u.redirectToSignUp(s)};if(this.clerkjs&&Qe(this,tt))return i();this.premountMethodCalls.set("redirectToSignUp",i)},this.redirectToUserProfile=async()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToUserProfile()};if(this.clerkjs&&Qe(this,tt))return s();this.premountMethodCalls.set("redirectToUserProfile",s)},this.redirectToAfterSignUp=()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignUp()};if(this.clerkjs&&Qe(this,tt))return s();this.premountMethodCalls.set("redirectToAfterSignUp",s)},this.redirectToAfterSignIn=()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignIn()};this.clerkjs&&Qe(this,tt)?s():this.premountMethodCalls.set("redirectToAfterSignIn",s)},this.redirectToAfterSignOut=()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToAfterSignOut()};this.clerkjs&&Qe(this,tt)?s():this.premountMethodCalls.set("redirectToAfterSignOut",s)},this.redirectToOrganizationProfile=async()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToOrganizationProfile()};if(this.clerkjs&&Qe(this,tt))return s();this.premountMethodCalls.set("redirectToOrganizationProfile",s)},this.redirectToCreateOrganization=async()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToCreateOrganization()};if(this.clerkjs&&Qe(this,tt))return s();this.premountMethodCalls.set("redirectToCreateOrganization",s)},this.redirectToWaitlist=async()=>{const s=()=>{var i;return(i=this.clerkjs)==null?void 0:i.redirectToWaitlist()};if(this.clerkjs&&Qe(this,tt))return s();this.premountMethodCalls.set("redirectToWaitlist",s)},this.handleRedirectCallback=async s=>{var i;const u=()=>{var c;return(c=this.clerkjs)==null?void 0:c.handleRedirectCallback(s)};this.clerkjs&&Qe(this,tt)?(i=u())==null||i.catch(()=>{}):this.premountMethodCalls.set("handleRedirectCallback",u)},this.handleGoogleOneTapCallback=async(s,i)=>{var u;const c=()=>{var v;return(v=this.clerkjs)==null?void 0:v.handleGoogleOneTapCallback(s,i)};this.clerkjs&&Qe(this,tt)?(u=c())==null||u.catch(()=>{}):this.premountMethodCalls.set("handleGoogleOneTapCallback",c)},this.handleEmailLinkVerification=async s=>{const i=()=>{var u;return(u=this.clerkjs)==null?void 0:u.handleEmailLinkVerification(s)};if(this.clerkjs&&Qe(this,tt))return i();this.premountMethodCalls.set("handleEmailLinkVerification",i)},this.authenticateWithMetamask=async s=>{const i=()=>{var u;return(u=this.clerkjs)==null?void 0:u.authenticateWithMetamask(s)};if(this.clerkjs&&Qe(this,tt))return i();this.premountMethodCalls.set("authenticateWithMetamask",i)},this.authenticateWithCoinbaseWallet=async s=>{const i=()=>{var u;return(u=this.clerkjs)==null?void 0:u.authenticateWithCoinbaseWallet(s)};if(this.clerkjs&&Qe(this,tt))return i();this.premountMethodCalls.set("authenticateWithCoinbaseWallet",i)},this.authenticateWithOKXWallet=async s=>{const i=()=>{var u;return(u=this.clerkjs)==null?void 0:u.authenticateWithOKXWallet(s)};if(this.clerkjs&&Qe(this,tt))return i();this.premountMethodCalls.set("authenticateWithOKXWallet",i)},this.authenticateWithWeb3=async s=>{const i=()=>{var u;return(u=this.clerkjs)==null?void 0:u.authenticateWithWeb3(s)};if(this.clerkjs&&Qe(this,tt))return i();this.premountMethodCalls.set("authenticateWithWeb3",i)},this.authenticateWithGoogleOneTap=async s=>(await I3(this,i0,Ey).call(this)).authenticateWithGoogleOneTap(s),this.createOrganization=async s=>{const i=()=>{var u;return(u=this.clerkjs)==null?void 0:u.createOrganization(s)};if(this.clerkjs&&Qe(this,tt))return i();this.premountMethodCalls.set("createOrganization",i)},this.getOrganization=async s=>{const i=()=>{var u;return(u=this.clerkjs)==null?void 0:u.getOrganization(s)};if(this.clerkjs&&Qe(this,tt))return i();this.premountMethodCalls.set("getOrganization",i)},this.joinWaitlist=async s=>{const i=()=>{var u;return(u=this.clerkjs)==null?void 0:u.joinWaitlist(s)};if(this.clerkjs&&Qe(this,tt))return i();this.premountMethodCalls.set("joinWaitlist",i)},this.signOut=async(...s)=>{const i=()=>{var u;return(u=this.clerkjs)==null?void 0:u.signOut(...s)};if(this.clerkjs&&Qe(this,tt))return i();this.premountMethodCalls.set("signOut",i)};const{Clerk:r=null,publishableKey:n}=e||{};al(this,eo,n),al(this,_l,e==null?void 0:e.proxyUrl),al(this,wl,e==null?void 0:e.domain),this.options=e,this.Clerk=r,this.mode=R3()?"browser":"server",this.options.sdkMetadata||(this.options.sdkMetadata=MO),Qe(this,eo)&&this.loadClerkJS()}get publishableKey(){return Qe(this,eo)}get loaded(){return Qe(this,tt)}static getOrCreateInstance(e){return(!R3()||!Qe(this,io)||e.Clerk&&Qe(this,io).Clerk!==e.Clerk||Qe(this,io).publishableKey!==e.publishableKey)&&al(this,io,new SS(e)),Qe(this,io)}static clearInstance(){al(this,io,null)}get domain(){return typeof window<"u"&&window.location?tg(Qe(this,wl),new URL(window.location.href),""):typeof Qe(this,wl)=="function"?Qi.throw(eg):Qe(this,wl)||""}get proxyUrl(){return typeof window<"u"&&window.location?tg(Qe(this,_l),new URL(window.location.href),""):typeof Qe(this,_l)=="function"?Qi.throw(eg):Qe(this,_l)||""}__internal_getOption(e){var r;return(r=this.clerkjs)==null?void 0:r.__internal_getOption(e)}get sdkMetadata(){var e;return((e=this.clerkjs)==null?void 0:e.sdkMetadata)||this.options.sdkMetadata||void 0}get instanceType(){var e;return(e=this.clerkjs)==null?void 0:e.instanceType}get frontendApi(){var e;return((e=this.clerkjs)==null?void 0:e.frontendApi)||""}get isStandardBrowser(){var e;return((e=this.clerkjs)==null?void 0:e.isStandardBrowser)||this.options.standardBrowser||!1}get isSatellite(){return typeof window<"u"&&window.location?tg(this.options.isSatellite,new URL(window.location.href),!1):typeof this.options.isSatellite=="function"?Qi.throw(eg):!1}async loadClerkJS(){var e;if(!(this.mode!=="browser"||Qe(this,tt))){typeof window<"u"&&(window.__clerk_publishable_key=Qe(this,eo),window.__clerk_proxy_url=this.proxyUrl,window.__clerk_domain=this.domain);try{if(this.Clerk){let r;fO(this.Clerk)?(r=new this.Clerk(Qe(this,eo),{proxyUrl:this.proxyUrl,domain:this.domain}),await r.load(this.options)):(r=this.Clerk,r.loaded||await r.load(this.options)),Vr.Clerk=r}else if(!__BUILD_DISABLE_RHC__){if(Vr.Clerk||await nO({...this.options,publishableKey:Qe(this,eo),proxyUrl:this.proxyUrl,domain:this.domain,nonce:this.options.nonce}),!Vr.Clerk)throw new Error("Failed to download latest ClerkJS. Contact support@clerk.com.");await Vr.Clerk.load(this.options)}return(e=Vr.Clerk)!=null&&e.loaded?this.hydrateClerkJS(Vr.Clerk):void 0}catch(r){const n=r;console.error(n.stack||n.message||n);return}}}get version(){var e;return(e=this.clerkjs)==null?void 0:e.version}get client(){if(this.clerkjs)return this.clerkjs.client}get session(){if(this.clerkjs)return this.clerkjs.session}get user(){if(this.clerkjs)return this.clerkjs.user}get organization(){if(this.clerkjs)return this.clerkjs.organization}get telemetry(){if(this.clerkjs)return this.clerkjs.telemetry}get __unstable__environment(){if(this.clerkjs)return this.clerkjs.__unstable__environment}get isSignedIn(){return this.clerkjs?this.clerkjs.isSignedIn:!1}get __experimental_commerce(){var e;return(e=this.clerkjs)==null?void 0:e.__experimental_commerce}__unstable__setEnvironment(...e){if(this.clerkjs&&"__unstable__setEnvironment"in this.clerkjs)this.clerkjs.__unstable__setEnvironment(e);else return}};tt=new WeakMap;wl=new WeakMap;_l=new WeakMap;eo=new WeakMap;io=new WeakMap;i0=new WeakSet;Ey=function(){return new Promise(t=>{this.addOnLoaded(()=>t(this.clerkjs))})};yl(ES,io);var B3=ES;function EO(t){const{isomorphicClerkOptions:e,initialState:r,children:n}=t,{isomorphicClerk:s,loaded:i}=SO(e),[u,c]=je.useState({client:s.client,session:s.session,user:s.user,organization:s.organization});je.useEffect(()=>s.addListener(Q=>c({...Q})),[]);const v=aO(i,u,r),b=je.useMemo(()=>({value:s}),[i]),w=je.useMemo(()=>({value:u.client}),[u.client]),{sessionId:x,session:E,userId:A,user:N,orgId:D,actor:W,organization:P,orgRole:C,orgSlug:z,orgPermissions:K,factorVerificationAge:ne}=v,ue=je.useMemo(()=>({value:{sessionId:x,userId:A,actor:W,orgId:D,orgRole:C,orgSlug:z,orgPermissions:K,factorVerificationAge:ne}}),[x,A,W,D,C,z,ne]),G=je.useMemo(()=>({value:E}),[x,E]),q=je.useMemo(()=>({value:N}),[A,N]),j=je.useMemo(()=>({value:{organization:P}}),[D,P]);return je.createElement(_D.Provider,{value:b},je.createElement(hD.Provider,{value:w},je.createElement(cD.Provider,{value:G},je.createElement(pD,{...j.value},je.createElement(wD.Provider,{value:ue},je.createElement(uD.Provider,{value:q},n))))))}var SO=t=>{const[e,r]=je.useState(!1),n=je.useMemo(()=>B3.getOrCreateInstance(t),[]);return je.useEffect(()=>{n.__unstable__updateProps({appearance:t.appearance})},[t.appearance]),je.useEffect(()=>{n.__unstable__updateProps({options:t})},[t.localization]),je.useEffect(()=>{n.addOnLoaded(()=>r(!0))},[]),je.useEffect(()=>()=>{B3.clearInstance(),r(!1)},[]),{isomorphicClerk:n,loaded:e}};function IO(t){const{initialState:e,children:r,__internal_bypassMissingPublishableKey:n,...s}=t,{publishableKey:i="",Clerk:u}=s;return!u&&!n&&(i?i&&!fy(i)&&Qi.throwInvalidPublishableKeyError({key:i}):Qi.throwMissingPublishableKeyError()),je.createElement(EO,{initialState:e,isomorphicClerkOptions:s},r)}var IS=cO(IO,"ClerkProvider",bD);IS.displayName="ClerkProvider";yD({packageName:"@clerk/clerk-react"});rO("@clerk/clerk-react");const AO={},TO=Object.freeze(Object.defineProperty({__proto__:null,default:AO},Symbol.toStringTag,{value:"Module"})),ui=t5(TO),RO={isPremium:!1,paymentStatus:void 0,analysisCount:0,theme:"dark",trades:[],settings:{preferredTimeframes:["15M","1H"],notifications:!0},tradingStats:{wins:0,losses:0,winRate:0,lastUpdated:new Date().toISOString()},supportMessages:[]};async function ws(t){const e=await t.unsafeMetadata;return{...RO,...e}}async function Mo(t,e){try{const r=await ws(t);await t.update({unsafeMetadata:{...r,...e}})}catch(r){throw console.error("Failed to update user metadata:",r),new Error("Failed to save your data. Please try again.")}}async function kO(t,e,r,n){try{const i=(await ws(t)).supportMessages||[],u=i.findIndex(c=>c.messageId===e);return u>=0?i[u].replies.push(n):i.push({messageId:e,originalMessage:r,replies:[n],createdAt:new Date().toISOString()}),await Mo(t,{supportMessages:i}),!0}catch(s){return console.error("Failed to save support message to metadata:",s),!1}}const CO=fe.createContext(void 0);function PO({children:t}){const{user:e,isLoaded:r}=as(),[n,s]=fe.useState("dark");fe.useEffect(()=>{!r||!e||ws(e).then(u=>{s(u.theme),document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(u.theme)})},[e,r]);const i=async()=>{if(!e)return;const u=n==="dark"?"light":"dark";s(u),document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(u),await Mo(e,{theme:u})};return U.jsx(CO.Provider,{value:{theme:n,toggleTheme:i},children:t})}const AS=fe.createContext(void 0);function NO({children:t}){const[e,r]=fe.useState([]),[n,s]=fe.useState(0),[i,u]=fe.useState(0),[c,v]=fe.useState(0),[,b]=fe.useState(null),{user:w}=as();fe.useEffect(()=>{(async()=>{if(w)try{const W=await ws(w);r((W==null?void 0:W.trades)||[])}catch(W){console.error("Failed to load trades:",W),b("Failed to load your trades")}})()},[w]),fe.useEffect(()=>{(async()=>{var W;if(w)try{const C=((W=(await ws(w)).trades)==null?void 0:W.filter(ne=>ne.result))||[],z=C.filter(ne=>ne.result==="WIN").length,K=C.filter(ne=>ne.result==="LOSS").length;s(z),u(K),v(z+K>0?z/(z+K)*100:0)}catch(P){console.error("Failed to load trading stats:",P)}})()},[w]);const x=async D=>{if(!w)throw new Error("User not authenticated");try{const W=crypto.randomUUID(),P={...D,id:W,date:new Date().toISOString()},C=await ws(w),z=[P,...C.trades||[]];return await Mo(w,{trades:z}),r(z),W}catch(W){throw console.error("Failed to save trade:",W),new Error("Failed to save trade. Please try again.")}},E=async(D,W,P)=>{if(!w)throw new Error("User not authenticated");const C=e.map(z=>z.id===D?{...z,result:W,tradeStats:P,lastModified:new Date().toISOString()}:z);try{await Mo(w,{trades:C}),r(C)}catch(z){throw console.error("Failed to update trade result:",z),new Error("Failed to update trade result. Please try again.")}},A=async D=>{if(!w)return;const W=D==="WIN"?n+1:n,P=D==="LOSS"?i+1:i,C=W+P,z=C>0?W/C*100:0;try{s(W),u(P),v(z),await Mo(w,{tradingStats:{wins:W,losses:P,winRate:z,lastUpdated:new Date().toISOString()}})}catch(K){console.error("Failed to update trading stats:",K),await N()}},N=async()=>{if(w)try{const W=(await ws(w)).tradingStats||{wins:0,losses:0,winRate:0};s(W.wins),u(W.losses),v(W.winRate)}catch(D){console.error("Failed to load trading stats:",D)}};return U.jsx(AS.Provider,{value:{trades:e,saveTrade:x,updateTradeResult:E,updateWinRateStats:A,winRate:c,totalTrades:e.length,wins:n,losses:i},children:t})}const TS=()=>{const t=fe.useContext(AS);if(!t)throw new Error("useTrades must be used within TradesProvider");return t};var RS={},Sy=function(t,e){return Sy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Sy(t,e)};function kS(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Sy(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Q0=function(){return Q0=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Q0.apply(this,arguments)};function CS(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function PS(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var c=t.length-1;c>=0;c--)(u=t[c])&&(i=(s<3?u(i):s>3?u(e,r,i):u(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function NS(t,e){return function(r,n){e(r,n,t)}}function BS(t,e,r,n,s,i){function u(P){if(P!==void 0&&typeof P!="function")throw new TypeError("Function expected");return P}for(var c=n.kind,v=c==="getter"?"get":c==="setter"?"set":"value",b=!e&&t?n.static?t:t.prototype:null,w=e||(b?Object.getOwnPropertyDescriptor(b,n.name):{}),x,E=!1,A=r.length-1;A>=0;A--){var N={};for(var D in n)N[D]=D==="access"?{}:n[D];for(var D in n.access)N.access[D]=n.access[D];N.addInitializer=function(P){if(E)throw new TypeError("Cannot add initializers after decoration has completed");i.push(u(P||null))};var W=(0,r[A])(c==="accessor"?{get:w.get,set:w.set}:w[v],N);if(c==="accessor"){if(W===void 0)continue;if(W===null||typeof W!="object")throw new TypeError("Object expected");(x=u(W.get))&&(w.get=x),(x=u(W.set))&&(w.set=x),(x=u(W.init))&&s.unshift(x)}else(x=u(W))&&(c==="field"?s.unshift(x):w[v]=x)}b&&Object.defineProperty(b,n.name,w),E=!0}function DS(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function OS(t){return typeof t=="symbol"?t:"".concat(t)}function LS(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function FS(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function VS(t,e,r,n){function s(i){return i instanceof r?i:new r(function(u){u(i)})}return new(r||(r=Promise))(function(i,u){function c(w){try{b(n.next(w))}catch(x){u(x)}}function v(w){try{b(n.throw(w))}catch(x){u(x)}}function b(w){w.done?i(w.value):s(w.value).then(c,v)}b((n=n.apply(t,e||[])).next())})}function US(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,u=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return u.next=c(0),u.throw=c(1),u.return=c(2),typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function c(b){return function(w){return v([b,w])}}function v(b){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,b[0]&&(r=0)),r;)try{if(n=1,s&&(i=b[0]&2?s.return:b[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,b[1])).done)return i;switch(s=0,i&&(b=[b[0]&2,i.value]),b[0]){case 0:case 1:i=b;break;case 4:return r.label++,{value:b[1],done:!1};case 5:r.label++,s=b[1],b=[0];continue;case 7:b=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(b[0]===6||b[0]===2)){r=0;continue}if(b[0]===3&&(!i||b[1]>i[0]&&b[1]<i[3])){r.label=b[1];break}if(b[0]===6&&r.label<i[1]){r.label=i[1],i=b;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(b);break}i[2]&&r.ops.pop(),r.trys.pop();continue}b=e.call(t,r)}catch(w){b=[6,w],s=0}finally{n=i=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}}var om=Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function jS(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&om(e,t,r)}function Y0(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Tw(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],u;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(c){u={error:c}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return i}function zS(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Tw(arguments[e]));return t}function $S(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],u=0,c=i.length;u<c;u++,s++)n[s]=i[u];return n}function qS(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function lu(t){return this instanceof lu?(this.v=t,this):new lu(t)}function HS(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",u),s[Symbol.asyncIterator]=function(){return this},s;function u(A){return function(N){return Promise.resolve(N).then(A,x)}}function c(A,N){n[A]&&(s[A]=function(D){return new Promise(function(W,P){i.push([A,D,W,P])>1||v(A,D)})},N&&(s[A]=N(s[A])))}function v(A,N){try{b(n[A](N))}catch(D){E(i[0][3],D)}}function b(A){A.value instanceof lu?Promise.resolve(A.value.v).then(w,x):E(i[0][2],A)}function w(A){v("next",A)}function x(A){v("throw",A)}function E(A,N){A(N),i.shift(),i.length&&v(i[0][0],i[0][1])}}function KS(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(u){return(r=!r)?{value:lu(t[s](u)),done:!1}:i?i(u):u}:i}}function WS(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Y0=="function"?Y0(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(u){return new Promise(function(c,v){u=t[i](u),s(c,v,u.done,u.value)})}}function s(i,u,c,v){Promise.resolve(v).then(function(b){i({value:b,done:c})},u)}}function GS(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var BO=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Iy=function(t){return Iy=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Iy(t)};function ZS(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Iy(t),n=0;n<r.length;n++)r[n]!=="default"&&om(e,t,r[n]);return BO(e,t),e}function QS(t){return t&&t.__esModule?t:{default:t}}function YS(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function JS(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function XS(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function e9(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var DO=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function t9(t){function e(i){t.error=t.hasError?new DO(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(u){return e(u),s()})}else n|=1}catch(u){e(u)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function r9(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,u){return n?e?".jsx":".js":s&&(!i||!u)?r:s+i+"."+u.toLowerCase()+"js"}):t}const OO={__extends:kS,__assign:Q0,__rest:CS,__decorate:PS,__param:NS,__esDecorate:BS,__runInitializers:DS,__propKey:OS,__setFunctionName:LS,__metadata:FS,__awaiter:VS,__generator:US,__createBinding:om,__exportStar:jS,__values:Y0,__read:Tw,__spread:zS,__spreadArrays:$S,__spreadArray:qS,__await:lu,__asyncGenerator:HS,__asyncDelegator:KS,__asyncValues:WS,__makeTemplateObject:GS,__importStar:ZS,__importDefault:QS,__classPrivateFieldGet:YS,__classPrivateFieldSet:JS,__classPrivateFieldIn:XS,__addDisposableResource:e9,__disposeResources:t9,__rewriteRelativeImportExtension:r9},LO=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:e9,get __assign(){return Q0},__asyncDelegator:KS,__asyncGenerator:HS,__asyncValues:WS,__await:lu,__awaiter:VS,__classPrivateFieldGet:YS,__classPrivateFieldIn:XS,__classPrivateFieldSet:JS,__createBinding:om,__decorate:PS,__disposeResources:t9,__esDecorate:BS,__exportStar:jS,__extends:kS,__generator:US,__importDefault:QS,__importStar:ZS,__makeTemplateObject:GS,__metadata:FS,__param:NS,__propKey:OS,__read:Tw,__rest:CS,__rewriteRelativeImportExtension:r9,__runInitializers:DS,__setFunctionName:LS,__spread:zS,__spreadArray:qS,__spreadArrays:$S,__values:Y0,default:OO},Symbol.toStringTag,{value:"Module"})),n9=t5(LO);var _f={},D3;function gc(){if(D3)return _f;D3=1,Object.defineProperty(_f,"__esModule",{value:!0}),_f.experimental_createTheme=void 0;const t=e=>({...e,__type:"prebuilt_appearance"});return _f.experimental_createTheme=t,_f}var og={},bf={},O3;function i9(){if(O3)return bf;O3=1,Object.defineProperty(bf,"__esModule",{value:!0}),bf.dark=void 0;const t=gc();return bf.dark=(0,t.experimental_createTheme)({variables:{colorBackground:"#212126",colorNeutral:"white",colorPrimary:"#ffffff",colorTextOnPrimaryBackground:"black",colorText:"white",colorInputText:"white",colorInputBackground:"#26262B"},elements:{providerIcon__apple:{filter:"invert(1)"},providerIcon__github:{filter:"invert(1)"},providerIcon__okx_wallet:{filter:"invert(1)"},activeDeviceIcon:{"--cl-chassis-bottom":"#d2d2d2","--cl-chassis-back":"#e6e6e6","--cl-chassis-screen":"#e6e6e6","--cl-screen":"#111111"}}}),bf}var xf={},L3;function FO(){if(L3)return xf;L3=1,Object.defineProperty(xf,"__esModule",{value:!0}),xf.shadesOfPurple=void 0;const t=gc(),e=i9();return xf.shadesOfPurple=(0,t.experimental_createTheme)({baseTheme:e.dark,variables:{colorBackground:"#3f3c77",colorPrimary:"#f8d80d",colorTextOnPrimaryBackground:"#38375f",colorInputText:"#a1fdfe",colorShimmer:"rgba(161,253,254,0.36)"}}),xf}var Mf={},F3;function VO(){if(F3)return Mf;F3=1,Object.defineProperty(Mf,"__esModule",{value:!0}),Mf.neobrutalism=void 0;const t=gc(),e={boxShadow:"3px 3px 0px #000",border:"2px solid #000","&:focus":{boxShadow:"4px 4px 0px #000",border:"2px solid #000",transform:"scale(1.01)"},"&:active":{boxShadow:"2px 2px 0px #000",transform:"translate(1px)"}},r={boxShadow:"3px 3px 0px #000",border:"2px solid #000"};return Mf.neobrutalism=(0,t.experimental_createTheme)({simpleStyles:!0,variables:{colorPrimary:"#DF1B1B",colorShimmer:"rgba(255,255,255,0.64)",fontWeight:{normal:500,medium:600,bold:700}},elements:{cardBox:{boxShadow:"7px 7px 0px #000",border:"3px solid #000"},card:{borderRadius:"0"},headerSubtitle:{color:"#212126"},alternativeMethodsBlockButton:e,socialButtonsIconButton:{...e},selectButton:{...e,...r,transition:"all 0.2s ease-in-out","&:focus":{boxShadow:"4px 4px 0px #000",border:"2px solid #000",transform:"scale(1.01)"}},socialButtonsBlockButton:{...e,color:"#212126"},profileSectionPrimaryButton:e,profileSectionItem:{color:"#212126"},avatarImageActionsUpload:e,menuButton:r,menuList:r,formButtonPrimary:e,navbarButton:e,formFieldAction:{fontWeight:"700"},formFieldInput:{...r,transition:"all 0.2s ease-in-out","&:focus":{boxShadow:"4px 4px 0px #000",border:"2px solid #000",transform:"scale(1.01)"},"&:hover":{...r,transform:"scale(1.01)"}},table:r,tableHead:{color:"#212126"},dividerLine:{background:"#000"},dividerText:{fontWeight:"700",color:"#212126"},footer:{background:"#fff","& div":{color:"#212126"}},footerActionText:{color:"#212126"},footerActionLink:{fontWeight:"700",borderBottom:"3px solid","&:focus":{boxShadow:"none"}},actionCard:{...r},badge:{border:"1px solid #000",background:"#fff",color:"#212126"}}}),Mf}var Ef={},V3;function UO(){if(V3)return Ef;V3=1,Object.defineProperty(Ef,"__esModule",{value:!0}),Ef.experimental__simple=void 0;const t=gc();return Ef.experimental__simple=(0,t.experimental_createTheme)({simpleStyles:!0}),Ef}var U3;function jO(){return U3||(U3=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=n9;e.__exportStar(i9(),t),e.__exportStar(FO(),t),e.__exportStar(VO(),t),e.__exportStar(UO(),t)}(og)),og}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=n9;e.__exportStar(gc(),t),e.__exportStar(jO(),t)})(RS);function zO({children:t}){return U.jsx(IS,{publishableKey:"pk_test_ZnJlZS1jYWxmLTc4LmNsZXJrLmFjY291bnRzLmRldiQ",appearance:{baseTheme:RS.dark,variables:{colorPrimary:"#60A5FA",colorBackground:"rgba(15, 23, 42, 0.3)",colorText:"#fff",colorTextSecondary:"#94A3B8"},elements:{card:"bg-slate-900/30 backdrop-blur-xl border border-blue-500/20 shadow-2xl shadow-blue-500/5 rounded-xl mx-auto max-w-md w-full",headerTitle:"text-white text-2xl font-bold",headerSubtitle:"text-blue-200/80",socialButtonsBlockButton:"bg-slate-800/50 border border-blue-300/10 hover:bg-slate-700/50 hover:border-blue-400/20 transition-all duration-200",socialButtonsBlockButtonText:"text-white",formButtonPrimary:"bg-blue-500/80 hover:bg-blue-600/80 shadow-lg shadow-blue-500/20 transition-all duration-200",formFieldInput:"bg-slate-800/30 border-blue-300/20 text-white placeholder-blue-200/30 focus:border-blue-400/50 transition-all duration-200",formFieldLabel:"text-blue-100/80",dividerLine:"bg-blue-300/10",dividerText:"text-blue-200/50",footerActionLink:"text-blue-400 hover:text-blue-300",footer:"[&>*:first-child]:block [&>*:nth-child(n+2)]:!hidden",rootBox:"p-4 sm:p-6 z-50",main:"relative",card__main:"relative z-10 p-6",badge:"[&_div[data-localization-key='developmentBadge']]:!hidden"}},children:t})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $O={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Xt=(t,e)=>{const r=fe.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:u,className:c="",children:v,...b},w)=>fe.createElement("svg",{ref:w,...$O,width:s,height:s,stroke:n,strokeWidth:u?Number(i)*24/Number(s):i,className:["lucide",`lucide-${qO(t)}`,c].join(" "),...b},[...e.map(([x,E])=>fe.createElement(x,E)),...Array.isArray(v)?v:[v]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=Xt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=Xt("ArrowDownCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=Xt("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s9=Xt("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=Xt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=Xt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=Xt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=Xt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=Xt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=Xt("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=Xt("ImagePlus",[["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7",key:"31hg93"}],["line",{x1:"16",x2:"22",y1:"5",y2:"5",key:"ez7e4s"}],["line",{x1:"19",x2:"19",y1:"2",y2:"8",key:"1gkr8c"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=Xt("Inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=Xt("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=Xt("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=Xt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=Xt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=Xt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l9=Xt("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ay=Xt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=Xt("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=Xt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=Xt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=Xt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=Xt("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=Xt("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=Xt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=Xt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h9=Xt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=Xt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),sL=()=>{const{winRate:t,wins:e,losses:r}=TS(),[n,s]=fe.useState(!1),[i,u]=fe.useState(t);return fe.useEffect(()=>{s(!0),u(t);const c=setTimeout(()=>s(!1),1e3);return()=>clearTimeout(c)},[t,e,r]),U.jsxs("div",{className:"relative group",children:[U.jsxs("button",{className:`flex items-center justify-center gap-1.5 w-auto px-2.5 h-8 rounded-lg 
        bg-gray-700/40 hover:bg-gray-700 border border-gray-600/50 
        hover:border-green-500/30 transition-all duration-300
        ${n?"animate-pulse text-blue-400":"text-green-400"}`,children:[U.jsx(l9,{className:"w-4 h-4"}),U.jsxs("span",{className:`text-sm ${n?"animate-[countUpdate_0.5s_ease-out]":""}`,children:[i.toFixed(0),"%"]})]}),U.jsx("div",{className:`absolute right-0 top-full mt-2 p-3 \r
        bg-gray-800/95 backdrop-blur-sm border border-gray-700/50 rounded-lg\r
        opacity-0 group-hover:opacity-100 transition-opacity\r
        pointer-events-none min-w-[140px]`,children:U.jsxs("div",{className:"space-y-1 text-sm whitespace-nowrap",children:[U.jsxs("p",{className:"text-green-400",children:["Wins: ",e]}),U.jsxs("p",{className:"text-red-400",children:["Losses: ",r]}),U.jsx("div",{className:"pt-1 mt-1 border-t border-gray-700",children:U.jsxs("p",{className:"text-blue-400",children:["Win Rate: ",(e/(e+r)*100||0).toFixed(1),"%"]})})]})})]})},Ty=10,d9=()=>{const{user:t,isLoaded:e}=as(),[r,n]=fe.useState(0),[s,i]=fe.useState(!1),[u,c]=fe.useState(!1);return fe.useEffect(()=>{!e||!t||ws(t).then(x=>{n(x.analysisCount||0),i(x.isPremium||!1)})},[t,e]),{isPremium:s,showPopup:u,incrementAnalysisCount:async()=>{if(!t)return!1;if(s)return!0;if(r>=Ty)return c(!0),!1;try{const x=r+1;return n(x),await Mo(t,{analysisCount:x}),x>=Ty&&c(!0),!0}catch(x){return console.error("Failed to update analysis count:",x),n(r),!1}},handlePayment:async()=>{t&&(await Mo(t,{isPremium:!0}),i(!0),c(!1))},closePopup:()=>{c(!1)},analysisCount:r}},oL=()=>{const{analysisCount:t,isPremium:e}=d9(),r=Math.max(0,Ty-t);return e?null:U.jsxs("div",{className:"relative group",children:[U.jsxs("button",{className:`flex items-center justify-center gap-1.5 w-auto px-2.5 h-8 rounded-lg 
        ${r===0||r<=3?"bg-red-500/20 text-red-400 border-red-500/30":"bg-gray-700/40 text-blue-400 border-gray-600/50"} 
        hover:bg-gray-700 border hover:border-blue-500/30 
        transition-all duration-300`,children:[U.jsx(Rw,{className:"w-4 h-4"}),U.jsx("span",{className:"text-sm",children:r})]}),U.jsx("div",{className:`absolute right-0 top-full mt-2 p-3 \r
        bg-gray-800/95 backdrop-blur-sm border border-gray-700/50 rounded-lg\r
        opacity-0 group-hover:opacity-100 transition-opacity\r
        pointer-events-none min-w-[180px] text-sm`,children:U.jsx("p",{className:"text-gray-300",children:r===0?"No analyses remaining":`${r} free ${r===1?"analysis":"analyses"} remaining`})})]})},aL=["user_2v0X4Rfy4U6wsZnT6OMKJGSpNqo`","user_2sF7P8RmU30ZAPZRMJkJ1NjUBib"],lL=()=>{const{user:t,isLoaded:e}=as();return!e||!t||!aL.includes(t.id)?null:U.jsxs(ah,{to:"/admin",className:`flex items-center gap-2 px-3 py-2 rounded-lg\r
        bg-gray-700/40 hover:bg-gray-700/60\r
        border border-gray-600/50 hover:border-blue-500/30\r
        text-gray-300 hover:text-white\r
        transition-all duration-300`,children:[U.jsx(tL,{className:"w-4 h-4"}),U.jsx("span",{className:"text-sm",children:"Admin"})]})},uL=()=>{};var q3={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p9=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);s<128?e[r++]=s:s<2048?(e[r++]=s>>6|192,e[r++]=s&63|128):(s&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=s>>18|240,e[r++]=s>>12&63|128,e[r++]=s>>6&63|128,e[r++]=s&63|128):(e[r++]=s>>12|224,e[r++]=s>>6&63|128,e[r++]=s&63|128)}return e},fL=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const s=t[r++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[r++];e[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[r++],u=t[r++],c=t[r++],v=((s&7)<<18|(i&63)<<12|(u&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(v>>10)),e[n++]=String.fromCharCode(56320+(v&1023))}else{const i=t[r++],u=t[r++];e[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|u&63)}}return e.join("")},m9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<t.length;s+=3){const i=t[s],u=s+1<t.length,c=u?t[s+1]:0,v=s+2<t.length,b=v?t[s+2]:0,w=i>>2,x=(i&3)<<4|c>>4;let E=(c&15)<<2|b>>6,A=b&63;v||(A=64,u||(E=64)),n.push(r[w],r[x],r[E],r[A])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(p9(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):fL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<t.length;){const i=r[t.charAt(s++)],c=s<t.length?r[t.charAt(s)]:0;++s;const b=s<t.length?r[t.charAt(s)]:64;++s;const x=s<t.length?r[t.charAt(s)]:64;if(++s,i==null||c==null||b==null||x==null)throw new hL;const E=i<<2|c>>4;if(n.push(E),b!==64){const A=c<<4&240|b>>2;if(n.push(A),x!==64){const N=b<<6&192|x;n.push(N)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class hL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cL=function(t){const e=p9(t);return m9.encodeByteArray(e,!0)},X0=function(t){return cL(t).replace(/\./g,"")},dL=function(t){try{return m9.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Vr<"u")return Vr;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL=()=>pL().__FIREBASE_DEFAULTS__,vL=()=>{if(typeof pr>"u"||typeof q3>"u")return;const t=q3.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dL(t[1]);return e&&JSON.parse(e)},kw=()=>{try{return uL()||mL()||vL()||gL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yL=t=>{var e,r;return(r=(e=kw())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},wL=t=>{const e=yL(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},v9=()=>{var t;return(t=kw())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[X0(JSON.stringify(r)),X0(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xL(){var t;const e=(t=kw())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(Vr.process)==="[object process]"}catch{return!1}}function g9(){return!xL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function y9(){try{return typeof indexedDB=="object"}catch{return!1}}function ML(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EL="FirebaseError";class Vu extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=EL,Object.setPrototypeOf(this,Vu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,w9.prototype.create)}}class w9{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},s=`${this.service}/${e}`,i=this.errors[e],u=i?SL(i,n):"Error",c=`${this.serviceName}: ${u} (${s}).`;return new Vu(s,c,n)}}function SL(t,e){return t.replace(IL,(r,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const IL=/\{\$([^}]+)}/g;function tp(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const s of r){if(!n.includes(s))return!1;const i=t[s],u=e[s];if(H3(i)&&H3(u)){if(!tp(i,u))return!1}else if(i!==u)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function H3(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t){return t&&t._delegate?t._delegate:t}class zh{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new _L;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RL(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:s});n.resolve(i)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,u]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);n===c&&u.resolve(s)}return s}onInit(e,r){var n;const s=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;i.add(e),this.onInitCallbacks.set(s,i);const u=this.instances.get(s);return u&&e(u,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:TL(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TL(t){return t===ia?void 0:t}function RL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new AL(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(qt||(qt={}));const CL={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},PL=qt.INFO,NL={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},BL=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),s=NL[e];if(s)console[s](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _9{constructor(e){this.name=e,this._logLevel=PL,this._logHandler=BL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...e),this._logHandler(this,qt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...e),this._logHandler(this,qt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...e),this._logHandler(this,qt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...e),this._logHandler(this,qt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...e),this._logHandler(this,qt.ERROR,...e)}}const DL=(t,e)=>e.some(r=>t instanceof r);let K3,W3;function OL(){return K3||(K3=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LL(){return W3||(W3=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const b9=new WeakMap,Ry=new WeakMap,x9=new WeakMap,ag=new WeakMap,Cw=new WeakMap;function FL(t){const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",u)},i=()=>{r(Eo(t.result)),s()},u=()=>{n(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",u)});return e.then(r=>{r instanceof IDBCursor&&b9.set(r,t)}).catch(()=>{}),Cw.set(e,t),e}function VL(t){if(Ry.has(t))return;const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",u),t.removeEventListener("abort",u)},i=()=>{r(),s()},u=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",u),t.addEventListener("abort",u)});Ry.set(t,e)}let ky={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Ry.get(t);if(e==="objectStoreNames")return t.objectStoreNames||x9.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Eo(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function UL(t){ky=t(ky)}function jL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(lg(this),e,...r);return x9.set(n,e.sort?e.sort():[e]),Eo(n)}:LL().includes(t)?function(...e){return t.apply(lg(this),e),Eo(b9.get(this))}:function(...e){return Eo(t.apply(lg(this),e))}}function zL(t){return typeof t=="function"?jL(t):(t instanceof IDBTransaction&&VL(t),DL(t,OL())?new Proxy(t,ky):t)}function Eo(t){if(t instanceof IDBRequest)return FL(t);if(ag.has(t))return ag.get(t);const e=zL(t);return e!==t&&(ag.set(t,e),Cw.set(e,t)),e}const lg=t=>Cw.get(t);function $L(t,e,{blocked:r,upgrade:n,blocking:s,terminated:i}={}){const u=indexedDB.open(t,e),c=Eo(u);return n&&u.addEventListener("upgradeneeded",v=>{n(Eo(u.result),v.oldVersion,v.newVersion,Eo(u.transaction),v)}),r&&u.addEventListener("blocked",v=>r(v.oldVersion,v.newVersion,v)),c.then(v=>{i&&v.addEventListener("close",()=>i()),s&&v.addEventListener("versionchange",b=>s(b.oldVersion,b.newVersion,b))}).catch(()=>{}),c}const qL=["get","getKey","getAll","getAllKeys","count"],HL=["put","add","delete","clear"],ug=new Map;function G3(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ug.get(e))return ug.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,s=HL.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||qL.includes(r)))return;const i=async function(u,...c){const v=this.transaction(u,s?"readwrite":"readonly");let b=v.store;return n&&(b=b.index(c.shift())),(await Promise.all([b[r](...c),s&&v.done]))[0]};return ug.set(e,i),i}UL(t=>({...t,get:(e,r,n)=>G3(e,r)||t.get(e,r,n),has:(e,r)=>!!G3(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(WL(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function WL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cy="@firebase/app",Z3="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new _9("@firebase/app"),GL="@firebase/app-compat",ZL="@firebase/analytics-compat",QL="@firebase/analytics",YL="@firebase/app-check-compat",JL="@firebase/app-check",XL="@firebase/auth",eF="@firebase/auth-compat",tF="@firebase/database",rF="@firebase/data-connect",nF="@firebase/database-compat",iF="@firebase/functions",sF="@firebase/functions-compat",oF="@firebase/installations",aF="@firebase/installations-compat",lF="@firebase/messaging",uF="@firebase/messaging-compat",fF="@firebase/performance",hF="@firebase/performance-compat",cF="@firebase/remote-config",dF="@firebase/remote-config-compat",pF="@firebase/storage",mF="@firebase/storage-compat",vF="@firebase/firestore",gF="@firebase/vertexai",yF="@firebase/firestore-compat",wF="firebase",_F="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py="[DEFAULT]",bF={[Cy]:"fire-core",[GL]:"fire-core-compat",[QL]:"fire-analytics",[ZL]:"fire-analytics-compat",[JL]:"fire-app-check",[YL]:"fire-app-check-compat",[XL]:"fire-auth",[eF]:"fire-auth-compat",[tF]:"fire-rtdb",[rF]:"fire-data-connect",[nF]:"fire-rtdb-compat",[iF]:"fire-fn",[sF]:"fire-fn-compat",[oF]:"fire-iid",[aF]:"fire-iid-compat",[lF]:"fire-fcm",[uF]:"fire-fcm-compat",[fF]:"fire-perf",[hF]:"fire-perf-compat",[cF]:"fire-rc",[dF]:"fire-rc-compat",[pF]:"fire-gcs",[mF]:"fire-gcs-compat",[vF]:"fire-fst",[yF]:"fire-fst-compat",[gF]:"fire-vertex","fire-js":"fire-js",[wF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp=new Map,xF=new Map,Ny=new Map;function Q3(t,e){try{t.container.addComponent(e)}catch(r){ks.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function np(t){const e=t.name;if(Ny.has(e))return ks.debug(`There were multiple attempts to register component ${e}.`),!1;Ny.set(e,t);for(const r of rp.values())Q3(r,t);for(const r of xF.values())Q3(r,t);return!0}function MF(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function EF(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},So=new w9("app","Firebase",SF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IF{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new zh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw So.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AF=_F;function M9(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Py,automaticDataCollectionEnabled:!1},e),s=n.name;if(typeof s!="string"||!s)throw So.create("bad-app-name",{appName:String(s)});if(r||(r=v9()),!r)throw So.create("no-options");const i=rp.get(s);if(i){if(tp(r,i.options)&&tp(n,i.config))return i;throw So.create("duplicate-app",{appName:s})}const u=new kL(s);for(const v of Ny.values())u.addComponent(v);const c=new IF(r,n,u);return rp.set(s,c),c}function TF(t=Py){const e=rp.get(t);if(!e&&t===Py&&v9())return M9();if(!e)throw So.create("no-app",{appName:t});return e}function Kl(t,e,r){var n;let s=(n=bF[t])!==null&&n!==void 0?n:t;r&&(s+=`-${r}`);const i=s.match(/\s|\//),u=e.match(/\s|\//);if(i||u){const c=[`Unable to register library "${s}" with version "${e}":`];i&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&u&&c.push("and"),u&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ks.warn(c.join(" "));return}np(new zh(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF="firebase-heartbeat-database",kF=1,$h="firebase-heartbeat-store";let fg=null;function E9(){return fg||(fg=$L(RF,kF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($h)}catch(r){console.warn(r)}}}}).catch(t=>{throw So.create("idb-open",{originalErrorMessage:t.message})})),fg}async function CF(t){try{const r=(await E9()).transaction($h),n=await r.objectStore($h).get(S9(t));return await r.done,n}catch(e){if(e instanceof Vu)ks.warn(e.message);else{const r=So.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ks.warn(r.message)}}}async function Y3(t,e){try{const n=(await E9()).transaction($h,"readwrite");await n.objectStore($h).put(e,S9(t)),await n.done}catch(r){if(r instanceof Vu)ks.warn(r.message);else{const n=So.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});ks.warn(n.message)}}}function S9(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF=1024,NF=30;class BF{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new OF(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=J3();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(u=>u.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>NF){const u=LF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){ks.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=J3(),{heartbeatsToSend:n,unsentEntries:s}=DF(this._heartbeatsCache.heartbeats),i=X0(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return ks.warn(r),""}}}function J3(){return new Date().toISOString().substring(0,10)}function DF(t,e=PF){const r=[];let n=t.slice();for(const s of t){const i=r.find(u=>u.agent===s.agent);if(i){if(i.dates.push(s.date),X3(r)>e){i.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),X3(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class OF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return y9()?ML().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await CF(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return Y3(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return Y3(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function X3(t){return X0(JSON.stringify({version:2,heartbeats:t})).length}function LF(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FF(t){np(new zh("platform-logger",e=>new KL(e),"PRIVATE")),np(new zh("heartbeat",e=>new BF(e),"PRIVATE")),Kl(Cy,Z3,t),Kl(Cy,Z3,"esm2017"),Kl("fire-js","")}FF("");var VF="firebase",UF="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kl(VF,UF,"app");var I9={},am={};am.byteLength=$F;am.toByteArray=HF;am.fromByteArray=GF;var qi=[],Qn=[],jF=typeof Uint8Array<"u"?Uint8Array:Array,hg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ll=0,zF=hg.length;ll<zF;++ll)qi[ll]=hg[ll],Qn[hg.charCodeAt(ll)]=ll;Qn[45]=62;Qn[95]=63;function A9(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function $F(t){var e=A9(t),r=e[0],n=e[1];return(r+n)*3/4-n}function qF(t,e,r){return(e+r)*3/4-r}function HF(t){var e,r=A9(t),n=r[0],s=r[1],i=new jF(qF(t,n,s)),u=0,c=s>0?n-4:n,v;for(v=0;v<c;v+=4)e=Qn[t.charCodeAt(v)]<<18|Qn[t.charCodeAt(v+1)]<<12|Qn[t.charCodeAt(v+2)]<<6|Qn[t.charCodeAt(v+3)],i[u++]=e>>16&255,i[u++]=e>>8&255,i[u++]=e&255;return s===2&&(e=Qn[t.charCodeAt(v)]<<2|Qn[t.charCodeAt(v+1)]>>4,i[u++]=e&255),s===1&&(e=Qn[t.charCodeAt(v)]<<10|Qn[t.charCodeAt(v+1)]<<4|Qn[t.charCodeAt(v+2)]>>2,i[u++]=e>>8&255,i[u++]=e&255),i}function KF(t){return qi[t>>18&63]+qi[t>>12&63]+qi[t>>6&63]+qi[t&63]}function WF(t,e,r){for(var n,s=[],i=e;i<r;i+=3)n=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),s.push(KF(n));return s.join("")}function GF(t){for(var e,r=t.length,n=r%3,s=[],i=16383,u=0,c=r-n;u<c;u+=i)s.push(WF(t,u,u+i>c?c:u+i));return n===1?(e=t[r-1],s.push(qi[e>>2]+qi[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],s.push(qi[e>>10]+qi[e>>4&63]+qi[e<<2&63]+"=")),s.join("")}var Pw={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Pw.read=function(t,e,r,n,s){var i,u,c=s*8-n-1,v=(1<<c)-1,b=v>>1,w=-7,x=r?s-1:0,E=r?-1:1,A=t[e+x];for(x+=E,i=A&(1<<-w)-1,A>>=-w,w+=c;w>0;i=i*256+t[e+x],x+=E,w-=8);for(u=i&(1<<-w)-1,i>>=-w,w+=n;w>0;u=u*256+t[e+x],x+=E,w-=8);if(i===0)i=1-b;else{if(i===v)return u?NaN:(A?-1:1)*(1/0);u=u+Math.pow(2,n),i=i-b}return(A?-1:1)*u*Math.pow(2,i-n)};Pw.write=function(t,e,r,n,s,i){var u,c,v,b=i*8-s-1,w=(1<<b)-1,x=w>>1,E=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=n?0:i-1,N=n?1:-1,D=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,u=w):(u=Math.floor(Math.log(e)/Math.LN2),e*(v=Math.pow(2,-u))<1&&(u--,v*=2),u+x>=1?e+=E/v:e+=E*Math.pow(2,1-x),e*v>=2&&(u++,v/=2),u+x>=w?(c=0,u=w):u+x>=1?(c=(e*v-1)*Math.pow(2,s),u=u+x):(c=e*Math.pow(2,x-1)*Math.pow(2,s),u=0));s>=8;t[r+A]=c&255,A+=N,c/=256,s-=8);for(u=u<<s|c,b+=s;b>0;t[r+A]=u&255,A+=N,u/=256,b-=8);t[r+A-N]|=D*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=am,r=Pw,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=w,t.SlowBuffer=ne,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s;const{Uint8Array:i,ArrayBuffer:u,SharedArrayBuffer:c}=globalThis;w.TYPED_ARRAY_SUPPORT=v(),!w.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function v(){try{const T=new i(1),I={foo:function(){return 42}};return Object.setPrototypeOf(I,i.prototype),Object.setPrototypeOf(T,I),T.foo()===42}catch{return!1}}Object.defineProperty(w.prototype,"parent",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.buffer}}),Object.defineProperty(w.prototype,"offset",{enumerable:!0,get:function(){if(w.isBuffer(this))return this.byteOffset}});function b(T){if(T>s)throw new RangeError('The value "'+T+'" is invalid for option "size"');const I=new i(T);return Object.setPrototypeOf(I,w.prototype),I}function w(T,I,k){if(typeof T=="number"){if(typeof I=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return N(T)}return x(T,I,k)}w.poolSize=8192;function x(T,I,k){if(typeof T=="string")return D(T,I);if(u.isView(T))return P(T);if(T==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T);if(Me(T,u)||T&&Me(T.buffer,u)||typeof c<"u"&&(Me(T,c)||T&&Me(T.buffer,c)))return C(T,I,k);if(typeof T=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const F=T.valueOf&&T.valueOf();if(F!=null&&F!==T)return w.from(F,I,k);const Y=z(T);if(Y)return Y;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof T[Symbol.toPrimitive]=="function")return w.from(T[Symbol.toPrimitive]("string"),I,k);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof T)}w.from=function(T,I,k){return x(T,I,k)},Object.setPrototypeOf(w.prototype,i.prototype),Object.setPrototypeOf(w,i);function E(T){if(typeof T!="number")throw new TypeError('"size" argument must be of type number');if(T<0)throw new RangeError('The value "'+T+'" is invalid for option "size"')}function A(T,I,k){return E(T),T<=0?b(T):I!==void 0?typeof k=="string"?b(T).fill(I,k):b(T).fill(I):b(T)}w.alloc=function(T,I,k){return A(T,I,k)};function N(T){return E(T),b(T<0?0:K(T)|0)}w.allocUnsafe=function(T){return N(T)},w.allocUnsafeSlow=function(T){return N(T)};function D(T,I){if((typeof I!="string"||I==="")&&(I="utf8"),!w.isEncoding(I))throw new TypeError("Unknown encoding: "+I);const k=ue(T,I)|0;let F=b(k);const Y=F.write(T,I);return Y!==k&&(F=F.slice(0,Y)),F}function W(T){const I=T.length<0?0:K(T.length)|0,k=b(I);for(let F=0;F<I;F+=1)k[F]=T[F]&255;return k}function P(T){if(Me(T,i)){const I=new i(T);return C(I.buffer,I.byteOffset,I.byteLength)}return W(T)}function C(T,I,k){if(I<0||T.byteLength<I)throw new RangeError('"offset" is outside of buffer bounds');if(T.byteLength<I+(k||0))throw new RangeError('"length" is outside of buffer bounds');let F;return I===void 0&&k===void 0?F=new i(T):k===void 0?F=new i(T,I):F=new i(T,I,k),Object.setPrototypeOf(F,w.prototype),F}function z(T){if(w.isBuffer(T)){const I=K(T.length)|0,k=b(I);return k.length===0||T.copy(k,0,0,I),k}if(T.length!==void 0)return typeof T.length!="number"||rt(T.length)?b(0):W(T);if(T.type==="Buffer"&&Array.isArray(T.data))return W(T.data)}function K(T){if(T>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return T|0}function ne(T){return+T!=T&&(T=0),w.alloc(+T)}w.isBuffer=function(I){return I!=null&&I._isBuffer===!0&&I!==w.prototype},w.compare=function(I,k){if(Me(I,i)&&(I=w.from(I,I.offset,I.byteLength)),Me(k,i)&&(k=w.from(k,k.offset,k.byteLength)),!w.isBuffer(I)||!w.isBuffer(k))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(I===k)return 0;let F=I.length,Y=k.length;for(let pe=0,ie=Math.min(F,Y);pe<ie;++pe)if(I[pe]!==k[pe]){F=I[pe],Y=k[pe];break}return F<Y?-1:Y<F?1:0},w.isEncoding=function(I){switch(String(I).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},w.concat=function(I,k){if(!Array.isArray(I))throw new TypeError('"list" argument must be an Array of Buffers');if(I.length===0)return w.alloc(0);let F;if(k===void 0)for(k=0,F=0;F<I.length;++F)k+=I[F].length;const Y=w.allocUnsafe(k);let pe=0;for(F=0;F<I.length;++F){let ie=I[F];if(Me(ie,i))pe+ie.length>Y.length?(w.isBuffer(ie)||(ie=w.from(ie)),ie.copy(Y,pe)):i.prototype.set.call(Y,ie,pe);else if(w.isBuffer(ie))ie.copy(Y,pe);else throw new TypeError('"list" argument must be an Array of Buffers');pe+=ie.length}return Y};function ue(T,I){if(w.isBuffer(T))return T.length;if(u.isView(T)||Me(T,u))return T.byteLength;if(typeof T!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof T);const k=T.length,F=arguments.length>2&&arguments[2]===!0;if(!F&&k===0)return 0;let Y=!1;for(;;)switch(I){case"ascii":case"latin1":case"binary":return k;case"utf8":case"utf-8":return it(T).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k*2;case"hex":return k>>>1;case"base64":return ft(T).length;default:if(Y)return F?-1:it(T).length;I=(""+I).toLowerCase(),Y=!0}}w.byteLength=ue;function G(T,I,k){let F=!1;if((I===void 0||I<0)&&(I=0),I>this.length||((k===void 0||k>this.length)&&(k=this.length),k<=0)||(k>>>=0,I>>>=0,k<=I))return"";for(T||(T="utf8");;)switch(T){case"hex":return S(this,I,k);case"utf8":case"utf-8":return y(this,I,k);case"ascii":return a(this,I,k);case"latin1":case"binary":return p(this,I,k);case"base64":return m(this,I,k);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,I,k);default:if(F)throw new TypeError("Unknown encoding: "+T);T=(T+"").toLowerCase(),F=!0}}w.prototype._isBuffer=!0;function q(T,I,k){const F=T[I];T[I]=T[k],T[k]=F}w.prototype.swap16=function(){const I=this.length;if(I%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let k=0;k<I;k+=2)q(this,k,k+1);return this},w.prototype.swap32=function(){const I=this.length;if(I%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let k=0;k<I;k+=4)q(this,k,k+3),q(this,k+1,k+2);return this},w.prototype.swap64=function(){const I=this.length;if(I%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let k=0;k<I;k+=8)q(this,k,k+7),q(this,k+1,k+6),q(this,k+2,k+5),q(this,k+3,k+4);return this},w.prototype.toString=function(){const I=this.length;return I===0?"":arguments.length===0?y(this,0,I):G.apply(this,arguments)},w.prototype.toLocaleString=w.prototype.toString,w.prototype.equals=function(I){if(!w.isBuffer(I))throw new TypeError("Argument must be a Buffer");return this===I?!0:w.compare(this,I)===0},w.prototype.inspect=function(){let I="";const k=t.INSPECT_MAX_BYTES;return I=this.toString("hex",0,k).replace(/(.{2})/g,"$1 ").trim(),this.length>k&&(I+=" ... "),"<Buffer "+I+">"},n&&(w.prototype[n]=w.prototype.inspect),w.prototype.compare=function(I,k,F,Y,pe){if(Me(I,i)&&(I=w.from(I,I.offset,I.byteLength)),!w.isBuffer(I))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof I);if(k===void 0&&(k=0),F===void 0&&(F=I?I.length:0),Y===void 0&&(Y=0),pe===void 0&&(pe=this.length),k<0||F>I.length||Y<0||pe>this.length)throw new RangeError("out of range index");if(Y>=pe&&k>=F)return 0;if(Y>=pe)return-1;if(k>=F)return 1;if(k>>>=0,F>>>=0,Y>>>=0,pe>>>=0,this===I)return 0;let ie=pe-Y,ge=F-k;const qe=Math.min(ie,ge),be=this.slice(Y,pe),Ce=I.slice(k,F);for(let et=0;et<qe;++et)if(be[et]!==Ce[et]){ie=be[et],ge=Ce[et];break}return ie<ge?-1:ge<ie?1:0};function j(T,I,k,F,Y){if(T.length===0)return-1;if(typeof k=="string"?(F=k,k=0):k>2147483647?k=2147483647:k<-2147483648&&(k=-2147483648),k=+k,rt(k)&&(k=Y?0:T.length-1),k<0&&(k=T.length+k),k>=T.length){if(Y)return-1;k=T.length-1}else if(k<0)if(Y)k=0;else return-1;if(typeof I=="string"&&(I=w.from(I,F)),w.isBuffer(I))return I.length===0?-1:Q(T,I,k,F,Y);if(typeof I=="number")return I=I&255,typeof i.prototype.indexOf=="function"?Y?i.prototype.indexOf.call(T,I,k):i.prototype.lastIndexOf.call(T,I,k):Q(T,[I],k,F,Y);throw new TypeError("val must be string, number or Buffer")}function Q(T,I,k,F,Y){let pe=1,ie=T.length,ge=I.length;if(F!==void 0&&(F=String(F).toLowerCase(),F==="ucs2"||F==="ucs-2"||F==="utf16le"||F==="utf-16le")){if(T.length<2||I.length<2)return-1;pe=2,ie/=2,ge/=2,k/=2}function qe(Ce,et){return pe===1?Ce[et]:Ce.readUInt16BE(et*pe)}let be;if(Y){let Ce=-1;for(be=k;be<ie;be++)if(qe(T,be)===qe(I,Ce===-1?0:be-Ce)){if(Ce===-1&&(Ce=be),be-Ce+1===ge)return Ce*pe}else Ce!==-1&&(be-=be-Ce),Ce=-1}else for(k+ge>ie&&(k=ie-ge),be=k;be>=0;be--){let Ce=!0;for(let et=0;et<ge;et++)if(qe(T,be+et)!==qe(I,et)){Ce=!1;break}if(Ce)return be}return-1}w.prototype.includes=function(I,k,F){return this.indexOf(I,k,F)!==-1},w.prototype.indexOf=function(I,k,F){return j(this,I,k,F,!0)},w.prototype.lastIndexOf=function(I,k,F){return j(this,I,k,F,!1)};function g(T,I,k,F){k=Number(k)||0;const Y=T.length-k;F?(F=Number(F),F>Y&&(F=Y)):F=Y;const pe=I.length;F>pe/2&&(F=pe/2);let ie;for(ie=0;ie<F;++ie){const ge=parseInt(I.substr(ie*2,2),16);if(rt(ge))return ie;T[k+ie]=ge}return ie}function o(T,I,k,F){return Ee(it(I,T.length-k),T,k,F)}function l(T,I,k,F){return Ee(Ie(I),T,k,F)}function f(T,I,k,F){return Ee(ft(I),T,k,F)}function h(T,I,k,F){return Ee(Be(I,T.length-k),T,k,F)}w.prototype.write=function(I,k,F,Y){if(k===void 0)Y="utf8",F=this.length,k=0;else if(F===void 0&&typeof k=="string")Y=k,F=this.length,k=0;else if(isFinite(k))k=k>>>0,isFinite(F)?(F=F>>>0,Y===void 0&&(Y="utf8")):(Y=F,F=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const pe=this.length-k;if((F===void 0||F>pe)&&(F=pe),I.length>0&&(F<0||k<0)||k>this.length)throw new RangeError("Attempt to write outside buffer bounds");Y||(Y="utf8");let ie=!1;for(;;)switch(Y){case"hex":return g(this,I,k,F);case"utf8":case"utf-8":return o(this,I,k,F);case"ascii":case"latin1":case"binary":return l(this,I,k,F);case"base64":return f(this,I,k,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h(this,I,k,F);default:if(ie)throw new TypeError("Unknown encoding: "+Y);Y=(""+Y).toLowerCase(),ie=!0}},w.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function m(T,I,k){return I===0&&k===T.length?e.fromByteArray(T):e.fromByteArray(T.slice(I,k))}function y(T,I,k){k=Math.min(T.length,k);const F=[];let Y=I;for(;Y<k;){const pe=T[Y];let ie=null,ge=pe>239?4:pe>223?3:pe>191?2:1;if(Y+ge<=k){let qe,be,Ce,et;switch(ge){case 1:pe<128&&(ie=pe);break;case 2:qe=T[Y+1],(qe&192)===128&&(et=(pe&31)<<6|qe&63,et>127&&(ie=et));break;case 3:qe=T[Y+1],be=T[Y+2],(qe&192)===128&&(be&192)===128&&(et=(pe&15)<<12|(qe&63)<<6|be&63,et>2047&&(et<55296||et>57343)&&(ie=et));break;case 4:qe=T[Y+1],be=T[Y+2],Ce=T[Y+3],(qe&192)===128&&(be&192)===128&&(Ce&192)===128&&(et=(pe&15)<<18|(qe&63)<<12|(be&63)<<6|Ce&63,et>65535&&et<1114112&&(ie=et))}}ie===null?(ie=65533,ge=1):ie>65535&&(ie-=65536,F.push(ie>>>10&1023|55296),ie=56320|ie&1023),F.push(ie),Y+=ge}return d(F)}const _=4096;function d(T){const I=T.length;if(I<=_)return String.fromCharCode.apply(String,T);let k="",F=0;for(;F<I;)k+=String.fromCharCode.apply(String,T.slice(F,F+=_));return k}function a(T,I,k){let F="";k=Math.min(T.length,k);for(let Y=I;Y<k;++Y)F+=String.fromCharCode(T[Y]&127);return F}function p(T,I,k){let F="";k=Math.min(T.length,k);for(let Y=I;Y<k;++Y)F+=String.fromCharCode(T[Y]);return F}function S(T,I,k){const F=T.length;(!I||I<0)&&(I=0),(!k||k<0||k>F)&&(k=F);let Y="";for(let pe=I;pe<k;++pe)Y+=V[T[pe]];return Y}function B(T,I,k){const F=T.slice(I,k);let Y="";for(let pe=0;pe<F.length-1;pe+=2)Y+=String.fromCharCode(F[pe]+F[pe+1]*256);return Y}w.prototype.slice=function(I,k){const F=this.length;I=~~I,k=k===void 0?F:~~k,I<0?(I+=F,I<0&&(I=0)):I>F&&(I=F),k<0?(k+=F,k<0&&(k=0)):k>F&&(k=F),k<I&&(k=I);const Y=this.subarray(I,k);return Object.setPrototypeOf(Y,w.prototype),Y};function Z(T,I,k){if(T%1!==0||T<0)throw new RangeError("offset is not uint");if(T+I>k)throw new RangeError("Trying to access beyond buffer length")}w.prototype.readUintLE=w.prototype.readUIntLE=function(I,k,F){I=I>>>0,k=k>>>0,F||Z(I,k,this.length);let Y=this[I],pe=1,ie=0;for(;++ie<k&&(pe*=256);)Y+=this[I+ie]*pe;return Y},w.prototype.readUintBE=w.prototype.readUIntBE=function(I,k,F){I=I>>>0,k=k>>>0,F||Z(I,k,this.length);let Y=this[I+--k],pe=1;for(;k>0&&(pe*=256);)Y+=this[I+--k]*pe;return Y},w.prototype.readUint8=w.prototype.readUInt8=function(I,k){return I=I>>>0,k||Z(I,1,this.length),this[I]},w.prototype.readUint16LE=w.prototype.readUInt16LE=function(I,k){return I=I>>>0,k||Z(I,2,this.length),this[I]|this[I+1]<<8},w.prototype.readUint16BE=w.prototype.readUInt16BE=function(I,k){return I=I>>>0,k||Z(I,2,this.length),this[I]<<8|this[I+1]},w.prototype.readUint32LE=w.prototype.readUInt32LE=function(I,k){return I=I>>>0,k||Z(I,4,this.length),(this[I]|this[I+1]<<8|this[I+2]<<16)+this[I+3]*16777216},w.prototype.readUint32BE=w.prototype.readUInt32BE=function(I,k){return I=I>>>0,k||Z(I,4,this.length),this[I]*16777216+(this[I+1]<<16|this[I+2]<<8|this[I+3])},w.prototype.readBigUInt64LE=R(function(I){I=I>>>0,Se(I,"offset");const k=this[I],F=this[I+7];(k===void 0||F===void 0)&&st(I,this.length-8);const Y=k+this[++I]*2**8+this[++I]*2**16+this[++I]*2**24,pe=this[++I]+this[++I]*2**8+this[++I]*2**16+F*2**24;return BigInt(Y)+(BigInt(pe)<<BigInt(32))}),w.prototype.readBigUInt64BE=R(function(I){I=I>>>0,Se(I,"offset");const k=this[I],F=this[I+7];(k===void 0||F===void 0)&&st(I,this.length-8);const Y=k*2**24+this[++I]*2**16+this[++I]*2**8+this[++I],pe=this[++I]*2**24+this[++I]*2**16+this[++I]*2**8+F;return(BigInt(Y)<<BigInt(32))+BigInt(pe)}),w.prototype.readIntLE=function(I,k,F){I=I>>>0,k=k>>>0,F||Z(I,k,this.length);let Y=this[I],pe=1,ie=0;for(;++ie<k&&(pe*=256);)Y+=this[I+ie]*pe;return pe*=128,Y>=pe&&(Y-=Math.pow(2,8*k)),Y},w.prototype.readIntBE=function(I,k,F){I=I>>>0,k=k>>>0,F||Z(I,k,this.length);let Y=k,pe=1,ie=this[I+--Y];for(;Y>0&&(pe*=256);)ie+=this[I+--Y]*pe;return pe*=128,ie>=pe&&(ie-=Math.pow(2,8*k)),ie},w.prototype.readInt8=function(I,k){return I=I>>>0,k||Z(I,1,this.length),this[I]&128?(255-this[I]+1)*-1:this[I]},w.prototype.readInt16LE=function(I,k){I=I>>>0,k||Z(I,2,this.length);const F=this[I]|this[I+1]<<8;return F&32768?F|4294901760:F},w.prototype.readInt16BE=function(I,k){I=I>>>0,k||Z(I,2,this.length);const F=this[I+1]|this[I]<<8;return F&32768?F|4294901760:F},w.prototype.readInt32LE=function(I,k){return I=I>>>0,k||Z(I,4,this.length),this[I]|this[I+1]<<8|this[I+2]<<16|this[I+3]<<24},w.prototype.readInt32BE=function(I,k){return I=I>>>0,k||Z(I,4,this.length),this[I]<<24|this[I+1]<<16|this[I+2]<<8|this[I+3]},w.prototype.readBigInt64LE=R(function(I){I=I>>>0,Se(I,"offset");const k=this[I],F=this[I+7];(k===void 0||F===void 0)&&st(I,this.length-8);const Y=this[I+4]+this[I+5]*2**8+this[I+6]*2**16+(F<<24);return(BigInt(Y)<<BigInt(32))+BigInt(k+this[++I]*2**8+this[++I]*2**16+this[++I]*2**24)}),w.prototype.readBigInt64BE=R(function(I){I=I>>>0,Se(I,"offset");const k=this[I],F=this[I+7];(k===void 0||F===void 0)&&st(I,this.length-8);const Y=(k<<24)+this[++I]*2**16+this[++I]*2**8+this[++I];return(BigInt(Y)<<BigInt(32))+BigInt(this[++I]*2**24+this[++I]*2**16+this[++I]*2**8+F)}),w.prototype.readFloatLE=function(I,k){return I=I>>>0,k||Z(I,4,this.length),r.read(this,I,!0,23,4)},w.prototype.readFloatBE=function(I,k){return I=I>>>0,k||Z(I,4,this.length),r.read(this,I,!1,23,4)},w.prototype.readDoubleLE=function(I,k){return I=I>>>0,k||Z(I,8,this.length),r.read(this,I,!0,52,8)},w.prototype.readDoubleBE=function(I,k){return I=I>>>0,k||Z(I,8,this.length),r.read(this,I,!1,52,8)};function X(T,I,k,F,Y,pe){if(!w.isBuffer(T))throw new TypeError('"buffer" argument must be a Buffer instance');if(I>Y||I<pe)throw new RangeError('"value" argument is out of bounds');if(k+F>T.length)throw new RangeError("Index out of range")}w.prototype.writeUintLE=w.prototype.writeUIntLE=function(I,k,F,Y){if(I=+I,k=k>>>0,F=F>>>0,!Y){const ge=Math.pow(2,8*F)-1;X(this,I,k,F,ge,0)}let pe=1,ie=0;for(this[k]=I&255;++ie<F&&(pe*=256);)this[k+ie]=I/pe&255;return k+F},w.prototype.writeUintBE=w.prototype.writeUIntBE=function(I,k,F,Y){if(I=+I,k=k>>>0,F=F>>>0,!Y){const ge=Math.pow(2,8*F)-1;X(this,I,k,F,ge,0)}let pe=F-1,ie=1;for(this[k+pe]=I&255;--pe>=0&&(ie*=256);)this[k+pe]=I/ie&255;return k+F},w.prototype.writeUint8=w.prototype.writeUInt8=function(I,k,F){return I=+I,k=k>>>0,F||X(this,I,k,1,255,0),this[k]=I&255,k+1},w.prototype.writeUint16LE=w.prototype.writeUInt16LE=function(I,k,F){return I=+I,k=k>>>0,F||X(this,I,k,2,65535,0),this[k]=I&255,this[k+1]=I>>>8,k+2},w.prototype.writeUint16BE=w.prototype.writeUInt16BE=function(I,k,F){return I=+I,k=k>>>0,F||X(this,I,k,2,65535,0),this[k]=I>>>8,this[k+1]=I&255,k+2},w.prototype.writeUint32LE=w.prototype.writeUInt32LE=function(I,k,F){return I=+I,k=k>>>0,F||X(this,I,k,4,4294967295,0),this[k+3]=I>>>24,this[k+2]=I>>>16,this[k+1]=I>>>8,this[k]=I&255,k+4},w.prototype.writeUint32BE=w.prototype.writeUInt32BE=function(I,k,F){return I=+I,k=k>>>0,F||X(this,I,k,4,4294967295,0),this[k]=I>>>24,this[k+1]=I>>>16,this[k+2]=I>>>8,this[k+3]=I&255,k+4};function oe(T,I,k,F,Y){xe(I,F,Y,T,k,7);let pe=Number(I&BigInt(4294967295));T[k++]=pe,pe=pe>>8,T[k++]=pe,pe=pe>>8,T[k++]=pe,pe=pe>>8,T[k++]=pe;let ie=Number(I>>BigInt(32)&BigInt(4294967295));return T[k++]=ie,ie=ie>>8,T[k++]=ie,ie=ie>>8,T[k++]=ie,ie=ie>>8,T[k++]=ie,k}function H(T,I,k,F,Y){xe(I,F,Y,T,k,7);let pe=Number(I&BigInt(4294967295));T[k+7]=pe,pe=pe>>8,T[k+6]=pe,pe=pe>>8,T[k+5]=pe,pe=pe>>8,T[k+4]=pe;let ie=Number(I>>BigInt(32)&BigInt(4294967295));return T[k+3]=ie,ie=ie>>8,T[k+2]=ie,ie=ie>>8,T[k+1]=ie,ie=ie>>8,T[k]=ie,k+8}w.prototype.writeBigUInt64LE=R(function(I,k=0){return oe(this,I,k,BigInt(0),BigInt("0xffffffffffffffff"))}),w.prototype.writeBigUInt64BE=R(function(I,k=0){return H(this,I,k,BigInt(0),BigInt("0xffffffffffffffff"))}),w.prototype.writeIntLE=function(I,k,F,Y){if(I=+I,k=k>>>0,!Y){const qe=Math.pow(2,8*F-1);X(this,I,k,F,qe-1,-qe)}let pe=0,ie=1,ge=0;for(this[k]=I&255;++pe<F&&(ie*=256);)I<0&&ge===0&&this[k+pe-1]!==0&&(ge=1),this[k+pe]=(I/ie>>0)-ge&255;return k+F},w.prototype.writeIntBE=function(I,k,F,Y){if(I=+I,k=k>>>0,!Y){const qe=Math.pow(2,8*F-1);X(this,I,k,F,qe-1,-qe)}let pe=F-1,ie=1,ge=0;for(this[k+pe]=I&255;--pe>=0&&(ie*=256);)I<0&&ge===0&&this[k+pe+1]!==0&&(ge=1),this[k+pe]=(I/ie>>0)-ge&255;return k+F},w.prototype.writeInt8=function(I,k,F){return I=+I,k=k>>>0,F||X(this,I,k,1,127,-128),I<0&&(I=255+I+1),this[k]=I&255,k+1},w.prototype.writeInt16LE=function(I,k,F){return I=+I,k=k>>>0,F||X(this,I,k,2,32767,-32768),this[k]=I&255,this[k+1]=I>>>8,k+2},w.prototype.writeInt16BE=function(I,k,F){return I=+I,k=k>>>0,F||X(this,I,k,2,32767,-32768),this[k]=I>>>8,this[k+1]=I&255,k+2},w.prototype.writeInt32LE=function(I,k,F){return I=+I,k=k>>>0,F||X(this,I,k,4,2147483647,-2147483648),this[k]=I&255,this[k+1]=I>>>8,this[k+2]=I>>>16,this[k+3]=I>>>24,k+4},w.prototype.writeInt32BE=function(I,k,F){return I=+I,k=k>>>0,F||X(this,I,k,4,2147483647,-2147483648),I<0&&(I=4294967295+I+1),this[k]=I>>>24,this[k+1]=I>>>16,this[k+2]=I>>>8,this[k+3]=I&255,k+4},w.prototype.writeBigInt64LE=R(function(I,k=0){return oe(this,I,k,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),w.prototype.writeBigInt64BE=R(function(I,k=0){return H(this,I,k,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ee(T,I,k,F,Y,pe){if(k+F>T.length)throw new RangeError("Index out of range");if(k<0)throw new RangeError("Index out of range")}function se(T,I,k,F,Y){return I=+I,k=k>>>0,Y||ee(T,I,k,4),r.write(T,I,k,F,23,4),k+4}w.prototype.writeFloatLE=function(I,k,F){return se(this,I,k,!0,F)},w.prototype.writeFloatBE=function(I,k,F){return se(this,I,k,!1,F)};function le(T,I,k,F,Y){return I=+I,k=k>>>0,Y||ee(T,I,k,8),r.write(T,I,k,F,52,8),k+8}w.prototype.writeDoubleLE=function(I,k,F){return le(this,I,k,!0,F)},w.prototype.writeDoubleBE=function(I,k,F){return le(this,I,k,!1,F)},w.prototype.copy=function(I,k,F,Y){if(!w.isBuffer(I))throw new TypeError("argument should be a Buffer");if(F||(F=0),!Y&&Y!==0&&(Y=this.length),k>=I.length&&(k=I.length),k||(k=0),Y>0&&Y<F&&(Y=F),Y===F||I.length===0||this.length===0)return 0;if(k<0)throw new RangeError("targetStart out of bounds");if(F<0||F>=this.length)throw new RangeError("Index out of range");if(Y<0)throw new RangeError("sourceEnd out of bounds");Y>this.length&&(Y=this.length),I.length-k<Y-F&&(Y=I.length-k+F);const pe=Y-F;return this===I&&typeof i.prototype.copyWithin=="function"?this.copyWithin(k,F,Y):i.prototype.set.call(I,this.subarray(F,Y),k),pe},w.prototype.fill=function(I,k,F,Y){if(typeof I=="string"){if(typeof k=="string"?(Y=k,k=0,F=this.length):typeof F=="string"&&(Y=F,F=this.length),Y!==void 0&&typeof Y!="string")throw new TypeError("encoding must be a string");if(typeof Y=="string"&&!w.isEncoding(Y))throw new TypeError("Unknown encoding: "+Y);if(I.length===1){const ie=I.charCodeAt(0);(Y==="utf8"&&ie<128||Y==="latin1")&&(I=ie)}}else typeof I=="number"?I=I&255:typeof I=="boolean"&&(I=Number(I));if(k<0||this.length<k||this.length<F)throw new RangeError("Out of range index");if(F<=k)return this;k=k>>>0,F=F===void 0?this.length:F>>>0,I||(I=0);let pe;if(typeof I=="number")for(pe=k;pe<F;++pe)this[pe]=I;else{const ie=w.isBuffer(I)?I:w.from(I,Y),ge=ie.length;if(ge===0)throw new TypeError('The value "'+I+'" is invalid for argument "value"');for(pe=0;pe<F-k;++pe)this[pe+k]=ie[pe%ge]}return this};const Ge={};function he(T,I,k){Ge[T]=class extends k{constructor(){super(),Object.defineProperty(this,"message",{value:I.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${T}]`,this.stack,delete this.name}get code(){return T}set code(Y){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Y,writable:!0})}toString(){return`${this.name} [${T}]: ${this.message}`}}}he("ERR_BUFFER_OUT_OF_BOUNDS",function(T){return T?`${T} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),he("ERR_INVALID_ARG_TYPE",function(T,I){return`The "${T}" argument must be of type number. Received type ${typeof I}`},TypeError),he("ERR_OUT_OF_RANGE",function(T,I,k){let F=`The value of "${T}" is out of range.`,Y=k;return Number.isInteger(k)&&Math.abs(k)>2**32?Y=de(String(k)):typeof k=="bigint"&&(Y=String(k),(k>BigInt(2)**BigInt(32)||k<-(BigInt(2)**BigInt(32)))&&(Y=de(Y)),Y+="n"),F+=` It must be ${I}. Received ${Y}`,F},RangeError);function de(T){let I="",k=T.length;const F=T[0]==="-"?1:0;for(;k>=F+4;k-=3)I=`_${T.slice(k-3,k)}${I}`;return`${T.slice(0,k)}${I}`}function Ye(T,I,k){Se(I,"offset"),(T[I]===void 0||T[I+k]===void 0)&&st(I,T.length-(k+1))}function xe(T,I,k,F,Y,pe){if(T>k||T<I){const ie=typeof I=="bigint"?"n":"";let ge;throw I===0||I===BigInt(0)?ge=`>= 0${ie} and < 2${ie} ** ${(pe+1)*8}${ie}`:ge=`>= -(2${ie} ** ${(pe+1)*8-1}${ie}) and < 2 ** ${(pe+1)*8-1}${ie}`,new Ge.ERR_OUT_OF_RANGE("value",ge,T)}Ye(F,Y,pe)}function Se(T,I){if(typeof T!="number")throw new Ge.ERR_INVALID_ARG_TYPE(I,"number",T)}function st(T,I,k){throw Math.floor(T)!==T?(Se(T,k),new Ge.ERR_OUT_OF_RANGE("offset","an integer",T)):I<0?new Ge.ERR_BUFFER_OUT_OF_BOUNDS:new Ge.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${I}`,T)}const Te=/[^+/0-9A-Za-z-_]/g;function ke(T){if(T=T.split("=")[0],T=T.trim().replace(Te,""),T.length<2)return"";for(;T.length%4!==0;)T=T+"=";return T}function it(T,I){I=I||1/0;let k;const F=T.length;let Y=null;const pe=[];for(let ie=0;ie<F;++ie){if(k=T.charCodeAt(ie),k>55295&&k<57344){if(!Y){if(k>56319){(I-=3)>-1&&pe.push(239,191,189);continue}else if(ie+1===F){(I-=3)>-1&&pe.push(239,191,189);continue}Y=k;continue}if(k<56320){(I-=3)>-1&&pe.push(239,191,189),Y=k;continue}k=(Y-55296<<10|k-56320)+65536}else Y&&(I-=3)>-1&&pe.push(239,191,189);if(Y=null,k<128){if((I-=1)<0)break;pe.push(k)}else if(k<2048){if((I-=2)<0)break;pe.push(k>>6|192,k&63|128)}else if(k<65536){if((I-=3)<0)break;pe.push(k>>12|224,k>>6&63|128,k&63|128)}else if(k<1114112){if((I-=4)<0)break;pe.push(k>>18|240,k>>12&63|128,k>>6&63|128,k&63|128)}else throw new Error("Invalid code point")}return pe}function Ie(T){const I=[];for(let k=0;k<T.length;++k)I.push(T.charCodeAt(k)&255);return I}function Be(T,I){let k,F,Y;const pe=[];for(let ie=0;ie<T.length&&!((I-=2)<0);++ie)k=T.charCodeAt(ie),F=k>>8,Y=k%256,pe.push(Y),pe.push(F);return pe}function ft(T){return e.toByteArray(ke(T))}function Ee(T,I,k,F){let Y;for(Y=0;Y<F&&!(Y+k>=I.length||Y>=T.length);++Y)I[Y+k]=T[Y];return Y}function Me(T,I){return T instanceof I||T!=null&&T.constructor!=null&&T.constructor.name!=null&&T.constructor.name===I.name}function rt(T){return T!==T}const V=function(){const T="0123456789abcdef",I=new Array(256);for(let k=0;k<16;++k){const F=k*16;for(let Y=0;Y<16;++Y)I[F+Y]=T[k]+T[Y]}return I}();function R(T){return typeof BigInt>"u"?L:T}function L(){throw new Error("BigInt not supported")}})(I9);const Wt=I9.Buffer;var e6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Vr<"u"?Vr:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Io,T9;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(G,q){function j(){}j.prototype=q.prototype,G.D=q.prototype,G.prototype=new j,G.prototype.constructor=G,G.C=function(Q,g,o){for(var l=Array(arguments.length-2),f=2;f<arguments.length;f++)l[f-2]=arguments[f];return q.prototype[g].apply(Q,l)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(G,q,j){j||(j=0);var Q=Array(16);if(typeof q=="string")for(var g=0;16>g;++g)Q[g]=q.charCodeAt(j++)|q.charCodeAt(j++)<<8|q.charCodeAt(j++)<<16|q.charCodeAt(j++)<<24;else for(g=0;16>g;++g)Q[g]=q[j++]|q[j++]<<8|q[j++]<<16|q[j++]<<24;q=G.g[0],j=G.g[1],g=G.g[2];var o=G.g[3],l=q+(o^j&(g^o))+Q[0]+3614090360&4294967295;q=j+(l<<7&4294967295|l>>>25),l=o+(g^q&(j^g))+Q[1]+3905402710&4294967295,o=q+(l<<12&4294967295|l>>>20),l=g+(j^o&(q^j))+Q[2]+606105819&4294967295,g=o+(l<<17&4294967295|l>>>15),l=j+(q^g&(o^q))+Q[3]+3250441966&4294967295,j=g+(l<<22&4294967295|l>>>10),l=q+(o^j&(g^o))+Q[4]+4118548399&4294967295,q=j+(l<<7&4294967295|l>>>25),l=o+(g^q&(j^g))+Q[5]+1200080426&4294967295,o=q+(l<<12&4294967295|l>>>20),l=g+(j^o&(q^j))+Q[6]+2821735955&4294967295,g=o+(l<<17&4294967295|l>>>15),l=j+(q^g&(o^q))+Q[7]+4249261313&4294967295,j=g+(l<<22&4294967295|l>>>10),l=q+(o^j&(g^o))+Q[8]+1770035416&4294967295,q=j+(l<<7&4294967295|l>>>25),l=o+(g^q&(j^g))+Q[9]+2336552879&4294967295,o=q+(l<<12&4294967295|l>>>20),l=g+(j^o&(q^j))+Q[10]+4294925233&4294967295,g=o+(l<<17&4294967295|l>>>15),l=j+(q^g&(o^q))+Q[11]+2304563134&4294967295,j=g+(l<<22&4294967295|l>>>10),l=q+(o^j&(g^o))+Q[12]+1804603682&4294967295,q=j+(l<<7&4294967295|l>>>25),l=o+(g^q&(j^g))+Q[13]+4254626195&4294967295,o=q+(l<<12&4294967295|l>>>20),l=g+(j^o&(q^j))+Q[14]+2792965006&4294967295,g=o+(l<<17&4294967295|l>>>15),l=j+(q^g&(o^q))+Q[15]+1236535329&4294967295,j=g+(l<<22&4294967295|l>>>10),l=q+(g^o&(j^g))+Q[1]+4129170786&4294967295,q=j+(l<<5&4294967295|l>>>27),l=o+(j^g&(q^j))+Q[6]+3225465664&4294967295,o=q+(l<<9&4294967295|l>>>23),l=g+(q^j&(o^q))+Q[11]+643717713&4294967295,g=o+(l<<14&4294967295|l>>>18),l=j+(o^q&(g^o))+Q[0]+3921069994&4294967295,j=g+(l<<20&4294967295|l>>>12),l=q+(g^o&(j^g))+Q[5]+3593408605&4294967295,q=j+(l<<5&4294967295|l>>>27),l=o+(j^g&(q^j))+Q[10]+38016083&4294967295,o=q+(l<<9&4294967295|l>>>23),l=g+(q^j&(o^q))+Q[15]+3634488961&4294967295,g=o+(l<<14&4294967295|l>>>18),l=j+(o^q&(g^o))+Q[4]+3889429448&4294967295,j=g+(l<<20&4294967295|l>>>12),l=q+(g^o&(j^g))+Q[9]+568446438&4294967295,q=j+(l<<5&4294967295|l>>>27),l=o+(j^g&(q^j))+Q[14]+3275163606&4294967295,o=q+(l<<9&4294967295|l>>>23),l=g+(q^j&(o^q))+Q[3]+4107603335&4294967295,g=o+(l<<14&4294967295|l>>>18),l=j+(o^q&(g^o))+Q[8]+1163531501&4294967295,j=g+(l<<20&4294967295|l>>>12),l=q+(g^o&(j^g))+Q[13]+2850285829&4294967295,q=j+(l<<5&4294967295|l>>>27),l=o+(j^g&(q^j))+Q[2]+4243563512&4294967295,o=q+(l<<9&4294967295|l>>>23),l=g+(q^j&(o^q))+Q[7]+1735328473&4294967295,g=o+(l<<14&4294967295|l>>>18),l=j+(o^q&(g^o))+Q[12]+2368359562&4294967295,j=g+(l<<20&4294967295|l>>>12),l=q+(j^g^o)+Q[5]+4294588738&4294967295,q=j+(l<<4&4294967295|l>>>28),l=o+(q^j^g)+Q[8]+2272392833&4294967295,o=q+(l<<11&4294967295|l>>>21),l=g+(o^q^j)+Q[11]+1839030562&4294967295,g=o+(l<<16&4294967295|l>>>16),l=j+(g^o^q)+Q[14]+4259657740&4294967295,j=g+(l<<23&4294967295|l>>>9),l=q+(j^g^o)+Q[1]+2763975236&4294967295,q=j+(l<<4&4294967295|l>>>28),l=o+(q^j^g)+Q[4]+1272893353&4294967295,o=q+(l<<11&4294967295|l>>>21),l=g+(o^q^j)+Q[7]+4139469664&4294967295,g=o+(l<<16&4294967295|l>>>16),l=j+(g^o^q)+Q[10]+3200236656&4294967295,j=g+(l<<23&4294967295|l>>>9),l=q+(j^g^o)+Q[13]+681279174&4294967295,q=j+(l<<4&4294967295|l>>>28),l=o+(q^j^g)+Q[0]+3936430074&4294967295,o=q+(l<<11&4294967295|l>>>21),l=g+(o^q^j)+Q[3]+3572445317&4294967295,g=o+(l<<16&4294967295|l>>>16),l=j+(g^o^q)+Q[6]+76029189&4294967295,j=g+(l<<23&4294967295|l>>>9),l=q+(j^g^o)+Q[9]+3654602809&4294967295,q=j+(l<<4&4294967295|l>>>28),l=o+(q^j^g)+Q[12]+3873151461&4294967295,o=q+(l<<11&4294967295|l>>>21),l=g+(o^q^j)+Q[15]+530742520&4294967295,g=o+(l<<16&4294967295|l>>>16),l=j+(g^o^q)+Q[2]+3299628645&4294967295,j=g+(l<<23&4294967295|l>>>9),l=q+(g^(j|~o))+Q[0]+4096336452&4294967295,q=j+(l<<6&4294967295|l>>>26),l=o+(j^(q|~g))+Q[7]+1126891415&4294967295,o=q+(l<<10&4294967295|l>>>22),l=g+(q^(o|~j))+Q[14]+2878612391&4294967295,g=o+(l<<15&4294967295|l>>>17),l=j+(o^(g|~q))+Q[5]+4237533241&4294967295,j=g+(l<<21&4294967295|l>>>11),l=q+(g^(j|~o))+Q[12]+1700485571&4294967295,q=j+(l<<6&4294967295|l>>>26),l=o+(j^(q|~g))+Q[3]+2399980690&4294967295,o=q+(l<<10&4294967295|l>>>22),l=g+(q^(o|~j))+Q[10]+4293915773&4294967295,g=o+(l<<15&4294967295|l>>>17),l=j+(o^(g|~q))+Q[1]+2240044497&4294967295,j=g+(l<<21&4294967295|l>>>11),l=q+(g^(j|~o))+Q[8]+1873313359&4294967295,q=j+(l<<6&4294967295|l>>>26),l=o+(j^(q|~g))+Q[15]+4264355552&4294967295,o=q+(l<<10&4294967295|l>>>22),l=g+(q^(o|~j))+Q[6]+2734768916&4294967295,g=o+(l<<15&4294967295|l>>>17),l=j+(o^(g|~q))+Q[13]+1309151649&4294967295,j=g+(l<<21&4294967295|l>>>11),l=q+(g^(j|~o))+Q[4]+4149444226&4294967295,q=j+(l<<6&4294967295|l>>>26),l=o+(j^(q|~g))+Q[11]+3174756917&4294967295,o=q+(l<<10&4294967295|l>>>22),l=g+(q^(o|~j))+Q[2]+718787259&4294967295,g=o+(l<<15&4294967295|l>>>17),l=j+(o^(g|~q))+Q[9]+3951481745&4294967295,G.g[0]=G.g[0]+q&4294967295,G.g[1]=G.g[1]+(g+(l<<21&4294967295|l>>>11))&4294967295,G.g[2]=G.g[2]+g&4294967295,G.g[3]=G.g[3]+o&4294967295}n.prototype.u=function(G,q){q===void 0&&(q=G.length);for(var j=q-this.blockSize,Q=this.B,g=this.h,o=0;o<q;){if(g==0)for(;o<=j;)s(this,G,o),o+=this.blockSize;if(typeof G=="string"){for(;o<q;)if(Q[g++]=G.charCodeAt(o++),g==this.blockSize){s(this,Q),g=0;break}}else for(;o<q;)if(Q[g++]=G[o++],g==this.blockSize){s(this,Q),g=0;break}}this.h=g,this.o+=q},n.prototype.v=function(){var G=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);G[0]=128;for(var q=1;q<G.length-8;++q)G[q]=0;var j=8*this.o;for(q=G.length-8;q<G.length;++q)G[q]=j&255,j/=256;for(this.u(G),G=Array(16),q=j=0;4>q;++q)for(var Q=0;32>Q;Q+=8)G[j++]=this.g[q]>>>Q&255;return G};function i(G,q){var j=c;return Object.prototype.hasOwnProperty.call(j,G)?j[G]:j[G]=q(G)}function u(G,q){this.h=q;for(var j=[],Q=!0,g=G.length-1;0<=g;g--){var o=G[g]|0;Q&&o==q||(j[g]=o,Q=!1)}this.g=j}var c={};function v(G){return-128<=G&&128>G?i(G,function(q){return new u([q|0],0>q?-1:0)}):new u([G|0],0>G?-1:0)}function b(G){if(isNaN(G)||!isFinite(G))return x;if(0>G)return W(b(-G));for(var q=[],j=1,Q=0;G>=j;Q++)q[Q]=G/j|0,j*=4294967296;return new u(q,0)}function w(G,q){if(G.length==0)throw Error("number format error: empty string");if(q=q||10,2>q||36<q)throw Error("radix out of range: "+q);if(G.charAt(0)=="-")return W(w(G.substring(1),q));if(0<=G.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=b(Math.pow(q,8)),Q=x,g=0;g<G.length;g+=8){var o=Math.min(8,G.length-g),l=parseInt(G.substring(g,g+o),q);8>o?(o=b(Math.pow(q,o)),Q=Q.j(o).add(b(l))):(Q=Q.j(j),Q=Q.add(b(l)))}return Q}var x=v(0),E=v(1),A=v(16777216);t=u.prototype,t.m=function(){if(D(this))return-W(this).m();for(var G=0,q=1,j=0;j<this.g.length;j++){var Q=this.i(j);G+=(0<=Q?Q:4294967296+Q)*q,q*=4294967296}return G},t.toString=function(G){if(G=G||10,2>G||36<G)throw Error("radix out of range: "+G);if(N(this))return"0";if(D(this))return"-"+W(this).toString(G);for(var q=b(Math.pow(G,6)),j=this,Q="";;){var g=K(j,q).g;j=P(j,g.j(q));var o=((0<j.g.length?j.g[0]:j.h)>>>0).toString(G);if(j=g,N(j))return o+Q;for(;6>o.length;)o="0"+o;Q=o+Q}},t.i=function(G){return 0>G?0:G<this.g.length?this.g[G]:this.h};function N(G){if(G.h!=0)return!1;for(var q=0;q<G.g.length;q++)if(G.g[q]!=0)return!1;return!0}function D(G){return G.h==-1}t.l=function(G){return G=P(this,G),D(G)?-1:N(G)?0:1};function W(G){for(var q=G.g.length,j=[],Q=0;Q<q;Q++)j[Q]=~G.g[Q];return new u(j,~G.h).add(E)}t.abs=function(){return D(this)?W(this):this},t.add=function(G){for(var q=Math.max(this.g.length,G.g.length),j=[],Q=0,g=0;g<=q;g++){var o=Q+(this.i(g)&65535)+(G.i(g)&65535),l=(o>>>16)+(this.i(g)>>>16)+(G.i(g)>>>16);Q=l>>>16,o&=65535,l&=65535,j[g]=l<<16|o}return new u(j,j[j.length-1]&-2147483648?-1:0)};function P(G,q){return G.add(W(q))}t.j=function(G){if(N(this)||N(G))return x;if(D(this))return D(G)?W(this).j(W(G)):W(W(this).j(G));if(D(G))return W(this.j(W(G)));if(0>this.l(A)&&0>G.l(A))return b(this.m()*G.m());for(var q=this.g.length+G.g.length,j=[],Q=0;Q<2*q;Q++)j[Q]=0;for(Q=0;Q<this.g.length;Q++)for(var g=0;g<G.g.length;g++){var o=this.i(Q)>>>16,l=this.i(Q)&65535,f=G.i(g)>>>16,h=G.i(g)&65535;j[2*Q+2*g]+=l*h,C(j,2*Q+2*g),j[2*Q+2*g+1]+=o*h,C(j,2*Q+2*g+1),j[2*Q+2*g+1]+=l*f,C(j,2*Q+2*g+1),j[2*Q+2*g+2]+=o*f,C(j,2*Q+2*g+2)}for(Q=0;Q<q;Q++)j[Q]=j[2*Q+1]<<16|j[2*Q];for(Q=q;Q<2*q;Q++)j[Q]=0;return new u(j,0)};function C(G,q){for(;(G[q]&65535)!=G[q];)G[q+1]+=G[q]>>>16,G[q]&=65535,q++}function z(G,q){this.g=G,this.h=q}function K(G,q){if(N(q))throw Error("division by zero");if(N(G))return new z(x,x);if(D(G))return q=K(W(G),q),new z(W(q.g),W(q.h));if(D(q))return q=K(G,W(q)),new z(W(q.g),q.h);if(30<G.g.length){if(D(G)||D(q))throw Error("slowDivide_ only works with positive integers.");for(var j=E,Q=q;0>=Q.l(G);)j=ne(j),Q=ne(Q);var g=ue(j,1),o=ue(Q,1);for(Q=ue(Q,2),j=ue(j,2);!N(Q);){var l=o.add(Q);0>=l.l(G)&&(g=g.add(j),o=l),Q=ue(Q,1),j=ue(j,1)}return q=P(G,g.j(q)),new z(g,q)}for(g=x;0<=G.l(q);){for(j=Math.max(1,Math.floor(G.m()/q.m())),Q=Math.ceil(Math.log(j)/Math.LN2),Q=48>=Q?1:Math.pow(2,Q-48),o=b(j),l=o.j(q);D(l)||0<l.l(G);)j-=Q,o=b(j),l=o.j(q);N(o)&&(o=E),g=g.add(o),G=P(G,l)}return new z(g,G)}t.A=function(G){return K(this,G).h},t.and=function(G){for(var q=Math.max(this.g.length,G.g.length),j=[],Q=0;Q<q;Q++)j[Q]=this.i(Q)&G.i(Q);return new u(j,this.h&G.h)},t.or=function(G){for(var q=Math.max(this.g.length,G.g.length),j=[],Q=0;Q<q;Q++)j[Q]=this.i(Q)|G.i(Q);return new u(j,this.h|G.h)},t.xor=function(G){for(var q=Math.max(this.g.length,G.g.length),j=[],Q=0;Q<q;Q++)j[Q]=this.i(Q)^G.i(Q);return new u(j,this.h^G.h)};function ne(G){for(var q=G.g.length+1,j=[],Q=0;Q<q;Q++)j[Q]=G.i(Q)<<1|G.i(Q-1)>>>31;return new u(j,G.h)}function ue(G,q){var j=q>>5;q%=32;for(var Q=G.g.length-j,g=[],o=0;o<Q;o++)g[o]=0<q?G.i(o+j)>>>q|G.i(o+j+1)<<32-q:G.i(o+j);return new u(g,G.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,T9=n,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=b,u.fromString=w,Io=u}).apply(typeof e6<"u"?e6:typeof self<"u"?self:typeof window<"u"?window:{});var Id=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Vr<"u"?Vr:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var R9,qf,k9,s0,By,C9,P9,N9;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(M,O,$){return M==Array.prototype||M==Object.prototype||(M[O]=$.value),M};function r(M){M=[typeof globalThis=="object"&&globalThis,M,typeof window=="object"&&window,typeof self=="object"&&self,typeof Id=="object"&&Id];for(var O=0;O<M.length;++O){var $=M[O];if($&&$.Math==Math)return $}throw Error("Cannot find global object")}var n=r(this);function s(M,O){if(O)e:{var $=n;M=M.split(".");for(var te=0;te<M.length-1;te++){var Re=M[te];if(!(Re in $))break e;$=$[Re]}M=M[M.length-1],te=$[M],O=O(te),O!=te&&O!=null&&e($,M,{configurable:!0,writable:!0,value:O})}}function i(M,O){M instanceof String&&(M+="");var $=0,te=!1,Re={next:function(){if(!te&&$<M.length){var Le=$++;return{value:O(Le,M[Le]),done:!1}}return te=!0,{done:!0,value:void 0}}};return Re[Symbol.iterator]=function(){return Re},Re}s("Array.prototype.values",function(M){return M||function(){return i(this,function(O,$){return $})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},c=this||self;function v(M){var O=typeof M;return O=O!="object"?O:M?Array.isArray(M)?"array":O:"null",O=="array"||O=="object"&&typeof M.length=="number"}function b(M){var O=typeof M;return O=="object"&&M!=null||O=="function"}function w(M,O,$){return M.call.apply(M.bind,arguments)}function x(M,O,$){if(!M)throw Error();if(2<arguments.length){var te=Array.prototype.slice.call(arguments,2);return function(){var Re=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Re,te),M.apply(O,Re)}}return function(){return M.apply(O,arguments)}}function E(M,O,$){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:x,E.apply(null,arguments)}function A(M,O){var $=Array.prototype.slice.call(arguments,1);return function(){var te=$.slice();return te.push.apply(te,arguments),M.apply(this,te)}}function N(M,O){function $(){}$.prototype=O.prototype,M.aa=O.prototype,M.prototype=new $,M.prototype.constructor=M,M.Qb=function(te,Re,Le){for(var Je=Array(arguments.length-2),rr=2;rr<arguments.length;rr++)Je[rr-2]=arguments[rr];return O.prototype[Re].apply(te,Je)}}function D(M){const O=M.length;if(0<O){const $=Array(O);for(let te=0;te<O;te++)$[te]=M[te];return $}return[]}function W(M,O){for(let $=1;$<arguments.length;$++){const te=arguments[$];if(v(te)){const Re=M.length||0,Le=te.length||0;M.length=Re+Le;for(let Je=0;Je<Le;Je++)M[Re+Je]=te[Je]}else M.push(te)}}class P{constructor(O,$){this.i=O,this.j=$,this.h=0,this.g=null}get(){let O;return 0<this.h?(this.h--,O=this.g,this.g=O.next,O.next=null):O=this.i(),O}}function C(M){return/^[\s\xa0]*$/.test(M)}function z(){var M=c.navigator;return M&&(M=M.userAgent)?M:""}function K(M){return K[" "](M),M}K[" "]=function(){};var ne=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function ue(M,O,$){for(const te in M)O.call($,M[te],te,M)}function G(M,O){for(const $ in M)O.call(void 0,M[$],$,M)}function q(M){const O={};for(const $ in M)O[$]=M[$];return O}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(M,O){let $,te;for(let Re=1;Re<arguments.length;Re++){te=arguments[Re];for($ in te)M[$]=te[$];for(let Le=0;Le<j.length;Le++)$=j[Le],Object.prototype.hasOwnProperty.call(te,$)&&(M[$]=te[$])}}function g(M){var O=1;M=M.split(":");const $=[];for(;0<O&&M.length;)$.push(M.shift()),O--;return M.length&&$.push(M.join(":")),$}function o(M){c.setTimeout(()=>{throw M},0)}function l(){var M=d;let O=null;return M.g&&(O=M.g,M.g=M.g.next,M.g||(M.h=null),O.next=null),O}class f{constructor(){this.h=this.g=null}add(O,$){const te=h.get();te.set(O,$),this.h?this.h.next=te:this.g=te,this.h=te}}var h=new P(()=>new m,M=>M.reset());class m{constructor(){this.next=this.g=this.h=null}set(O,$){this.h=O,this.g=$,this.next=null}reset(){this.next=this.g=this.h=null}}let y,_=!1,d=new f,a=()=>{const M=c.Promise.resolve(void 0);y=()=>{M.then(p)}};var p=()=>{for(var M;M=l();){try{M.h.call(M.g)}catch($){o($)}var O=h;O.j(M),100>O.h&&(O.h++,M.next=O.g,O.g=M)}_=!1};function S(){this.s=this.s,this.C=this.C}S.prototype.s=!1,S.prototype.ma=function(){this.s||(this.s=!0,this.N())},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(M,O){this.type=M,this.g=this.target=O,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var Z=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var M=!1,O=Object.defineProperty({},"passive",{get:function(){M=!0}});try{const $=()=>{};c.addEventListener("test",$,O),c.removeEventListener("test",$,O)}catch{}return M}();function X(M,O){if(B.call(this,M?M.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,M){var $=this.type=M.type,te=M.changedTouches&&M.changedTouches.length?M.changedTouches[0]:null;if(this.target=M.target||M.srcElement,this.g=O,O=M.relatedTarget){if(ne){e:{try{K(O.nodeName);var Re=!0;break e}catch{}Re=!1}Re||(O=null)}}else $=="mouseover"?O=M.fromElement:$=="mouseout"&&(O=M.toElement);this.relatedTarget=O,te?(this.clientX=te.clientX!==void 0?te.clientX:te.pageX,this.clientY=te.clientY!==void 0?te.clientY:te.pageY,this.screenX=te.screenX||0,this.screenY=te.screenY||0):(this.clientX=M.clientX!==void 0?M.clientX:M.pageX,this.clientY=M.clientY!==void 0?M.clientY:M.pageY,this.screenX=M.screenX||0,this.screenY=M.screenY||0),this.button=M.button,this.key=M.key||"",this.ctrlKey=M.ctrlKey,this.altKey=M.altKey,this.shiftKey=M.shiftKey,this.metaKey=M.metaKey,this.pointerId=M.pointerId||0,this.pointerType=typeof M.pointerType=="string"?M.pointerType:oe[M.pointerType]||"",this.state=M.state,this.i=M,M.defaultPrevented&&X.aa.h.call(this)}}N(X,B);var oe={2:"touch",3:"pen",4:"mouse"};X.prototype.h=function(){X.aa.h.call(this);var M=this.i;M.preventDefault?M.preventDefault():M.returnValue=!1};var H="closure_listenable_"+(1e6*Math.random()|0),ee=0;function se(M,O,$,te,Re){this.listener=M,this.proxy=null,this.src=O,this.type=$,this.capture=!!te,this.ha=Re,this.key=++ee,this.da=this.fa=!1}function le(M){M.da=!0,M.listener=null,M.proxy=null,M.src=null,M.ha=null}function Ge(M){this.src=M,this.g={},this.h=0}Ge.prototype.add=function(M,O,$,te,Re){var Le=M.toString();M=this.g[Le],M||(M=this.g[Le]=[],this.h++);var Je=de(M,O,te,Re);return-1<Je?(O=M[Je],$||(O.fa=!1)):(O=new se(O,this.src,Le,!!te,Re),O.fa=$,M.push(O)),O};function he(M,O){var $=O.type;if($ in M.g){var te=M.g[$],Re=Array.prototype.indexOf.call(te,O,void 0),Le;(Le=0<=Re)&&Array.prototype.splice.call(te,Re,1),Le&&(le(O),M.g[$].length==0&&(delete M.g[$],M.h--))}}function de(M,O,$,te){for(var Re=0;Re<M.length;++Re){var Le=M[Re];if(!Le.da&&Le.listener==O&&Le.capture==!!$&&Le.ha==te)return Re}return-1}var Ye="closure_lm_"+(1e6*Math.random()|0),xe={};function Se(M,O,$,te,Re){if(Array.isArray(O)){for(var Le=0;Le<O.length;Le++)Se(M,O[Le],$,te,Re);return null}return $=Me($),M&&M[H]?M.K(O,$,b(te)?!!te.capture:!1,Re):st(M,O,$,!1,te,Re)}function st(M,O,$,te,Re,Le){if(!O)throw Error("Invalid event type");var Je=b(Re)?!!Re.capture:!!Re,rr=ft(M);if(rr||(M[Ye]=rr=new Ge(M)),$=rr.add(O,$,te,Je,Le),$.proxy)return $;if(te=Te(),$.proxy=te,te.src=M,te.listener=$,M.addEventListener)Z||(Re=Je),Re===void 0&&(Re=!1),M.addEventListener(O.toString(),te,Re);else if(M.attachEvent)M.attachEvent(Ie(O.toString()),te);else if(M.addListener&&M.removeListener)M.addListener(te);else throw Error("addEventListener and attachEvent are unavailable.");return $}function Te(){function M($){return O.call(M.src,M.listener,$)}const O=Be;return M}function ke(M,O,$,te,Re){if(Array.isArray(O))for(var Le=0;Le<O.length;Le++)ke(M,O[Le],$,te,Re);else te=b(te)?!!te.capture:!!te,$=Me($),M&&M[H]?(M=M.i,O=String(O).toString(),O in M.g&&(Le=M.g[O],$=de(Le,$,te,Re),-1<$&&(le(Le[$]),Array.prototype.splice.call(Le,$,1),Le.length==0&&(delete M.g[O],M.h--)))):M&&(M=ft(M))&&(O=M.g[O.toString()],M=-1,O&&(M=de(O,$,te,Re)),($=-1<M?O[M]:null)&&it($))}function it(M){if(typeof M!="number"&&M&&!M.da){var O=M.src;if(O&&O[H])he(O.i,M);else{var $=M.type,te=M.proxy;O.removeEventListener?O.removeEventListener($,te,M.capture):O.detachEvent?O.detachEvent(Ie($),te):O.addListener&&O.removeListener&&O.removeListener(te),($=ft(O))?(he($,M),$.h==0&&($.src=null,O[Ye]=null)):le(M)}}}function Ie(M){return M in xe?xe[M]:xe[M]="on"+M}function Be(M,O){if(M.da)M=!0;else{O=new X(O,this);var $=M.listener,te=M.ha||M.src;M.fa&&it(M),M=$.call(te,O)}return M}function ft(M){return M=M[Ye],M instanceof Ge?M:null}var Ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function Me(M){return typeof M=="function"?M:(M[Ee]||(M[Ee]=function(O){return M.handleEvent(O)}),M[Ee])}function rt(){S.call(this),this.i=new Ge(this),this.M=this,this.F=null}N(rt,S),rt.prototype[H]=!0,rt.prototype.removeEventListener=function(M,O,$,te){ke(this,M,O,$,te)};function V(M,O){var $,te=M.F;if(te)for($=[];te;te=te.F)$.push(te);if(M=M.M,te=O.type||O,typeof O=="string")O=new B(O,M);else if(O instanceof B)O.target=O.target||M;else{var Re=O;O=new B(te,M),Q(O,Re)}if(Re=!0,$)for(var Le=$.length-1;0<=Le;Le--){var Je=O.g=$[Le];Re=R(Je,te,!0,O)&&Re}if(Je=O.g=M,Re=R(Je,te,!0,O)&&Re,Re=R(Je,te,!1,O)&&Re,$)for(Le=0;Le<$.length;Le++)Je=O.g=$[Le],Re=R(Je,te,!1,O)&&Re}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var M=this.i,O;for(O in M.g){for(var $=M.g[O],te=0;te<$.length;te++)le($[te]);delete M.g[O],M.h--}}this.F=null},rt.prototype.K=function(M,O,$,te){return this.i.add(String(M),O,!1,$,te)},rt.prototype.L=function(M,O,$,te){return this.i.add(String(M),O,!0,$,te)};function R(M,O,$,te){if(O=M.i.g[String(O)],!O)return!0;O=O.concat();for(var Re=!0,Le=0;Le<O.length;++Le){var Je=O[Le];if(Je&&!Je.da&&Je.capture==$){var rr=Je.listener,Hr=Je.ha||Je.src;Je.fa&&he(M.i,Je),Re=rr.call(Hr,te)!==!1&&Re}}return Re&&!te.defaultPrevented}function L(M,O,$){if(typeof M=="function")$&&(M=E(M,$));else if(M&&typeof M.handleEvent=="function")M=E(M.handleEvent,M);else throw Error("Invalid listener argument");return 2147483647<Number(O)?-1:c.setTimeout(M,O||0)}function T(M){M.g=L(()=>{M.g=null,M.i&&(M.i=!1,T(M))},M.l);const O=M.h;M.h=null,M.m.apply(null,O)}class I extends S{constructor(O,$){super(),this.m=O,this.l=$,this.h=null,this.i=!1,this.g=null}j(O){this.h=arguments,this.g?this.i=!0:T(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function k(M){S.call(this),this.h=M,this.g={}}N(k,S);var F=[];function Y(M){ue(M.g,function(O,$){this.g.hasOwnProperty($)&&it(O)},M),M.g={}}k.prototype.N=function(){k.aa.N.call(this),Y(this)},k.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pe=c.JSON.stringify,ie=c.JSON.parse,ge=class{stringify(M){return c.JSON.stringify(M,void 0)}parse(M){return c.JSON.parse(M,void 0)}};function qe(){}qe.prototype.h=null;function be(M){return M.h||(M.h=M.i())}function Ce(){}var et={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ne(){B.call(this,"d")}N(Ne,B);function Fe(){B.call(this,"c")}N(Fe,B);var gt={},De=null;function Oe(){return De=De||new rt}gt.La="serverreachability";function _t(M){B.call(this,gt.La,M)}N(_t,B);function Pe(M){const O=Oe();V(O,new _t(O))}gt.STAT_EVENT="statevent";function Ve(M,O){B.call(this,gt.STAT_EVENT,M),this.stat=O}N(Ve,B);function dt(M){const O=Oe();V(O,new Ve(O,M))}gt.Ma="timingevent";function J(M,O){B.call(this,gt.Ma,M),this.size=O}N(J,B);function re(M,O){if(typeof M!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){M()},O)}function _e(){this.g=!0}_e.prototype.xa=function(){this.g=!1};function ae(M,O,$,te,Re,Le){M.info(function(){if(M.g)if(Le)for(var Je="",rr=Le.split("&"),Hr=0;Hr<rr.length;Hr++){var Kt=rr[Hr].split("=");if(1<Kt.length){var Jr=Kt[0];Kt=Kt[1];var Xr=Jr.split("_");Je=2<=Xr.length&&Xr[1]=="type"?Je+(Jr+"="+Kt+"&"):Je+(Jr+"=redacted&")}}else Je=null;else Je=Le;return"XMLHTTP REQ ("+te+") [attempt "+Re+"]: "+O+`
`+$+`
`+Je})}function me(M,O,$,te,Re,Le,Je){M.info(function(){return"XMLHTTP RESP ("+te+") [ attempt "+Re+"]: "+O+`
`+$+`
`+Le+" "+Je})}function $e(M,O,$,te){M.info(function(){return"XMLHTTP TEXT ("+O+"): "+ye(M,$)+(te?" "+te:"")})}function ve(M,O){M.info(function(){return"TIMEOUT: "+O})}_e.prototype.info=function(){};function ye(M,O){if(!M.g)return O;if(!O)return null;try{var $=JSON.parse(O);if($){for(M=0;M<$.length;M++)if(Array.isArray($[M])){var te=$[M];if(!(2>te.length)){var Re=te[1];if(Array.isArray(Re)&&!(1>Re.length)){var Le=Re[0];if(Le!="noop"&&Le!="stop"&&Le!="close")for(var Je=1;Je<Re.length;Je++)Re[Je]=""}}}}return pe($)}catch{return O}}var ze={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ce={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},we;function We(){}N(We,qe),We.prototype.g=function(){return new XMLHttpRequest},We.prototype.i=function(){return{}},we=new We;function Ze(M,O,$,te){this.j=M,this.i=O,this.l=$,this.R=te||1,this.U=new k(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yt}function yt(){this.i=null,this.g="",this.h=!1}var ct={},at={};function pt(M,O,$){M.L=1,M.v=Wc(hs(O)),M.m=$,M.P=!0,Ct(M,null)}function Ct(M,O){M.F=Date.now(),xt(M),M.A=hs(M.v);var $=M.A,te=M.R;Array.isArray(te)||(te=[String(te)]),mb($.i,"t",te),M.C=0,$=M.j.J,M.h=new yt,M.g=Nb(M.j,$?O:null,!M.m),0<M.O&&(M.M=new I(E(M.Y,M,M.g),M.O)),O=M.U,$=M.g,te=M.ca;var Re="readystatechange";Array.isArray(Re)||(Re&&(F[0]=Re.toString()),Re=F);for(var Le=0;Le<Re.length;Le++){var Je=Se($,Re[Le],te||O.handleEvent,!1,O.h||O);if(!Je)break;O.g[Je.key]=Je}O=M.H?q(M.H):{},M.m?(M.u||(M.u="POST"),O["Content-Type"]="application/x-www-form-urlencoded",M.g.ea(M.A,M.u,M.m,O)):(M.u="GET",M.g.ea(M.A,M.u,null,O)),Pe(),ae(M.i,M.u,M.A,M.l,M.R,M.m)}Ze.prototype.ca=function(M){M=M.target;const O=this.M;O&&cs(M)==3?O.j():this.Y(M)},Ze.prototype.Y=function(M){try{if(M==this.g)e:{const Xr=cs(this.g);var O=this.g.Ba();const il=this.g.Z();if(!(3>Xr)&&(Xr!=3||this.g&&(this.h.h||this.g.oa()||xb(this.g)))){this.J||Xr!=4||O==7||(O==8||0>=il?Pe(3):Pe(2)),Pt(this);var $=this.g.Z();this.X=$;t:if(Ot(this)){var te=xb(this.g);M="";var Re=te.length,Le=cs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){St(this),Mt(this);var Je="";break t}this.h.i=new c.TextDecoder}for(O=0;O<Re;O++)this.h.h=!0,M+=this.h.i.decode(te[O],{stream:!(Le&&O==Re-1)});te.length=0,this.h.g+=M,this.C=0,Je=this.h.g}else Je=this.g.oa();if(this.o=$==200,me(this.i,this.u,this.A,this.l,this.R,Xr,$),this.o){if(this.T&&!this.K){t:{if(this.g){var rr,Hr=this.g;if((rr=Hr.g?Hr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(rr)){var Kt=rr;break t}}Kt=null}if($=Kt)$e(this.i,this.l,$,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Lt(this,$);else{this.o=!1,this.s=3,dt(12),St(this),Mt(this);break e}}if(this.P){$=!0;let mi;for(;!this.J&&this.C<Je.length;)if(mi=Tt(this,Je),mi==at){Xr==4&&(this.s=4,dt(14),$=!1),$e(this.i,this.l,null,"[Incomplete Response]");break}else if(mi==ct){this.s=4,dt(15),$e(this.i,this.l,Je,"[Invalid Chunk]"),$=!1;break}else $e(this.i,this.l,mi,null),Lt(this,mi);if(Ot(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Xr!=4||Je.length!=0||this.h.h||(this.s=1,dt(16),$=!1),this.o=this.o&&$,!$)$e(this.i,this.l,Je,"[Invalid Chunked Response]"),St(this),Mt(this);else if(0<Je.length&&!this.W){this.W=!0;var Jr=this.j;Jr.g==this&&Jr.ba&&!Jr.M&&(Jr.j.info("Great, no buffering proxy detected. Bytes received: "+Je.length),pv(Jr),Jr.M=!0,dt(11))}}else $e(this.i,this.l,Je,null),Lt(this,Je);Xr==4&&St(this),this.o&&!this.J&&(Xr==4?Rb(this.j,this):(this.o=!1,xt(this)))}else kR(this.g),$==400&&0<Je.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),St(this),Mt(this)}}}catch{}finally{}};function Ot(M){return M.g?M.u=="GET"&&M.L!=2&&M.j.Ca:!1}function Tt(M,O){var $=M.C,te=O.indexOf(`
`,$);return te==-1?at:($=Number(O.substring($,te)),isNaN($)?ct:(te+=1,te+$>O.length?at:(O=O.slice(te,te+$),M.C=te+$,O)))}Ze.prototype.cancel=function(){this.J=!0,St(this)};function xt(M){M.S=Date.now()+M.I,zt(M,M.I)}function zt(M,O){if(M.B!=null)throw Error("WatchDog timer not null");M.B=re(E(M.ba,M),O)}function Pt(M){M.B&&(c.clearTimeout(M.B),M.B=null)}Ze.prototype.ba=function(){this.B=null;const M=Date.now();0<=M-this.S?(ve(this.i,this.A),this.L!=2&&(Pe(),dt(17)),St(this),this.s=2,Mt(this)):zt(this,this.S-M)};function Mt(M){M.j.G==0||M.J||Rb(M.j,M)}function St(M){Pt(M);var O=M.M;O&&typeof O.ma=="function"&&O.ma(),M.M=null,Y(M.U),M.g&&(O=M.g,M.g=null,O.abort(),O.ma())}function Lt(M,O){try{var $=M.j;if($.G!=0&&($.g==M||er($.h,M))){if(!M.K&&er($.h,M)&&$.G==3){try{var te=$.Da.g.parse(O)}catch{te=null}if(Array.isArray(te)&&te.length==3){var Re=te;if(Re[0]==0){e:if(!$.u){if($.g)if($.g.F+3e3<M.F)Xc($),Yc($);else break e;dv($),dt(18)}}else $.za=Re[1],0<$.za-$.T&&37500>Re[2]&&$.F&&$.v==0&&!$.C&&($.C=re(E($.Za,$),6e3));if(1>=Ft($.h)&&$.ca){try{$.ca()}catch{}$.ca=void 0}}else Zo($,11)}else if((M.K||$.g==M)&&Xc($),!C(O))for(Re=$.Da.g.parse(O),O=0;O<Re.length;O++){let Kt=Re[O];if($.T=Kt[0],Kt=Kt[1],$.G==2)if(Kt[0]=="c"){$.K=Kt[1],$.ia=Kt[2];const Jr=Kt[3];Jr!=null&&($.la=Jr,$.j.info("VER="+$.la));const Xr=Kt[4];Xr!=null&&($.Aa=Xr,$.j.info("SVER="+$.Aa));const il=Kt[5];il!=null&&typeof il=="number"&&0<il&&(te=1.5*il,$.L=te,$.j.info("backChannelRequestTimeoutMs_="+te)),te=$;const mi=M.g;if(mi){const td=mi.g?mi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(td){var Le=te.h;Le.g||td.indexOf("spdy")==-1&&td.indexOf("quic")==-1&&td.indexOf("h2")==-1||(Le.j=Le.l,Le.g=new Set,Le.h&&(xn(Le,Le.h),Le.h=null))}if(te.D){const mv=mi.g?mi.g.getResponseHeader("X-HTTP-Session-Id"):null;mv&&(te.ya=mv,or(te.I,te.D,mv))}}$.G=3,$.l&&$.l.ua(),$.ba&&($.R=Date.now()-M.F,$.j.info("Handshake RTT: "+$.R+"ms")),te=$;var Je=M;if(te.qa=Pb(te,te.J?te.ia:null,te.W),Je.K){ef(te.h,Je);var rr=Je,Hr=te.L;Hr&&(rr.I=Hr),rr.B&&(Pt(rr),xt(rr)),te.g=Je}else Ab(te);0<$.i.length&&Jc($)}else Kt[0]!="stop"&&Kt[0]!="close"||Zo($,7);else $.G==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Zo($,7):cv($):Kt[0]!="noop"&&$.l&&$.l.ta(Kt),$.v=0)}}Pe(4)}catch{}}var ut=class{constructor(M,O){this.g=M,this.map=O}};function vt(M){this.l=M||10,c.PerformanceNavigationTiming?(M=c.performance.getEntriesByType("navigation"),M=0<M.length&&(M[0].nextHopProtocol=="hq"||M[0].nextHopProtocol=="h2")):M=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=M?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Nt(M){return M.h?!0:M.g?M.g.size>=M.j:!1}function Ft(M){return M.h?1:M.g?M.g.size:0}function er(M,O){return M.h?M.h==O:M.g?M.g.has(O):!1}function xn(M,O){M.g?M.g.add(O):M.h=O}function ef(M,O){M.h&&M.h==O?M.h=null:M.g&&M.g.has(O)&&M.g.delete(O)}vt.prototype.cancel=function(){if(this.i=qc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const M of this.g.values())M.cancel();this.g.clear()}};function qc(M){if(M.h!=null)return M.i.concat(M.h.D);if(M.g!=null&&M.g.size!==0){let O=M.i;for(const $ of M.g.values())O=O.concat($.D);return O}return D(M.i)}function mR(M){if(M.V&&typeof M.V=="function")return M.V();if(typeof Map<"u"&&M instanceof Map||typeof Set<"u"&&M instanceof Set)return Array.from(M.values());if(typeof M=="string")return M.split("");if(v(M)){for(var O=[],$=M.length,te=0;te<$;te++)O.push(M[te]);return O}O=[],$=0;for(te in M)O[$++]=M[te];return O}function vR(M){if(M.na&&typeof M.na=="function")return M.na();if(!M.V||typeof M.V!="function"){if(typeof Map<"u"&&M instanceof Map)return Array.from(M.keys());if(!(typeof Set<"u"&&M instanceof Set)){if(v(M)||typeof M=="string"){var O=[];M=M.length;for(var $=0;$<M;$++)O.push($);return O}O=[],$=0;for(const te in M)O[$++]=te;return O}}}function ub(M,O){if(M.forEach&&typeof M.forEach=="function")M.forEach(O,void 0);else if(v(M)||typeof M=="string")Array.prototype.forEach.call(M,O,void 0);else for(var $=vR(M),te=mR(M),Re=te.length,Le=0;Le<Re;Le++)O.call(void 0,te[Le],$&&$[Le],M)}var fb=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gR(M,O){if(M){M=M.split("&");for(var $=0;$<M.length;$++){var te=M[$].indexOf("="),Re=null;if(0<=te){var Le=M[$].substring(0,te);Re=M[$].substring(te+1)}else Le=M[$];O(Le,Re?decodeURIComponent(Re.replace(/\+/g," ")):"")}}}function Go(M){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,M instanceof Go){this.h=M.h,Hc(this,M.j),this.o=M.o,this.g=M.g,Kc(this,M.s),this.l=M.l;var O=M.i,$=new nf;$.i=O.i,O.g&&($.g=new Map(O.g),$.h=O.h),hb(this,$),this.m=M.m}else M&&(O=String(M).match(fb))?(this.h=!1,Hc(this,O[1]||"",!0),this.o=tf(O[2]||""),this.g=tf(O[3]||"",!0),Kc(this,O[4]),this.l=tf(O[5]||"",!0),hb(this,O[6]||"",!0),this.m=tf(O[7]||"")):(this.h=!1,this.i=new nf(null,this.h))}Go.prototype.toString=function(){var M=[],O=this.j;O&&M.push(rf(O,cb,!0),":");var $=this.g;return($||O=="file")&&(M.push("//"),(O=this.o)&&M.push(rf(O,cb,!0),"@"),M.push(encodeURIComponent(String($)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),$=this.s,$!=null&&M.push(":",String($))),($=this.l)&&(this.g&&$.charAt(0)!="/"&&M.push("/"),M.push(rf($,$.charAt(0)=="/"?_R:wR,!0))),($=this.i.toString())&&M.push("?",$),($=this.m)&&M.push("#",rf($,xR)),M.join("")};function hs(M){return new Go(M)}function Hc(M,O,$){M.j=$?tf(O,!0):O,M.j&&(M.j=M.j.replace(/:$/,""))}function Kc(M,O){if(O){if(O=Number(O),isNaN(O)||0>O)throw Error("Bad port number "+O);M.s=O}else M.s=null}function hb(M,O,$){O instanceof nf?(M.i=O,MR(M.i,M.h)):($||(O=rf(O,bR)),M.i=new nf(O,M.h))}function or(M,O,$){M.i.set(O,$)}function Wc(M){return or(M,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),M}function tf(M,O){return M?O?decodeURI(M.replace(/%25/g,"%2525")):decodeURIComponent(M):""}function rf(M,O,$){return typeof M=="string"?(M=encodeURI(M).replace(O,yR),$&&(M=M.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M):null}function yR(M){return M=M.charCodeAt(0),"%"+(M>>4&15).toString(16)+(M&15).toString(16)}var cb=/[#\/\?@]/g,wR=/[#\?:]/g,_R=/[#\?]/g,bR=/[#\?@]/g,xR=/#/g;function nf(M,O){this.h=this.g=null,this.i=M||null,this.j=!!O}function Ks(M){M.g||(M.g=new Map,M.h=0,M.i&&gR(M.i,function(O,$){M.add(decodeURIComponent(O.replace(/\+/g," ")),$)}))}t=nf.prototype,t.add=function(M,O){Ks(this),this.i=null,M=rl(this,M);var $=this.g.get(M);return $||this.g.set(M,$=[]),$.push(O),this.h+=1,this};function db(M,O){Ks(M),O=rl(M,O),M.g.has(O)&&(M.i=null,M.h-=M.g.get(O).length,M.g.delete(O))}function pb(M,O){return Ks(M),O=rl(M,O),M.g.has(O)}t.forEach=function(M,O){Ks(this),this.g.forEach(function($,te){$.forEach(function(Re){M.call(O,Re,te,this)},this)},this)},t.na=function(){Ks(this);const M=Array.from(this.g.values()),O=Array.from(this.g.keys()),$=[];for(let te=0;te<O.length;te++){const Re=M[te];for(let Le=0;Le<Re.length;Le++)$.push(O[te])}return $},t.V=function(M){Ks(this);let O=[];if(typeof M=="string")pb(this,M)&&(O=O.concat(this.g.get(rl(this,M))));else{M=Array.from(this.g.values());for(let $=0;$<M.length;$++)O=O.concat(M[$])}return O},t.set=function(M,O){return Ks(this),this.i=null,M=rl(this,M),pb(this,M)&&(this.h-=this.g.get(M).length),this.g.set(M,[O]),this.h+=1,this},t.get=function(M,O){return M?(M=this.V(M),0<M.length?String(M[0]):O):O};function mb(M,O,$){db(M,O),0<$.length&&(M.i=null,M.g.set(rl(M,O),D($)),M.h+=$.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const M=[],O=Array.from(this.g.keys());for(var $=0;$<O.length;$++){var te=O[$];const Le=encodeURIComponent(String(te)),Je=this.V(te);for(te=0;te<Je.length;te++){var Re=Le;Je[te]!==""&&(Re+="="+encodeURIComponent(String(Je[te]))),M.push(Re)}}return this.i=M.join("&")};function rl(M,O){return O=String(O),M.j&&(O=O.toLowerCase()),O}function MR(M,O){O&&!M.j&&(Ks(M),M.i=null,M.g.forEach(function($,te){var Re=te.toLowerCase();te!=Re&&(db(this,te),mb(this,Re,$))},M)),M.j=O}function ER(M,O){const $=new _e;if(c.Image){const te=new Image;te.onload=A(Ws,$,"TestLoadImage: loaded",!0,O,te),te.onerror=A(Ws,$,"TestLoadImage: error",!1,O,te),te.onabort=A(Ws,$,"TestLoadImage: abort",!1,O,te),te.ontimeout=A(Ws,$,"TestLoadImage: timeout",!1,O,te),c.setTimeout(function(){te.ontimeout&&te.ontimeout()},1e4),te.src=M}else O(!1)}function SR(M,O){const $=new _e,te=new AbortController,Re=setTimeout(()=>{te.abort(),Ws($,"TestPingServer: timeout",!1,O)},1e4);fetch(M,{signal:te.signal}).then(Le=>{clearTimeout(Re),Le.ok?Ws($,"TestPingServer: ok",!0,O):Ws($,"TestPingServer: server error",!1,O)}).catch(()=>{clearTimeout(Re),Ws($,"TestPingServer: error",!1,O)})}function Ws(M,O,$,te,Re){try{Re&&(Re.onload=null,Re.onerror=null,Re.onabort=null,Re.ontimeout=null),te($)}catch{}}function IR(){this.g=new ge}function AR(M,O,$){const te=$||"";try{ub(M,function(Re,Le){let Je=Re;b(Re)&&(Je=pe(Re)),O.push(te+Le+"="+encodeURIComponent(Je))})}catch(Re){throw O.push(te+"type="+encodeURIComponent("_badmap")),Re}}function Gc(M){this.l=M.Ub||null,this.j=M.eb||!1}N(Gc,qe),Gc.prototype.g=function(){return new Zc(this.l,this.j)},Gc.prototype.i=function(M){return function(){return M}}({});function Zc(M,O){rt.call(this),this.D=M,this.o=O,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(Zc,rt),t=Zc.prototype,t.open=function(M,O){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=M,this.A=O,this.readyState=1,of(this)},t.send=function(M){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const O={headers:this.u,method:this.B,credentials:this.m,cache:void 0};M&&(O.body=M),(this.D||c).fetch(new Request(this.A,O)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sf(this)),this.readyState=0},t.Sa=function(M){if(this.g&&(this.l=M,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=M.headers,this.readyState=2,of(this)),this.g&&(this.readyState=3,of(this),this.g)))if(this.responseType==="arraybuffer")M.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in M){if(this.j=M.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vb(this)}else M.text().then(this.Ra.bind(this),this.ga.bind(this))};function vb(M){M.j.read().then(M.Pa.bind(M)).catch(M.ga.bind(M))}t.Pa=function(M){if(this.g){if(this.o&&M.value)this.response.push(M.value);else if(!this.o){var O=M.value?M.value:new Uint8Array(0);(O=this.v.decode(O,{stream:!M.done}))&&(this.response=this.responseText+=O)}M.done?sf(this):of(this),this.readyState==3&&vb(this)}},t.Ra=function(M){this.g&&(this.response=this.responseText=M,sf(this))},t.Qa=function(M){this.g&&(this.response=M,sf(this))},t.ga=function(){this.g&&sf(this)};function sf(M){M.readyState=4,M.l=null,M.j=null,M.v=null,of(M)}t.setRequestHeader=function(M,O){this.u.append(M,O)},t.getResponseHeader=function(M){return this.h&&this.h.get(M.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const M=[],O=this.h.entries();for(var $=O.next();!$.done;)$=$.value,M.push($[0]+": "+$[1]),$=O.next();return M.join(`\r
`)};function of(M){M.onreadystatechange&&M.onreadystatechange.call(M)}Object.defineProperty(Zc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(M){this.m=M?"include":"same-origin"}});function gb(M){let O="";return ue(M,function($,te){O+=te,O+=":",O+=$,O+=`\r
`}),O}function hv(M,O,$){e:{for(te in $){var te=!1;break e}te=!0}te||($=gb($),typeof M=="string"?$!=null&&encodeURIComponent(String($)):or(M,O,$))}function yr(M){rt.call(this),this.headers=new Map,this.o=M||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(yr,rt);var TR=/^https?$/i,RR=["POST","PUT"];t=yr.prototype,t.Ha=function(M){this.J=M},t.ea=function(M,O,$,te){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+M);O=O?O.toUpperCase():"GET",this.D=M,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():we.g(),this.v=this.o?be(this.o):be(we),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(O,String(M),!0),this.B=!1}catch(Le){yb(this,Le);return}if(M=$||"",$=new Map(this.headers),te)if(Object.getPrototypeOf(te)===Object.prototype)for(var Re in te)$.set(Re,te[Re]);else if(typeof te.keys=="function"&&typeof te.get=="function")for(const Le of te.keys())$.set(Le,te.get(Le));else throw Error("Unknown input type for opt_headers: "+String(te));te=Array.from($.keys()).find(Le=>Le.toLowerCase()=="content-type"),Re=c.FormData&&M instanceof c.FormData,!(0<=Array.prototype.indexOf.call(RR,O,void 0))||te||Re||$.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Le,Je]of $)this.g.setRequestHeader(Le,Je);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bb(this),this.u=!0,this.g.send(M),this.u=!1}catch(Le){yb(this,Le)}};function yb(M,O){M.h=!1,M.g&&(M.j=!0,M.g.abort(),M.j=!1),M.l=O,M.m=5,wb(M),Qc(M)}function wb(M){M.A||(M.A=!0,V(M,"complete"),V(M,"error"))}t.abort=function(M){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=M||7,V(this,"complete"),V(this,"abort"),Qc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qc(this,!0)),yr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?_b(this):this.bb())},t.bb=function(){_b(this)};function _b(M){if(M.h&&typeof u<"u"&&(!M.v[1]||cs(M)!=4||M.Z()!=2)){if(M.u&&cs(M)==4)L(M.Ea,0,M);else if(V(M,"readystatechange"),cs(M)==4){M.h=!1;try{const Je=M.Z();e:switch(Je){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var O=!0;break e;default:O=!1}var $;if(!($=O)){var te;if(te=Je===0){var Re=String(M.D).match(fb)[1]||null;!Re&&c.self&&c.self.location&&(Re=c.self.location.protocol.slice(0,-1)),te=!TR.test(Re?Re.toLowerCase():"")}$=te}if($)V(M,"complete"),V(M,"success");else{M.m=6;try{var Le=2<cs(M)?M.g.statusText:""}catch{Le=""}M.l=Le+" ["+M.Z()+"]",wb(M)}}finally{Qc(M)}}}}function Qc(M,O){if(M.g){bb(M);const $=M.g,te=M.v[0]?()=>{}:null;M.g=null,M.v=null,O||V(M,"ready");try{$.onreadystatechange=te}catch{}}}function bb(M){M.I&&(c.clearTimeout(M.I),M.I=null)}t.isActive=function(){return!!this.g};function cs(M){return M.g?M.g.readyState:0}t.Z=function(){try{return 2<cs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(M){if(this.g){var O=this.g.responseText;return M&&O.indexOf(M)==0&&(O=O.substring(M.length)),ie(O)}};function xb(M){try{if(!M.g)return null;if("response"in M.g)return M.g.response;switch(M.H){case"":case"text":return M.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in M.g)return M.g.mozResponseArrayBuffer}return null}catch{return null}}function kR(M){const O={};M=(M.g&&2<=cs(M)&&M.g.getAllResponseHeaders()||"").split(`\r
`);for(let te=0;te<M.length;te++){if(C(M[te]))continue;var $=g(M[te]);const Re=$[0];if($=$[1],typeof $!="string")continue;$=$.trim();const Le=O[Re]||[];O[Re]=Le,Le.push($)}G(O,function(te){return te.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function af(M,O,$){return $&&$.internalChannelParams&&$.internalChannelParams[M]||O}function Mb(M){this.Aa=0,this.i=[],this.j=new _e,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=af("failFast",!1,M),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=af("baseRetryDelayMs",5e3,M),this.cb=af("retryDelaySeedMs",1e4,M),this.Wa=af("forwardChannelMaxRetries",2,M),this.wa=af("forwardChannelRequestTimeoutMs",2e4,M),this.pa=M&&M.xmlHttpFactory||void 0,this.Xa=M&&M.Tb||void 0,this.Ca=M&&M.useFetchStreams||!1,this.L=void 0,this.J=M&&M.supportsCrossDomainXhr||!1,this.K="",this.h=new vt(M&&M.concurrentRequestLimit),this.Da=new IR,this.P=M&&M.fastHandshake||!1,this.O=M&&M.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=M&&M.Rb||!1,M&&M.xa&&this.j.xa(),M&&M.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&M&&M.detectBufferingProxy||!1,this.ja=void 0,M&&M.longPollingTimeout&&0<M.longPollingTimeout&&(this.ja=M.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Mb.prototype,t.la=8,t.G=1,t.connect=function(M,O,$,te){dt(0),this.W=M,this.H=O||{},$&&te!==void 0&&(this.H.OSID=$,this.H.OAID=te),this.F=this.X,this.I=Pb(this,null,this.W),Jc(this)};function cv(M){if(Eb(M),M.G==3){var O=M.U++,$=hs(M.I);if(or($,"SID",M.K),or($,"RID",O),or($,"TYPE","terminate"),lf(M,$),O=new Ze(M,M.j,O),O.L=2,O.v=Wc(hs($)),$=!1,c.navigator&&c.navigator.sendBeacon)try{$=c.navigator.sendBeacon(O.v.toString(),"")}catch{}!$&&c.Image&&(new Image().src=O.v,$=!0),$||(O.g=Nb(O.j,null),O.g.ea(O.v)),O.F=Date.now(),xt(O)}Cb(M)}function Yc(M){M.g&&(pv(M),M.g.cancel(),M.g=null)}function Eb(M){Yc(M),M.u&&(c.clearTimeout(M.u),M.u=null),Xc(M),M.h.cancel(),M.s&&(typeof M.s=="number"&&c.clearTimeout(M.s),M.s=null)}function Jc(M){if(!Nt(M.h)&&!M.s){M.s=!0;var O=M.Ga;y||a(),_||(y(),_=!0),d.add(O,M),M.B=0}}function CR(M,O){return Ft(M.h)>=M.h.j-(M.s?1:0)?!1:M.s?(M.i=O.D.concat(M.i),!0):M.G==1||M.G==2||M.B>=(M.Va?0:M.Wa)?!1:(M.s=re(E(M.Ga,M,O),kb(M,M.B)),M.B++,!0)}t.Ga=function(M){if(this.s)if(this.s=null,this.G==1){if(!M){this.U=Math.floor(1e5*Math.random()),M=this.U++;const Re=new Ze(this,this.j,M);let Le=this.o;if(this.S&&(Le?(Le=q(Le),Q(Le,this.S)):Le=this.S),this.m!==null||this.O||(Re.H=Le,Le=null),this.P)e:{for(var O=0,$=0;$<this.i.length;$++){t:{var te=this.i[$];if("__data__"in te.map&&(te=te.map.__data__,typeof te=="string")){te=te.length;break t}te=void 0}if(te===void 0)break;if(O+=te,4096<O){O=$;break e}if(O===4096||$===this.i.length-1){O=$+1;break e}}O=1e3}else O=1e3;O=Ib(this,Re,O),$=hs(this.I),or($,"RID",M),or($,"CVER",22),this.D&&or($,"X-HTTP-Session-Id",this.D),lf(this,$),Le&&(this.O?O="headers="+encodeURIComponent(String(gb(Le)))+"&"+O:this.m&&hv($,this.m,Le)),xn(this.h,Re),this.Ua&&or($,"TYPE","init"),this.P?(or($,"$req",O),or($,"SID","null"),Re.T=!0,pt(Re,$,null)):pt(Re,$,O),this.G=2}}else this.G==3&&(M?Sb(this,M):this.i.length==0||Nt(this.h)||Sb(this))};function Sb(M,O){var $;O?$=O.l:$=M.U++;const te=hs(M.I);or(te,"SID",M.K),or(te,"RID",$),or(te,"AID",M.T),lf(M,te),M.m&&M.o&&hv(te,M.m,M.o),$=new Ze(M,M.j,$,M.B+1),M.m===null&&($.H=M.o),O&&(M.i=O.D.concat(M.i)),O=Ib(M,$,1e3),$.I=Math.round(.5*M.wa)+Math.round(.5*M.wa*Math.random()),xn(M.h,$),pt($,te,O)}function lf(M,O){M.H&&ue(M.H,function($,te){or(O,te,$)}),M.l&&ub({},function($,te){or(O,te,$)})}function Ib(M,O,$){$=Math.min(M.i.length,$);var te=M.l?E(M.l.Na,M.l,M):null;e:{var Re=M.i;let Le=-1;for(;;){const Je=["count="+$];Le==-1?0<$?(Le=Re[0].g,Je.push("ofs="+Le)):Le=0:Je.push("ofs="+Le);let rr=!0;for(let Hr=0;Hr<$;Hr++){let Kt=Re[Hr].g;const Jr=Re[Hr].map;if(Kt-=Le,0>Kt)Le=Math.max(0,Re[Hr].g-100),rr=!1;else try{AR(Jr,Je,"req"+Kt+"_")}catch{te&&te(Jr)}}if(rr){te=Je.join("&");break e}}}return M=M.i.splice(0,$),O.D=M,te}function Ab(M){if(!M.g&&!M.u){M.Y=1;var O=M.Fa;y||a(),_||(y(),_=!0),d.add(O,M),M.v=0}}function dv(M){return M.g||M.u||3<=M.v?!1:(M.Y++,M.u=re(E(M.Fa,M),kb(M,M.v)),M.v++,!0)}t.Fa=function(){if(this.u=null,Tb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var M=2*this.R;this.j.info("BP detection timer enabled: "+M),this.A=re(E(this.ab,this),M)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Yc(this),Tb(this))};function pv(M){M.A!=null&&(c.clearTimeout(M.A),M.A=null)}function Tb(M){M.g=new Ze(M,M.j,"rpc",M.Y),M.m===null&&(M.g.H=M.o),M.g.O=0;var O=hs(M.qa);or(O,"RID","rpc"),or(O,"SID",M.K),or(O,"AID",M.T),or(O,"CI",M.F?"0":"1"),!M.F&&M.ja&&or(O,"TO",M.ja),or(O,"TYPE","xmlhttp"),lf(M,O),M.m&&M.o&&hv(O,M.m,M.o),M.L&&(M.g.I=M.L);var $=M.g;M=M.ia,$.L=1,$.v=Wc(hs(O)),$.m=null,$.P=!0,Ct($,M)}t.Za=function(){this.C!=null&&(this.C=null,Yc(this),dv(this),dt(19))};function Xc(M){M.C!=null&&(c.clearTimeout(M.C),M.C=null)}function Rb(M,O){var $=null;if(M.g==O){Xc(M),pv(M),M.g=null;var te=2}else if(er(M.h,O))$=O.D,ef(M.h,O),te=1;else return;if(M.G!=0){if(O.o)if(te==1){$=O.m?O.m.length:0,O=Date.now()-O.F;var Re=M.B;te=Oe(),V(te,new J(te,$)),Jc(M)}else Ab(M);else if(Re=O.s,Re==3||Re==0&&0<O.X||!(te==1&&CR(M,O)||te==2&&dv(M)))switch($&&0<$.length&&(O=M.h,O.i=O.i.concat($)),Re){case 1:Zo(M,5);break;case 4:Zo(M,10);break;case 3:Zo(M,6);break;default:Zo(M,2)}}}function kb(M,O){let $=M.Ta+Math.floor(Math.random()*M.cb);return M.isActive()||($*=2),$*O}function Zo(M,O){if(M.j.info("Error code "+O),O==2){var $=E(M.fb,M),te=M.Xa;const Re=!te;te=new Go(te||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Hc(te,"https"),Wc(te),Re?ER(te.toString(),$):SR(te.toString(),$)}else dt(2);M.G=0,M.l&&M.l.sa(O),Cb(M),Eb(M)}t.fb=function(M){M?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Cb(M){if(M.G=0,M.ka=[],M.l){const O=qc(M.h);(O.length!=0||M.i.length!=0)&&(W(M.ka,O),W(M.ka,M.i),M.h.i.length=0,D(M.i),M.i.length=0),M.l.ra()}}function Pb(M,O,$){var te=$ instanceof Go?hs($):new Go($);if(te.g!="")O&&(te.g=O+"."+te.g),Kc(te,te.s);else{var Re=c.location;te=Re.protocol,O=O?O+"."+Re.hostname:Re.hostname,Re=+Re.port;var Le=new Go(null);te&&Hc(Le,te),O&&(Le.g=O),Re&&Kc(Le,Re),$&&(Le.l=$),te=Le}return $=M.D,O=M.ya,$&&O&&or(te,$,O),or(te,"VER",M.la),lf(M,te),te}function Nb(M,O,$){if(O&&!M.J)throw Error("Can't create secondary domain capable XhrIo object.");return O=M.Ca&&!M.pa?new yr(new Gc({eb:$})):new yr(M.pa),O.Ha(M.J),O}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bb(){}t=Bb.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ed(){}ed.prototype.g=function(M,O){return new On(M,O)};function On(M,O){rt.call(this),this.g=new Mb(O),this.l=M,this.h=O&&O.messageUrlParams||null,M=O&&O.messageHeaders||null,O&&O.clientProtocolHeaderRequired&&(M?M["X-Client-Protocol"]="webchannel":M={"X-Client-Protocol":"webchannel"}),this.g.o=M,M=O&&O.initMessageHeaders||null,O&&O.messageContentType&&(M?M["X-WebChannel-Content-Type"]=O.messageContentType:M={"X-WebChannel-Content-Type":O.messageContentType}),O&&O.va&&(M?M["X-WebChannel-Client-Profile"]=O.va:M={"X-WebChannel-Client-Profile":O.va}),this.g.S=M,(M=O&&O.Sb)&&!C(M)&&(this.g.m=M),this.v=O&&O.supportsCrossDomainXhr||!1,this.u=O&&O.sendRawJson||!1,(O=O&&O.httpSessionIdParam)&&!C(O)&&(this.g.D=O,M=this.h,M!==null&&O in M&&(M=this.h,O in M&&delete M[O])),this.j=new nl(this)}N(On,rt),On.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},On.prototype.close=function(){cv(this.g)},On.prototype.o=function(M){var O=this.g;if(typeof M=="string"){var $={};$.__data__=M,M=$}else this.u&&($={},$.__data__=pe(M),M=$);O.i.push(new ut(O.Ya++,M)),O.G==3&&Jc(O)},On.prototype.N=function(){this.g.l=null,delete this.j,cv(this.g),delete this.g,On.aa.N.call(this)};function Db(M){Ne.call(this),M.__headers__&&(this.headers=M.__headers__,this.statusCode=M.__status__,delete M.__headers__,delete M.__status__);var O=M.__sm__;if(O){e:{for(const $ in O){M=$;break e}M=void 0}(this.i=M)&&(M=this.i,O=O!==null&&M in O?O[M]:void 0),this.data=O}else this.data=M}N(Db,Ne);function Ob(){Fe.call(this),this.status=1}N(Ob,Fe);function nl(M){this.g=M}N(nl,Bb),nl.prototype.ua=function(){V(this.g,"a")},nl.prototype.ta=function(M){V(this.g,new Db(M))},nl.prototype.sa=function(M){V(this.g,new Ob)},nl.prototype.ra=function(){V(this.g,"b")},ed.prototype.createWebChannel=ed.prototype.g,On.prototype.send=On.prototype.o,On.prototype.open=On.prototype.m,On.prototype.close=On.prototype.close,N9=function(){return new ed},P9=function(){return Oe()},C9=gt,By={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ze.NO_ERROR=0,ze.TIMEOUT=8,ze.HTTP_ERROR=6,s0=ze,ce.COMPLETE="complete",k9=ce,Ce.EventType=et,et.OPEN="a",et.CLOSE="b",et.ERROR="c",et.MESSAGE="d",rt.prototype.listen=rt.prototype.K,qf=Ce,yr.prototype.listenOnce=yr.prototype.L,yr.prototype.getLastError=yr.prototype.Ka,yr.prototype.getLastErrorCode=yr.prototype.Ba,yr.prototype.getStatus=yr.prototype.Z,yr.prototype.getResponseJson=yr.prototype.Oa,yr.prototype.getResponseText=yr.prototype.oa,yr.prototype.send=yr.prototype.ea,yr.prototype.setWithCredentials=yr.prototype.Ha,R9=yr}).apply(typeof Id<"u"?Id:typeof self<"u"?self:typeof window<"u"?window:{});const t6="@firebase/firestore",r6="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wr.UNAUTHENTICATED=new Wr(null),Wr.GOOGLE_CREDENTIALS=new Wr("google-credentials-uid"),Wr.FIRST_PARTY=new Wr("first-party-uid"),Wr.MOCK_USER=new Wr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uu="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=new _9("@firebase/firestore");function bl(){return Da.logLevel}function He(t,...e){if(Da.logLevel<=qt.DEBUG){const r=e.map(Nw);Da.debug(`Firestore (${Uu}): ${t}`,...r)}}function gn(t,...e){if(Da.logLevel<=qt.ERROR){const r=e.map(Nw);Da.error(`Firestore (${Uu}): ${t}`,...r)}}function Oa(t,...e){if(Da.logLevel<=qt.WARN){const r=e.map(Nw);Da.warn(`Firestore (${Uu}): ${t}`,...r)}}function Nw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t="Unexpected state"){const e=`FIRESTORE (${Uu}) INTERNAL ASSERTION FAILED: `+t;throw gn(e),new Error(e)}function ht(t,e){t||lt()}function bt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Xe extends Vu{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Wr.UNAUTHENTICATED))}shutdown(){}}class QF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class YF{constructor(e){this.t=e,this.currentUser=Wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){ht(this.o===void 0);let n=this.i;const s=v=>this.i!==n?(n=this.i,r(v)):Promise.resolve();let i=new Yi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Yi,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const v=i;e.enqueueRetryable(async()=>{await v.promise,await s(this.currentUser)})},c=v=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(v=>c(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?c(v):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Yi)}},0),u()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(ht(typeof n.accessToken=="string"),new B9(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string"),new Wr(e)}}class JF{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=Wr.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class XF{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new JF(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Wr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class n6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eV{constructor(e,r){this.A=r,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,EF(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,r){ht(this.o===void 0);const n=i=>{i.error!=null&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const u=i.token!==this.R;return this.R=i.token,He("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?r(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>n(i))};const s=i=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new n6(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(ht(typeof r.token=="string"),this.R=r.token,new n6(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D9(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const s=tV(40);for(let i=0;i<s.length;++i)n.length<20&&s[i]<r&&(n+=e.charAt(s[i]%62))}return n}}function wt(t,e){return t<e?-1:t>e?1:0}function Dy(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=t.codePointAt(r),s=e.codePointAt(r);if(n!==s){if(n<128&&s<128)return wt(n,s);{const i=D9(),u=rV(i.encode(i6(t,r)),i.encode(i6(e,r)));return u!==0?u:wt(n,s)}}r+=n>65535?2:1}return wt(t.length,e.length)}function i6(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function rV(t,e){for(let r=0;r<t.length&&r<e.length;++r)if(t[r]!==e[r])return wt(t[r],e[r]);return wt(t.length,e.length)}function uu(t,e,r){return t.length===e.length&&t.every((n,s)=>r(n,e[s]))}function L9(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=-62135596800,o6=1e6;class ir{static now(){return ir.fromMillis(Date.now())}static fromDate(e){return ir.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*o6);return new ir(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new Xe(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Xe(Ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<s6)throw new Xe(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Xe(Ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/o6}_compareTo(e){return this.seconds===e.seconds?wt(this.nanoseconds,e.nanoseconds):wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-s6;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{static fromTimestamp(e){return new mt(e)}static min(){return new mt(new ir(0,0))}static max(){return new mt(new ir(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6="__name__";class Vi{constructor(e,r,n){r===void 0?r=0:r>e.length&&lt(),n===void 0?n=e.length-r:n>e.length-r&&lt(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Vi.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let s=0;s<n;s++){const i=Vi.compareSegments(e.get(s),r.get(s));if(i!==0)return i}return wt(e.length,r.length)}static compareSegments(e,r){const n=Vi.isNumericId(e),s=Vi.isNumericId(r);return n&&!s?-1:!n&&s?1:n&&s?Vi.extractNumericId(e).compare(Vi.extractNumericId(r)):Dy(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Io.fromString(e.substring(4,e.length-2))}}class Gt extends Vi{construct(e,r,n){return new Gt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new Xe(Ue.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(s=>s.length>0))}return new Gt(r)}static emptyPath(){return new Gt([])}}const nV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mr extends Vi{construct(e,r,n){return new mr(e,r,n)}static isValidIdentifier(e){return nV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===a6}static keyField(){return new mr([a6])}static fromServerFormat(e){const r=[];let n="",s=0;const i=()=>{if(n.length===0)throw new Xe(Ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let u=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new Xe(Ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[s+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new Xe(Ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=v,s+=2}else c==="`"?(u=!u,s++):c!=="."||u?(n+=c,s++):(i(),s++)}if(i(),u)throw new Xe(Ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mr(r)}static emptyPath(){return new mr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.path=e}static fromPath(e){return new nt(Gt.fromString(e))}static fromName(e){return new nt(Gt.fromString(e).popFirst(5))}static empty(){return new nt(Gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Gt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new nt(new Gt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=-1;class ip{constructor(e,r,n,s){this.indexId=e,this.collectionGroup=r,this.fields=n,this.indexState=s}}function Oy(t){return t.fields.find(e=>e.kind===2)}function sa(t){return t.fields.filter(e=>e.kind!==2)}ip.UNKNOWN_ID=-1;class o0{constructor(e,r){this.fieldPath=e,this.kind=r}}class Hh{constructor(e,r){this.sequenceNumber=e,this.offset=r}static empty(){return new Hh(0,qn.min())}}function iV(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,s=mt.fromTimestamp(n===1e9?new ir(r+1,0):new ir(r,n));return new qn(s,nt.empty(),e)}function F9(t){return new qn(t.readTime,t.key,qh)}class qn{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new qn(mt.min(),nt.empty(),qh)}static max(){return new qn(mt.max(),nt.empty(),qh)}}function Bw(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=nt.comparator(t.documentKey,e.documentKey),r!==0?r:wt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class U9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qa(t){if(t.code!==Ue.FAILED_PRECONDITION||t.message!==V9)throw t;He("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Ae((n,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(n,s)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,s)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Ae?r:Ae.resolve(r)}catch(r){return Ae.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Ae.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Ae.reject(r)}static resolve(e){return new Ae((r,n)=>{r(e)})}static reject(e){return new Ae((r,n)=>{n(e)})}static waitFor(e){return new Ae((r,n)=>{let s=0,i=0,u=!1;e.forEach(c=>{++s,c.next(()=>{++i,u&&i===s&&r()},v=>n(v))}),u=!0,i===s&&r()})}static or(e){let r=Ae.resolve(!1);for(const n of e)r=r.next(s=>s?Ae.resolve(s):n());return r}static forEach(e,r){const n=[];return e.forEach((s,i)=>{n.push(r.call(this,s,i))}),this.waitFor(n)}static mapArray(e,r){return new Ae((n,s)=>{const i=e.length,u=new Array(i);let c=0;for(let v=0;v<i;v++){const b=v;r(e[b]).next(w=>{u[b]=w,++c,c===i&&n(u)},w=>s(w))}})}static doWhile(e,r){return new Ae((n,s)=>{const i=()=>{e()===!0?r().next(()=>{i()},s):n()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn="SimpleDb";class lm{static open(e,r,n,s){try{return new lm(r,e.transaction(s,n))}catch(i){throw new hh(r,i)}}constructor(e,r){this.action=e,this.transaction=r,this.aborted=!1,this.m=new Yi,this.transaction.oncomplete=()=>{this.m.resolve()},this.transaction.onabort=()=>{r.error?this.m.reject(new hh(e,r.error)):this.m.resolve()},this.transaction.onerror=n=>{const s=Dw(n.target.error);this.m.reject(new hh(e,s))}}get p(){return this.m.promise}abort(e){e&&this.m.reject(e),this.aborted||(He(Vn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}S(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const r=this.transaction.objectStore(e);return new oV(r)}}class Ao{static delete(e){return He(Vn,"Removing database:",e),ua(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!y9())return!1;if(Ao.v())return!0;const e=ep(),r=Ao.C(e),n=0<r&&r<10,s=j9(e),i=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static v(){var e;return typeof pr<"u"&&((e=pr.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,r){return e.store(r)}static C(e){const r=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=r?r[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,r,n){this.name=e,this.version=r,this.O=n,Ao.C(ep())===12.2&&gn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async N(e){return this.db||(He(Vn,"Opening database:",this.name),this.db=await new Promise((r,n)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=i=>{const u=i.target.result;r(u)},s.onblocked=()=>{n(new hh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=i=>{const u=i.target.error;u.name==="VersionError"?n(new Xe(Ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?n(new Xe(Ue.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):n(new hh(e,u))},s.onupgradeneeded=i=>{He(Vn,'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const u=i.target.result;this.O.B(u,s.transaction,i.oldVersion,this.version).next(()=>{He(Vn,"Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=r=>this.L(r)),this.db}k(e){this.L=e,this.db&&(this.db.onversionchange=r=>e(r))}async runTransaction(e,r,n,s){const i=r==="readonly";let u=0;for(;;){++u;try{this.db=await this.N(e);const c=lm.open(this.db,e,i?"readonly":"readwrite",n),v=s(c).next(b=>(c.S(),b)).catch(b=>(c.abort(b),Ae.reject(b))).toPromise();return v.catch(()=>{}),await c.p,v}catch(c){const v=c,b=v.name!=="FirebaseError"&&u<3;if(He(Vn,"Transaction failed with error:",v.message,"Retrying:",b),this.close(),!b)return Promise.reject(v)}}}close(){this.db&&this.db.close(),this.db=void 0}}function j9(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}class sV{constructor(e){this.q=e,this.$=!1,this.U=null}get isDone(){return this.$}get K(){return this.U}set cursor(e){this.q=e}done(){this.$=!0}W(e){this.U=e}delete(){return ua(this.q.delete())}}class hh extends Xe{constructor(e,r){super(Ue.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${r}`),this.name="IndexedDbTransactionError"}}function zo(t){return t.name==="IndexedDbTransactionError"}class oV{constructor(e){this.store=e}put(e,r){let n;return r!==void 0?(He(Vn,"PUT",this.store.name,e,r),n=this.store.put(r,e)):(He(Vn,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ua(n)}add(e){return He(Vn,"ADD",this.store.name,e,e),ua(this.store.add(e))}get(e){return ua(this.store.get(e)).next(r=>(r===void 0&&(r=null),He(Vn,"GET",this.store.name,e,r),r))}delete(e){return He(Vn,"DELETE",this.store.name,e),ua(this.store.delete(e))}count(){return He(Vn,"COUNT",this.store.name),ua(this.store.count())}G(e,r){const n=this.options(e,r),s=n.index?this.store.index(n.index):this.store;if(typeof s.getAll=="function"){const i=s.getAll(n.range);return new Ae((u,c)=>{i.onerror=v=>{c(v.target.error)},i.onsuccess=v=>{u(v.target.result)}})}{const i=this.cursor(n),u=[];return this.j(i,(c,v)=>{u.push(v)}).next(()=>u)}}H(e,r){const n=this.store.getAll(e,r===null?void 0:r);return new Ae((s,i)=>{n.onerror=u=>{i(u.target.error)},n.onsuccess=u=>{s(u.target.result)}})}J(e,r){He(Vn,"DELETE ALL",this.store.name);const n=this.options(e,r);n.Y=!1;const s=this.cursor(n);return this.j(s,(i,u,c)=>c.delete())}Z(e,r){let n;r?n=e:(n={},r=e);const s=this.cursor(n);return this.j(s,r)}X(e){const r=this.cursor({});return new Ae((n,s)=>{r.onerror=i=>{const u=Dw(i.target.error);s(u)},r.onsuccess=i=>{const u=i.target.result;u?e(u.primaryKey,u.value).next(c=>{c?u.continue():n()}):n()}})}j(e,r){const n=[];return new Ae((s,i)=>{e.onerror=u=>{i(u.target.error)},e.onsuccess=u=>{const c=u.target.result;if(!c)return void s();const v=new sV(c),b=r(c.primaryKey,c.value,v);if(b instanceof Ae){const w=b.catch(x=>(v.done(),Ae.reject(x)));n.push(w)}v.isDone?s():v.K===null?c.continue():c.continue(v.K)}}).next(()=>Ae.waitFor(n))}options(e,r){let n;return e!==void 0&&(typeof e=="string"?n=e:r=e),{index:n,range:r}}cursor(e){let r="next";if(e.reverse&&(r="prev"),e.index){const n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,r):n.openCursor(e.range,r)}return this.store.openCursor(e.range,r)}}function ua(t){return new Ae((e,r)=>{t.onsuccess=n=>{const s=n.target.result;e(s)},t.onerror=n=>{const s=Dw(n.target.error);r(s)}})}let l6=!1;function Dw(t){const e=Ao.C(ep());if(e>=12.2&&e<13){const r="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(r)>=0){const n=new Xe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${r}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return l6||(l6=!0,setTimeout(()=>{throw n},0)),n}}return t}const ch="IndexBackfiller";class aV{constructor(e,r){this.asyncQueue=e,this.ee=r,this.task=null}start(){this.te(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}te(e){He(ch,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const r=await this.ee.ne();He(ch,`Documents written: ${r}`)}catch(r){zo(r)?He(ch,"Ignoring IndexedDB error during index backfill: ",r):await Qa(r)}await this.te(6e4)})}}class lV{constructor(e,r){this.localStore=e,this.persistence=r}async ne(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>this.re(r,e))}re(e,r){const n=new Set;let s=r,i=!0;return Ae.doWhile(()=>i===!0&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(u!==null&&!n.has(u))return He(ch,`Processing collection: ${u}`),this.ie(e,u,s).next(c=>{s-=c,n.add(u)});i=!1})).next(()=>r-s)}ie(e,r,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,r).next(s=>this.localStore.localDocuments.getNextDocuments(e,r,s,n).next(i=>{const u=i.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.se(s,i)).next(c=>(He(ch,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,r,c))).next(()=>u.size)}))}se(e,r){let n=e;return r.changes.forEach((s,i)=>{const u=F9(i);Bw(u,n)>0&&(n=u)}),new qn(n.readTime,n.documentKey,Math.max(r.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.oe(n),this._e=n=>r.writeSequenceNumber(n))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ri.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=-1;function um(t){return t==null}function Kh(t){return t===0&&1/t==-1/0}function uV(t){return typeof t=="number"&&Number.isInteger(t)&&!Kh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="";function hn(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=u6(e)),e=fV(t.get(r),e);return u6(e)}function fV(t,e){let r=e;const n=t.length;for(let s=0;s<n;s++){const i=t.charAt(s);switch(i){case"\0":r+="";break;case sp:r+="";break;default:r+=i}}return r}function u6(t){return t+sp+""}function Ki(t){const e=t.length;if(ht(e>=2),e===2)return ht(t.charAt(0)===sp&&t.charAt(1)===""),Gt.emptyPath();const r=e-2,n=[];let s="";for(let i=0;i<e;){const u=t.indexOf(sp,i);switch((u<0||u>r)&&lt(),t.charAt(u+1)){case"":const c=t.substring(i,u);let v;s.length===0?v=c:(s+=c,v=s,s=""),n.push(v);break;case"":s+=t.substring(i,u),s+="\0";break;case"":s+=t.substring(i,u+1);break;default:lt()}i=u+2}return new Gt(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="remoteDocuments",yc="owner",ul="owner",Wh="mutationQueues",hV="userId",bi="mutations",f6="batchId",_a="userMutationsIndex",h6=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(t,e){return[t,hn(e)]}function z9(t,e,r){return[t,hn(e),r]}const cV={},fu="documentMutations",op="remoteDocumentsV14",dV=["prefixPath","collectionGroup","readTime","documentId"],l0="documentKeyIndex",pV=["prefixPath","collectionGroup","documentId"],$9="collectionGroupIndex",mV=["collectionGroup","readTime","prefixPath","documentId"],Gh="remoteDocumentGlobal",Ly="remoteDocumentGlobalKey",hu="targets",q9="queryTargetsIndex",vV=["canonicalId","targetId"],cu="targetDocuments",gV=["targetId","path"],Ow="documentTargetsIndex",yV=["path","targetId"],ap="targetGlobalKey",Ia="targetGlobal",Zh="collectionParents",wV=["collectionId","parent"],du="clientMetadata",_V="clientId",fm="bundles",bV="bundleId",hm="namedQueries",xV="name",Lw="indexConfiguration",MV="indexId",Fy="collectionGroupIndex",EV="collectionGroup",lp="indexState",SV=["indexId","uid"],H9="sequenceNumberIndex",IV=["uid","sequenceNumber"],up="indexEntries",AV=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],K9="documentKeyIndex",TV=["indexId","uid","orderedDocumentKey"],cm="documentOverlays",RV=["userId","collectionPath","documentId"],Vy="collectionPathOverlayIndex",kV=["userId","collectionPath","largestBatchId"],W9="collectionGroupOverlayIndex",CV=["userId","collectionGroup","largestBatchId"],Fw="globals",PV="name",G9=[Wh,bi,fu,oa,hu,yc,Ia,cu,du,Gh,Zh,fm,hm],NV=[...G9,cm],Z9=[Wh,bi,fu,op,hu,yc,Ia,cu,du,Gh,Zh,fm,hm,cm],Q9=Z9,Vw=[...Q9,Lw,lp,up],BV=Vw,DV=[...Vw,Fw];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy extends U9{constructor(e,r){super(),this.ue=e,this.currentSequenceNumber=r}}function Dr(t,e){const r=bt(t);return Ao.M(r.ue,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c6(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function $o(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function Y9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,r){this.comparator=e,this.root=r||Gr.EMPTY}insert(e,r){return new cr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Gr.BLACK,null,null))}remove(e){return new cr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return r+n.left.size;s<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ad(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ad(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ad(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ad(this.root,e,this.comparator,!0)}}class Ad{constructor(e,r,n,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=r?n(e.key,r):1,r&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gr{constructor(e,r,n,s,i){this.key=e,this.value=r,this.color=n??Gr.RED,this.left=s??Gr.EMPTY,this.right=i??Gr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,s,i){return new Gr(e??this.key,r??this.value,n??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let s=this;const i=n(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,r,n),null):i===0?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(e,r,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Gr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,s=this;if(r(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),r(e,s.key)===0){if(s.right.isEmpty())return Gr.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw lt();const e=this.left.check();if(e!==this.right.check())throw lt();return e+(this.isRed()?0:1)}}Gr.EMPTY=null,Gr.RED=!0,Gr.BLACK=!1;Gr.EMPTY=new class{constructor(){this.size=0}get key(){throw lt()}get value(){throw lt()}get color(){throw lt()}get left(){throw lt()}get right(){throw lt()}copy(e,r,n,s,i){return this}insert(e,r,n){return new Gr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.comparator=e,this.data=new cr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;r(s.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new d6(this.data.getIterator())}getIteratorFrom(e){return new d6(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const s=r.getNext().key,i=n.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Jt(this.comparator);return r.data=e,r}}class d6{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function fl(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(mr.comparator)}static empty(){return new Tn([])}unionWith(e){let r=new Jt(mr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Tn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return uu(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new J9("Invalid base64 string: "+i):i}}(e);return new Tr(r)}static fromUint8Array(e){const r=function(s){let i="";for(let u=0;u<s.length;++u)i+=String.fromCharCode(s[u]);return i}(e);return new Tr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tr.EMPTY_BYTE_STRING=new Tr("");const OV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(t){if(ht(!!t),typeof t=="string"){let e=0;const r=OV.exec(t);if(ht(!!r),r[1]){let s=r[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:fr(t.seconds),nanos:fr(t.nanos)}}function fr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ps(t){return typeof t=="string"?Tr.fromBase64String(t):Tr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9="server_timestamp",e7="__type__",t7="__previous_value__",r7="__local_write_time__";function Uw(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[e7])===null||r===void 0?void 0:r.stringValue)===X9}function dm(t){const e=t.mapValue.fields[t7];return Uw(e)?dm(e):e}function Qh(t){const e=Cs(t.mapValue.fields[r7].timestampValue);return new ir(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e,r,n,s,i,u,c,v,b){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=s,this.ssl=i,this.forceLongPolling=u,this.autoDetectLongPolling=c,this.longPollingOptions=v,this.useFetchStreams=b}}const fp="(default)";class La{constructor(e,r){this.projectId=e,this.database=r||fp}static empty(){return new La("","")}get isDefaultDatabase(){return this.database===fp}isEqual(e){return e instanceof La&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="__type__",n7="__max__",po={mapValue:{fields:{__type__:{stringValue:n7}}}},zw="__vector__",pu="value",u0={nullValue:"NULL_VALUE"};function Po(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Uw(t)?4:i7(t)?9007199254740991:pm(t)?10:11:lt()}function rs(t,e){if(t===e)return!0;const r=Po(t);if(r!==Po(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qh(t).isEqual(Qh(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const u=Cs(s.timestampValue),c=Cs(i.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ps(s.bytesValue).isEqual(Ps(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return fr(s.geoPointValue.latitude)===fr(i.geoPointValue.latitude)&&fr(s.geoPointValue.longitude)===fr(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return fr(s.integerValue)===fr(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const u=fr(s.doubleValue),c=fr(i.doubleValue);return u===c?Kh(u)===Kh(c):isNaN(u)&&isNaN(c)}return!1}(t,e);case 9:return uu(t.arrayValue.values||[],e.arrayValue.values||[],rs);case 10:case 11:return function(s,i){const u=s.mapValue.fields||{},c=i.mapValue.fields||{};if(c6(u)!==c6(c))return!1;for(const v in u)if(u.hasOwnProperty(v)&&(c[v]===void 0||!rs(u[v],c[v])))return!1;return!0}(t,e);default:return lt()}}function Yh(t,e){return(t.values||[]).find(r=>rs(r,e))!==void 0}function No(t,e){if(t===e)return 0;const r=Po(t),n=Po(e);if(r!==n)return wt(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return wt(t.booleanValue,e.booleanValue);case 2:return function(i,u){const c=fr(i.integerValue||i.doubleValue),v=fr(u.integerValue||u.doubleValue);return c<v?-1:c>v?1:c===v?0:isNaN(c)?isNaN(v)?0:-1:1}(t,e);case 3:return p6(t.timestampValue,e.timestampValue);case 4:return p6(Qh(t),Qh(e));case 5:return Dy(t.stringValue,e.stringValue);case 6:return function(i,u){const c=Ps(i),v=Ps(u);return c.compareTo(v)}(t.bytesValue,e.bytesValue);case 7:return function(i,u){const c=i.split("/"),v=u.split("/");for(let b=0;b<c.length&&b<v.length;b++){const w=wt(c[b],v[b]);if(w!==0)return w}return wt(c.length,v.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,u){const c=wt(fr(i.latitude),fr(u.latitude));return c!==0?c:wt(fr(i.longitude),fr(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return m6(t.arrayValue,e.arrayValue);case 10:return function(i,u){var c,v,b,w;const x=i.fields||{},E=u.fields||{},A=(c=x[pu])===null||c===void 0?void 0:c.arrayValue,N=(v=E[pu])===null||v===void 0?void 0:v.arrayValue,D=wt(((b=A==null?void 0:A.values)===null||b===void 0?void 0:b.length)||0,((w=N==null?void 0:N.values)===null||w===void 0?void 0:w.length)||0);return D!==0?D:m6(A,N)}(t.mapValue,e.mapValue);case 11:return function(i,u){if(i===po.mapValue&&u===po.mapValue)return 0;if(i===po.mapValue)return 1;if(u===po.mapValue)return-1;const c=i.fields||{},v=Object.keys(c),b=u.fields||{},w=Object.keys(b);v.sort(),w.sort();for(let x=0;x<v.length&&x<w.length;++x){const E=Dy(v[x],w[x]);if(E!==0)return E;const A=No(c[v[x]],b[w[x]]);if(A!==0)return A}return wt(v.length,w.length)}(t.mapValue,e.mapValue);default:throw lt()}}function p6(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return wt(t,e);const r=Cs(t),n=Cs(e),s=wt(r.seconds,n.seconds);return s!==0?s:wt(r.nanos,n.nanos)}function m6(t,e){const r=t.values||[],n=e.values||[];for(let s=0;s<r.length&&s<n.length;++s){const i=No(r[s],n[s]);if(i)return i}return wt(r.length,n.length)}function mu(t){return jy(t)}function jy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=Cs(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Ps(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return nt.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",s=!0;for(const i of r.values||[])s?s=!1:n+=",",n+=jy(i);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let s="{",i=!0;for(const u of n)i?i=!1:s+=",",s+=`${u}:${jy(r.fields[u])}`;return s+"}"}(t.mapValue):lt()}function f0(t){switch(Po(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dm(t);return e?16+f0(e):16;case 5:return 2*t.stringValue.length;case 6:return Ps(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((s,i)=>s+f0(i),0)}(t.arrayValue);case 10:case 11:return function(n){let s=0;return $o(n.fields,(i,u)=>{s+=i.length+f0(u)}),s}(t.mapValue);default:throw lt()}}function Jh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function zy(t){return!!t&&"integerValue"in t}function Xh(t){return!!t&&"arrayValue"in t}function v6(t){return!!t&&"nullValue"in t}function g6(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function h0(t){return!!t&&"mapValue"in t}function pm(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[jw])===null||r===void 0?void 0:r.stringValue)===zw}function dh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return $o(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=dh(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=dh(t.arrayValue.values[r]);return e}return Object.assign({},t)}function i7(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===n7}const s7={mapValue:{fields:{[jw]:{stringValue:zw},[pu]:{arrayValue:{}}}}};function FV(t){return"nullValue"in t?u0:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Jh(La.empty(),nt.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?pm(t)?s7:{mapValue:{}}:lt()}function VV(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Jh(La.empty(),nt.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?s7:"mapValue"in t?pm(t)?{mapValue:{}}:po:lt()}function y6(t,e){const r=No(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function w6(t,e){const r=No(t.value,e.value);return r!==0?r:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!h0(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=dh(r)}setAll(e){let r=mr.emptyPath(),n={},s=[];e.forEach((u,c)=>{if(!r.isImmediateParentOf(c)){const v=this.getFieldsMap(r);this.applyChanges(v,n,s),n={},s=[],r=c.popLast()}u?n[c.lastSegment()]=dh(u):s.push(c.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,s)}delete(e){const r=this.field(e.popLast());h0(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return rs(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=r.mapValue.fields[e.get(n)];h0(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=s),r=s}return r.mapValue.fields}applyChanges(e,r,n){$o(r,(s,i)=>e[s]=i);for(const s of n)delete e[s]}clone(){return new fn(dh(this.value))}}function o7(t){const e=[];return $o(t.fields,(r,n)=>{const s=new mr([r]);if(h0(n)){const i=o7(n.mapValue).fields;if(i.length===0)e.push(s);else for(const u of i)e.push(s.child(u))}else e.push(s)}),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,r,n,s,i,u,c){this.key=e,this.documentType=r,this.version=n,this.readTime=s,this.createTime=i,this.data=u,this.documentState=c}static newInvalidDocument(e){return new _r(e,0,mt.min(),mt.min(),mt.min(),fn.empty(),0)}static newFoundDocument(e,r,n,s){return new _r(e,1,r,mt.min(),n,s,0)}static newNoDocument(e,r){return new _r(e,2,r,mt.min(),mt.min(),fn.empty(),0)}static newUnknownDocument(e,r){return new _r(e,3,r,mt.min(),mt.min(),fn.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(mt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _r&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _r(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,r){this.position=e,this.inclusive=r}}function _6(t,e,r){let n=0;for(let s=0;s<t.position.length;s++){const i=e[s],u=t.position[s];if(i.field.isKeyField()?n=nt.comparator(nt.fromName(u.referenceValue),r.key):n=No(u,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function b6(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!rs(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,r="asc"){this.field=e,this.dir=r}}function UV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{}class Ut extends a7{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new jV(e,r,n):r==="array-contains"?new qV(e,n):r==="in"?new d7(e,n):r==="not-in"?new HV(e,n):r==="array-contains-any"?new KV(e,n):new Ut(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new zV(e,n):new $V(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(No(r,this.value)):r!==null&&Po(this.value)===Po(r)&&this.matchesComparison(No(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return lt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qt extends a7{constructor(e,r){super(),this.filters=e,this.op=r,this.ce=null}static create(e,r){return new Qt(e,r)}matches(e){return gu(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function gu(t){return t.op==="and"}function $y(t){return t.op==="or"}function $w(t){return l7(t)&&gu(t)}function l7(t){for(const e of t.filters)if(e instanceof Qt)return!1;return!0}function qy(t){if(t instanceof Ut)return t.field.canonicalString()+t.op.toString()+mu(t.value);if($w(t))return t.filters.map(e=>qy(e)).join(",");{const e=t.filters.map(r=>qy(r)).join(",");return`${t.op}(${e})`}}function u7(t,e){return t instanceof Ut?function(n,s){return s instanceof Ut&&n.op===s.op&&n.field.isEqual(s.field)&&rs(n.value,s.value)}(t,e):t instanceof Qt?function(n,s){return s instanceof Qt&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((i,u,c)=>i&&u7(u,s.filters[c]),!0):!1}(t,e):void lt()}function f7(t,e){const r=t.filters.concat(e);return Qt.create(r,t.op)}function h7(t){return t instanceof Ut?function(r){return`${r.field.canonicalString()} ${r.op} ${mu(r.value)}`}(t):t instanceof Qt?function(r){return r.op.toString()+" {"+r.getFilters().map(h7).join(" ,")+"}"}(t):"Filter"}class jV extends Ut{constructor(e,r,n){super(e,r,n),this.key=nt.fromName(n.referenceValue)}matches(e){const r=nt.comparator(e.key,this.key);return this.matchesComparison(r)}}class zV extends Ut{constructor(e,r){super(e,"in",r),this.keys=c7("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class $V extends Ut{constructor(e,r){super(e,"not-in",r),this.keys=c7("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function c7(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>nt.fromName(n.referenceValue))}class qV extends Ut{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Xh(r)&&Yh(r.arrayValue,this.value)}}class d7 extends Ut{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Yh(this.value.arrayValue,r)}}class HV extends Ut{constructor(e,r){super(e,"not-in",r)}matches(e){if(Yh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Yh(this.value.arrayValue,r)}}class KV extends Ut{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Xh(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Yh(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e,r=null,n=[],s=[],i=null,u=null,c=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=s,this.limit=i,this.startAt=u,this.endAt=c,this.le=null}}function Hy(t,e=null,r=[],n=[],s=null,i=null,u=null){return new WV(t,e,r,n,s,i,u)}function Fa(t){const e=bt(t);if(e.le===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>qy(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),um(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>mu(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>mu(n)).join(",")),e.le=r}return e.le}function wc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!UV(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!u7(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!b6(t.startAt,e.startAt)&&b6(t.endAt,e.endAt)}function hp(t){return nt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function cp(t,e){return t.filters.filter(r=>r instanceof Ut&&r.field.isEqual(e))}function x6(t,e,r){let n=u0,s=!0;for(const i of cp(t,e)){let u=u0,c=!0;switch(i.op){case"<":case"<=":u=FV(i.value);break;case"==":case"in":case">=":u=i.value;break;case">":u=i.value,c=!1;break;case"!=":case"not-in":u=u0}y6({value:n,inclusive:s},{value:u,inclusive:c})<0&&(n=u,s=c)}if(r!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const u=r.position[i];y6({value:n,inclusive:s},{value:u,inclusive:r.inclusive})<0&&(n=u,s=r.inclusive);break}}return{value:n,inclusive:s}}function M6(t,e,r){let n=po,s=!0;for(const i of cp(t,e)){let u=po,c=!0;switch(i.op){case">=":case">":u=VV(i.value),c=!1;break;case"==":case"in":case"<=":u=i.value;break;case"<":u=i.value,c=!1;break;case"!=":case"not-in":u=po}w6({value:n,inclusive:s},{value:u,inclusive:c})>0&&(n=u,s=c)}if(r!==null){for(let i=0;i<t.orderBy.length;++i)if(t.orderBy[i].field.isEqual(e)){const u=r.position[i];w6({value:n,inclusive:s},{value:u,inclusive:r.inclusive})>0&&(n=u,s=r.inclusive);break}}return{value:n,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,r=null,n=[],s=[],i=null,u="F",c=null,v=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=s,this.limit=i,this.limitType=u,this.startAt=c,this.endAt=v,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function GV(t,e,r,n,s,i,u,c){return new ju(t,e,r,n,s,i,u,c)}function mm(t){return new ju(t)}function E6(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function p7(t){return t.collectionGroup!==null}function ph(t){const e=bt(t);if(e.he===null){e.he=[];const r=new Set;for(const i of e.explicitOrderBy)e.he.push(i),r.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let c=new Jt(mr.comparator);return u.filters.forEach(v=>{v.getFlattenedFilters().forEach(b=>{b.isInequality()&&(c=c.add(b.field))})}),c})(e).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||e.he.push(new ec(i,n))}),r.has(mr.keyField().canonicalString())||e.he.push(new ec(mr.keyField(),n))}return e.he}function ii(t){const e=bt(t);return e.Pe||(e.Pe=ZV(e,ph(t))),e.Pe}function ZV(t,e){if(t.limitType==="F")return Hy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ec(s.field,i)});const r=t.endAt?new vu(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new vu(t.startAt.position,t.startAt.inclusive):null;return Hy(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function Ky(t,e){const r=t.filters.concat([e]);return new ju(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Wy(t,e,r){return new ju(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function vm(t,e){return wc(ii(t),ii(e))&&t.limitType===e.limitType}function m7(t){return`${Fa(ii(t))}|lt:${t.limitType}`}function xl(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(s=>h7(s)).join(", ")}]`),um(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(s=>mu(s)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(s=>mu(s)).join(",")),`Target(${n})`}(ii(t))}; limitType=${t.limitType})`}function _c(t,e){return e.isFoundDocument()&&function(n,s){const i=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):nt.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,s){for(const i of ph(n))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const i of n.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(u,c,v){const b=_6(u,c,v);return u.inclusive?b<=0:b<0}(n.startAt,ph(n),s)||n.endAt&&!function(u,c,v){const b=_6(u,c,v);return u.inclusive?b>=0:b>0}(n.endAt,ph(n),s))}(t,e)}function QV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function v7(t){return(e,r)=>{let n=!1;for(const s of ph(t)){const i=YV(s,e,r);if(i!==0)return i;n=n||s.field.isKeyField()}return 0}}function YV(t,e,r){const n=t.field.isKeyField()?nt.comparator(e.key,r.key):function(i,u,c){const v=u.data.field(i),b=c.data.field(i);return v!==null&&b!==null?No(v,b):lt()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return lt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[s,i]of n)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,r]);s.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[r]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){$o(this.inner,(r,n)=>{for(const[s,i]of n)e(s,i)})}isEmpty(){return Y9(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=new cr(nt.comparator);function jn(){return JV}const g7=new cr(nt.comparator);function Hf(...t){let e=g7;for(const r of t)e=e.insert(r.key,r);return e}function y7(t){let e=g7;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Wi(){return mh()}function w7(){return mh()}function mh(){return new Us(t=>t.toString(),(t,e)=>t.isEqual(e))}const XV=new cr(nt.comparator),eU=new Jt(nt.comparator);function Rt(...t){let e=eU;for(const r of t)e=e.add(r);return e}const tU=new Jt(wt);function rU(){return tU}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kh(e)?"-0":e}}function _7(t){return{integerValue:""+t}}function b7(t,e){return uV(e)?_7(e):qw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(){this._=void 0}}function nU(t,e,r){return t instanceof yu?function(s,i){const u={fields:{[e7]:{stringValue:X9},[r7]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Uw(i)&&(i=dm(i)),i&&(u.fields[t7]=i),{mapValue:u}}(r,e):t instanceof wu?M7(t,e):t instanceof _u?E7(t,e):function(s,i){const u=x7(s,i),c=S6(u)+S6(s.Ie);return zy(u)&&zy(s.Ie)?_7(c):qw(s.serializer,c)}(t,e)}function iU(t,e,r){return t instanceof wu?M7(t,e):t instanceof _u?E7(t,e):r}function x7(t,e){return t instanceof bu?function(n){return zy(n)||function(i){return!!i&&"doubleValue"in i}(n)}(e)?e:{integerValue:0}:null}class yu extends gm{}class wu extends gm{constructor(e){super(),this.elements=e}}function M7(t,e){const r=S7(e);for(const n of t.elements)r.some(s=>rs(s,n))||r.push(n);return{arrayValue:{values:r}}}class _u extends gm{constructor(e){super(),this.elements=e}}function E7(t,e){let r=S7(e);for(const n of t.elements)r=r.filter(s=>!rs(s,n));return{arrayValue:{values:r}}}class bu extends gm{constructor(e,r){super(),this.serializer=e,this.Ie=r}}function S6(t){return fr(t.integerValue||t.doubleValue)}function S7(t){return Xh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,r){this.field=e,this.transform=r}}function sU(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof wu&&s instanceof wu||n instanceof _u&&s instanceof _u?uu(n.elements,s.elements,rs):n instanceof bu&&s instanceof bu?rs(n.Ie,s.Ie):n instanceof yu&&s instanceof yu}(t.transform,e.transform)}class oU{constructor(e,r){this.version=e,this.transformResults=r}}class Ur{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Ur}static exists(e){return new Ur(void 0,e)}static updateTime(e){return new Ur(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function c0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ym{}function I7(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bc(t.key,Ur.none()):new zu(t.key,t.data,Ur.none());{const r=t.data,n=fn.empty();let s=new Jt(mr.comparator);for(let i of e.fields)if(!s.has(i)){let u=r.field(i);u===null&&i.length>1&&(i=i.popLast(),u=r.field(i)),u===null?n.delete(i):n.set(i,u),s=s.add(i)}return new js(t.key,n,new Tn(s.toArray()),Ur.none())}}function aU(t,e,r){t instanceof zu?function(s,i,u){const c=s.value.clone(),v=A6(s.fieldTransforms,i,u.transformResults);c.setAll(v),i.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(t,e,r):t instanceof js?function(s,i,u){if(!c0(s.precondition,i))return void i.convertToUnknownDocument(u.version);const c=A6(s.fieldTransforms,i,u.transformResults),v=i.data;v.setAll(A7(s)),v.setAll(c),i.convertToFoundDocument(u.version,v).setHasCommittedMutations()}(t,e,r):function(s,i,u){i.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,r)}function vh(t,e,r,n){return t instanceof zu?function(i,u,c,v){if(!c0(i.precondition,u))return c;const b=i.value.clone(),w=T6(i.fieldTransforms,v,u);return b.setAll(w),u.convertToFoundDocument(u.version,b).setHasLocalMutations(),null}(t,e,r,n):t instanceof js?function(i,u,c,v){if(!c0(i.precondition,u))return c;const b=T6(i.fieldTransforms,v,u),w=u.data;return w.setAll(A7(i)),w.setAll(b),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),c===null?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(x=>x.field))}(t,e,r,n):function(i,u,c){return c0(i.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c}(t,e,r)}function lU(t,e){let r=null;for(const n of t.fieldTransforms){const s=e.data.field(n.field),i=x7(n.transform,s||null);i!=null&&(r===null&&(r=fn.empty()),r.set(n.field,i))}return r||null}function I6(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&uu(n,s,(i,u)=>sU(i,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class zu extends ym{constructor(e,r,n,s=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class js extends ym{constructor(e,r,n,s,i=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function A7(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function A6(t,e,r){const n=new Map;ht(t.length===r.length);for(let s=0;s<r.length;s++){const i=t[s],u=i.transform,c=e.data.field(i.field);n.set(i.field,iU(u,c,r[s]))}return n}function T6(t,e,r){const n=new Map;for(const s of t){const i=s.transform,u=r.data.field(s.field);n.set(s.field,nU(i,u,e))}return n}class bc extends ym{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class T7 extends ym{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,r,n,s){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&aU(i,e,n[s])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=vh(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=vh(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=w7();return this.mutations.forEach(s=>{const i=e.get(s.key),u=i.overlayedDocument;let c=this.applyToLocalView(u,i.mutatedFields);c=r.has(s.key)?null:c;const v=I7(u,c);v!==null&&n.set(s.key,v),u.isValidDocument()||u.convertToNoDocument(mt.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Rt())}isEqual(e){return this.batchId===e.batchId&&uu(this.mutations,e.mutations,(r,n)=>I6(r,n))&&uu(this.baseMutations,e.baseMutations,(r,n)=>I6(r,n))}}class Ww{constructor(e,r,n,s){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=s}static from(e,r,n){ht(e.mutations.length===n.length);let s=function(){return XV}();const i=e.mutations;for(let u=0;u<i.length;u++)s=s.insert(i[u].key,n[u].version);return new Ww(e,r,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Er,$t;function fU(t){switch(t){case Ue.OK:return lt();case Ue.CANCELLED:case Ue.UNKNOWN:case Ue.DEADLINE_EXCEEDED:case Ue.RESOURCE_EXHAUSTED:case Ue.INTERNAL:case Ue.UNAVAILABLE:case Ue.UNAUTHENTICATED:return!1;case Ue.INVALID_ARGUMENT:case Ue.NOT_FOUND:case Ue.ALREADY_EXISTS:case Ue.PERMISSION_DENIED:case Ue.FAILED_PRECONDITION:case Ue.ABORTED:case Ue.OUT_OF_RANGE:case Ue.UNIMPLEMENTED:case Ue.DATA_LOSS:return!0;default:return lt()}}function R7(t){if(t===void 0)return gn("GRPC error has no .code"),Ue.UNKNOWN;switch(t){case Er.OK:return Ue.OK;case Er.CANCELLED:return Ue.CANCELLED;case Er.UNKNOWN:return Ue.UNKNOWN;case Er.DEADLINE_EXCEEDED:return Ue.DEADLINE_EXCEEDED;case Er.RESOURCE_EXHAUSTED:return Ue.RESOURCE_EXHAUSTED;case Er.INTERNAL:return Ue.INTERNAL;case Er.UNAVAILABLE:return Ue.UNAVAILABLE;case Er.UNAUTHENTICATED:return Ue.UNAUTHENTICATED;case Er.INVALID_ARGUMENT:return Ue.INVALID_ARGUMENT;case Er.NOT_FOUND:return Ue.NOT_FOUND;case Er.ALREADY_EXISTS:return Ue.ALREADY_EXISTS;case Er.PERMISSION_DENIED:return Ue.PERMISSION_DENIED;case Er.FAILED_PRECONDITION:return Ue.FAILED_PRECONDITION;case Er.ABORTED:return Ue.ABORTED;case Er.OUT_OF_RANGE:return Ue.OUT_OF_RANGE;case Er.UNIMPLEMENTED:return Ue.UNIMPLEMENTED;case Er.DATA_LOSS:return Ue.DATA_LOSS;default:return lt()}}($t=Er||(Er={}))[$t.OK=0]="OK",$t[$t.CANCELLED=1]="CANCELLED",$t[$t.UNKNOWN=2]="UNKNOWN",$t[$t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$t[$t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$t[$t.NOT_FOUND=5]="NOT_FOUND",$t[$t.ALREADY_EXISTS=6]="ALREADY_EXISTS",$t[$t.PERMISSION_DENIED=7]="PERMISSION_DENIED",$t[$t.UNAUTHENTICATED=16]="UNAUTHENTICATED",$t[$t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$t[$t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$t[$t.ABORTED=10]="ABORTED",$t[$t.OUT_OF_RANGE=11]="OUT_OF_RANGE",$t[$t.UNIMPLEMENTED=12]="UNIMPLEMENTED",$t[$t.INTERNAL=13]="INTERNAL",$t[$t.UNAVAILABLE=14]="UNAVAILABLE",$t[$t.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hU=new Io([4294967295,4294967295],0);function R6(t){const e=D9().encode(t),r=new T9;return r.update(e),new Uint8Array(r.digest())}function k6(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Io([r,n],0),new Io([s,i],0)]}class Zw{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Kf(`Invalid padding: ${r}`);if(n<0)throw new Kf(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Kf(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Kf(`Invalid padding when bitmap length is 0: ${r}`);this.Ee=8*e.length-r,this.de=Io.fromNumber(this.Ee)}Ae(e,r,n){let s=e.add(r.multiply(Io.fromNumber(n)));return s.compare(hU)===1&&(s=new Io([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const r=R6(e),[n,s]=k6(r);for(let i=0;i<this.hashCount;i++){const u=this.Ae(n,s,i);if(!this.Re(u))return!1}return!0}static create(e,r,n){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),u=new Zw(i,s,r);return n.forEach(c=>u.insert(c)),u}insert(e){if(this.Ee===0)return;const r=R6(e),[n,s]=k6(r);for(let i=0;i<this.hashCount;i++){const u=this.Ae(n,s,i);this.Ve(u)}}Ve(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Kf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,r,n,s,i){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const s=new Map;return s.set(e,xc.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new wm(mt.min(),s,new cr(wt),jn(),Rt())}}class xc{constructor(e,r,n,s,i){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new xc(n,r,Rt(),Rt(),Rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,r,n,s){this.me=e,this.removedTargetIds=r,this.key=n,this.fe=s}}class k7{constructor(e,r){this.targetId=e,this.ge=r}}class C7{constructor(e,r,n=Tr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=s}}class C6{constructor(){this.pe=0,this.ye=P6(),this.we=Tr.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Rt(),r=Rt(),n=Rt();return this.ye.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:r=r.add(s);break;case 1:n=n.add(s);break;default:lt()}}),new xc(this.we,this.Se,e,r,n)}Me(){this.be=!1,this.ye=P6()}xe(e,r){this.be=!0,this.ye=this.ye.insert(e,r)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,ht(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class cU{constructor(e){this.ke=e,this.qe=new Map,this.Qe=jn(),this.$e=Td(),this.Ue=Td(),this.Ke=new cr(wt)}We(e){for(const r of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(r,e.fe):this.ze(r,e.key,e.fe);for(const r of e.removedTargetIds)this.ze(r,e.key,e.fe)}je(e){this.forEachTarget(e,r=>{const n=this.He(r);switch(e.state){case 0:this.Je(r)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(r);break;case 3:this.Je(r)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(r)&&(this.Ye(r),n.Ce(e.resumeToken));break;default:lt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.qe.forEach((n,s)=>{this.Je(s)&&r(s)})}Ze(e){const r=e.targetId,n=e.ge.count,s=this.Xe(r);if(s){const i=s.target;if(hp(i))if(n===0){const u=new nt(i.path);this.ze(r,u,_r.newNoDocument(u,mt.min()))}else ht(n===1);else{const u=this.et(r);if(u!==n){const c=this.tt(e),v=c?this.nt(c,e,u):1;if(v!==0){this.Ye(r);const b=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(r,b)}}}}}tt(e){const r=e.ge.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:i=0}=r;let u,c;try{u=Ps(n).toUint8Array()}catch(v){if(v instanceof J9)return Oa("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{c=new Zw(u,s,i)}catch(v){return Oa(v instanceof Kf?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return c.Ee===0?null:c}nt(e,r,n){return r.ge.count===n-this.st(e,r.targetId)?0:2}st(e,r){const n=this.ke.getRemoteKeysForTarget(r);let s=0;return n.forEach(i=>{const u=this.ke.it(),c=`projects/${u.projectId}/databases/${u.database}/documents/${i.path.canonicalString()}`;e.mightContain(c)||(this.ze(r,i,null),s++)}),s}ot(e){const r=new Map;this.qe.forEach((i,u)=>{const c=this.Xe(u);if(c){if(i.current&&hp(c.target)){const v=new nt(c.target.path);this._t(v).has(u)||this.ut(u,v)||this.ze(u,v,_r.newNoDocument(v,e))}i.ve&&(r.set(u,i.Fe()),i.Me())}});let n=Rt();this.Ue.forEach((i,u)=>{let c=!0;u.forEachWhile(v=>{const b=this.Xe(v);return!b||b.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(i))}),this.Qe.forEach((i,u)=>u.setReadTime(e));const s=new wm(e,r,this.Ke,this.Qe,n);return this.Qe=jn(),this.$e=Td(),this.Ue=Td(),this.Ke=new cr(wt),s}Ge(e,r){if(!this.Je(e))return;const n=this.ut(e,r.key)?2:0;this.He(e).xe(r.key,n),this.Qe=this.Qe.insert(r.key,r),this.$e=this.$e.insert(r.key,this._t(r.key).add(e)),this.Ue=this.Ue.insert(r.key,this.ct(r.key).add(e))}ze(e,r,n){if(!this.Je(e))return;const s=this.He(e);this.ut(e,r)?s.xe(r,1):s.Oe(r),this.Ue=this.Ue.insert(r,this.ct(r).delete(e)),this.Ue=this.Ue.insert(r,this.ct(r).add(e)),n&&(this.Qe=this.Qe.insert(r,n))}removeTarget(e){this.qe.delete(e)}et(e){const r=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let r=this.qe.get(e);return r||(r=new C6,this.qe.set(e,r)),r}ct(e){let r=this.Ue.get(e);return r||(r=new Jt(wt),this.Ue=this.Ue.insert(e,r)),r}_t(e){let r=this.$e.get(e);return r||(r=new Jt(wt),this.$e=this.$e.insert(e,r)),r}Je(e){const r=this.Xe(e)!==null;return r||He("WatchChangeAggregator","Detected inactive target",e),r}Xe(e){const r=this.qe.get(e);return r&&r.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new C6),this.ke.getRemoteKeysForTarget(e).forEach(r=>{this.ze(e,r,null)})}ut(e,r){return this.ke.getRemoteKeysForTarget(e).has(r)}}function Td(){return new cr(nt.comparator)}function P6(){return new cr(nt.comparator)}const dU={asc:"ASCENDING",desc:"DESCENDING"},pU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mU={and:"AND",or:"OR"};class vU{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Gy(t,e){return t.useProto3Json||um(e)?e:{value:e}}function xu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function P7(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gU(t,e){return xu(t,e.toTimestamp())}function wn(t){return ht(!!t),mt.fromTimestamp(function(r){const n=Cs(r);return new ir(n.seconds,n.nanos)}(t))}function Qw(t,e){return Zy(t,e).canonicalString()}function Zy(t,e){const r=function(s){return new Gt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?r:r.child(e)}function N7(t){const e=Gt.fromString(t);return ht(z7(e)),e}function dp(t,e){return Qw(t.databaseId,e.path)}function Aa(t,e){const r=N7(e);if(r.get(1)!==t.databaseId.projectId)throw new Xe(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new Xe(Ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new nt(O7(r))}function B7(t,e){return Qw(t.databaseId,e)}function D7(t){const e=N7(t);return e.length===4?Gt.emptyPath():O7(e)}function Qy(t){return new Gt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function O7(t){return ht(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function N6(t,e,r){return{name:dp(t,e),fields:r.value.mapValue.fields}}function yU(t,e,r){const n=Aa(t,e.name),s=wn(e.updateTime),i=e.createTime?wn(e.createTime):mt.min(),u=new fn({mapValue:{fields:e.fields}}),c=_r.newFoundDocument(n,s,i,u);return r&&c.setHasCommittedMutations(),r?c.setHasCommittedMutations():c}function wU(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(b){return b==="NO_CHANGE"?0:b==="ADD"?1:b==="REMOVE"?2:b==="CURRENT"?3:b==="RESET"?4:lt()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(b,w){return b.useProto3Json?(ht(w===void 0||typeof w=="string"),Tr.fromBase64String(w||"")):(ht(w===void 0||w instanceof Wt||w instanceof Uint8Array),Tr.fromUint8Array(w||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,c=u&&function(b){const w=b.code===void 0?Ue.UNKNOWN:R7(b.code);return new Xe(w,b.message||"")}(u);r=new C7(n,s,i,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=Aa(t,n.document.name),i=wn(n.document.updateTime),u=n.document.createTime?wn(n.document.createTime):mt.min(),c=new fn({mapValue:{fields:n.document.fields}}),v=_r.newFoundDocument(s,i,u,c),b=n.targetIds||[],w=n.removedTargetIds||[];r=new d0(b,w,v.key,v)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=Aa(t,n.document),i=n.readTime?wn(n.readTime):mt.min(),u=_r.newNoDocument(s,i),c=n.removedTargetIds||[];r=new d0([],c,u.key,u)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=Aa(t,n.document),i=n.removedTargetIds||[];r=new d0([],i,s,null)}else{if(!("filter"in e))return lt();{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:i}=n,u=new uU(s,i),c=n.targetId;r=new k7(c,u)}}return r}function pp(t,e){let r;if(e instanceof zu)r={update:N6(t,e.key,e.value)};else if(e instanceof bc)r={delete:dp(t,e.key)};else if(e instanceof js)r={update:N6(t,e.key,e.data),updateMask:SU(e.fieldMask)};else{if(!(e instanceof T7))return lt();r={verify:dp(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(i,u){const c=u.transform;if(c instanceof yu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof wu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof _u)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof bu)return{fieldPath:u.field.canonicalString(),increment:c.Ie};throw lt()}(0,n))),e.precondition.isNone||(r.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:gU(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:lt()}(t,e.precondition)),r}function Yy(t,e){const r=e.currentDocument?function(i){return i.updateTime!==void 0?Ur.updateTime(wn(i.updateTime)):i.exists!==void 0?Ur.exists(i.exists):Ur.none()}(e.currentDocument):Ur.none(),n=e.updateTransforms?e.updateTransforms.map(s=>function(u,c){let v=null;if("setToServerValue"in c)ht(c.setToServerValue==="REQUEST_TIME"),v=new yu;else if("appendMissingElements"in c){const w=c.appendMissingElements.values||[];v=new wu(w)}else if("removeAllFromArray"in c){const w=c.removeAllFromArray.values||[];v=new _u(w)}else"increment"in c?v=new bu(u,c.increment):lt();const b=mr.fromServerFormat(c.fieldPath);return new Hw(b,v)}(t,s)):[];if(e.update){e.update.name;const s=Aa(t,e.update.name),i=new fn({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=function(v){const b=v.fieldPaths||[];return new Tn(b.map(w=>mr.fromServerFormat(w)))}(e.updateMask);return new js(s,i,u,r,n)}return new zu(s,i,r,n)}if(e.delete){const s=Aa(t,e.delete);return new bc(s,r)}if(e.verify){const s=Aa(t,e.verify);return new T7(s,r)}return lt()}function _U(t,e){return t&&t.length>0?(ht(e!==void 0),t.map(r=>function(s,i){let u=s.updateTime?wn(s.updateTime):wn(i);return u.isEqual(mt.min())&&(u=wn(i)),new oU(u,s.transformResults||[])}(r,e))):[]}function L7(t,e){return{documents:[B7(t,e.path)]}}function F7(t,e){const r={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=B7(t,s);const i=function(b){if(b.length!==0)return j7(Qt.create(b,"and"))}(e.filters);i&&(r.structuredQuery.where=i);const u=function(b){if(b.length!==0)return b.map(w=>function(E){return{field:Ml(E.field),direction:xU(E.dir)}}(w))}(e.orderBy);u&&(r.structuredQuery.orderBy=u);const c=Gy(t,e.limit);return c!==null&&(r.structuredQuery.limit=c),e.startAt&&(r.structuredQuery.startAt=function(b){return{before:b.inclusive,values:b.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(b){return{before:!b.inclusive,values:b.position}}(e.endAt)),{ht:r,parent:s}}function V7(t){let e=D7(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let s=null;if(n>0){ht(n===1);const w=r.from[0];w.allDescendants?s=w.collectionId:e=e.child(w.collectionId)}let i=[];r.where&&(i=function(x){const E=U7(x);return E instanceof Qt&&$w(E)?E.getFilters():[E]}(r.where));let u=[];r.orderBy&&(u=function(x){return x.map(E=>function(N){return new ec(El(N.field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(E))}(r.orderBy));let c=null;r.limit&&(c=function(x){let E;return E=typeof x=="object"?x.value:x,um(E)?null:E}(r.limit));let v=null;r.startAt&&(v=function(x){const E=!!x.before,A=x.values||[];return new vu(A,E)}(r.startAt));let b=null;return r.endAt&&(b=function(x){const E=!x.before,A=x.values||[];return new vu(A,E)}(r.endAt)),GV(e,s,u,i,c,"F",v,b)}function bU(t,e){const r=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return lt()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function U7(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=El(r.unaryFilter.field);return Ut.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=El(r.unaryFilter.field);return Ut.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=El(r.unaryFilter.field);return Ut.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=El(r.unaryFilter.field);return Ut.create(u,"!=",{nullValue:"NULL_VALUE"});default:return lt()}}(t):t.fieldFilter!==void 0?function(r){return Ut.create(El(r.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return lt()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Qt.create(r.compositeFilter.filters.map(n=>U7(n)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return lt()}}(r.compositeFilter.op))}(t):lt()}function xU(t){return dU[t]}function MU(t){return pU[t]}function EU(t){return mU[t]}function Ml(t){return{fieldPath:t.canonicalString()}}function El(t){return mr.fromServerFormat(t.fieldPath)}function j7(t){return t instanceof Ut?function(r){if(r.op==="=="){if(g6(r.value))return{unaryFilter:{field:Ml(r.field),op:"IS_NAN"}};if(v6(r.value))return{unaryFilter:{field:Ml(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(g6(r.value))return{unaryFilter:{field:Ml(r.field),op:"IS_NOT_NAN"}};if(v6(r.value))return{unaryFilter:{field:Ml(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ml(r.field),op:MU(r.op),value:r.value}}}(t):t instanceof Qt?function(r){const n=r.getFilters().map(s=>j7(s));return n.length===1?n[0]:{compositeFilter:{op:EU(r.op),filters:n}}}(t):lt()}function SU(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function z7(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,r,n,s,i=mt.min(),u=mt.min(),c=Tr.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=c,this.expectedCount=v}withSequenceNumber(e){return new _s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $7{constructor(e){this.Tt=e}}function IU(t,e){let r;if(e.document)r=yU(t.Tt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=nt.fromSegments(e.noDocument.path),s=Ua(e.noDocument.readTime);r=_r.newNoDocument(n,s),e.hasCommittedMutations&&r.setHasCommittedMutations()}else{if(!e.unknownDocument)return lt();{const n=nt.fromSegments(e.unknownDocument.path),s=Ua(e.unknownDocument.version);r=_r.newUnknownDocument(n,s)}}return e.readTime&&r.setReadTime(function(s){const i=new ir(s[0],s[1]);return mt.fromTimestamp(i)}(e.readTime)),r}function B6(t,e){const r=e.key,n={prefixPath:r.getCollectionPath().popLast().toArray(),collectionGroup:r.collectionGroup,documentId:r.path.lastSegment(),readTime:mp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=function(i,u){return{name:dp(i,u.key),fields:u.data.value.mapValue.fields,updateTime:xu(i,u.version.toTimestamp()),createTime:xu(i,u.createTime.toTimestamp())}}(t.Tt,e);else if(e.isNoDocument())n.noDocument={path:r.path.toArray(),readTime:Va(e.version)};else{if(!e.isUnknownDocument())return lt();n.unknownDocument={path:r.path.toArray(),version:Va(e.version)}}return n}function mp(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Va(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ua(t){const e=new ir(t.seconds,t.nanoseconds);return mt.fromTimestamp(e)}function fa(t,e){const r=(e.baseMutations||[]).map(i=>Yy(t.Tt,i));for(let i=0;i<e.mutations.length-1;++i){const u=e.mutations[i];if(i+1<e.mutations.length&&e.mutations[i+1].transform!==void 0){const c=e.mutations[i+1];u.updateTransforms=c.transform.fieldTransforms,e.mutations.splice(i+1,1),++i}}const n=e.mutations.map(i=>Yy(t.Tt,i)),s=ir.fromMillis(e.localWriteTimeMs);return new Kw(e.batchId,s,r,n)}function Wf(t){const e=Ua(t.readTime),r=t.lastLimboFreeSnapshotVersion!==void 0?Ua(t.lastLimboFreeSnapshotVersion):mt.min();let n;return n=function(i){return i.documents!==void 0}(t.query)?function(i){return ht(i.documents.length===1),ii(mm(D7(i.documents[0])))}(t.query):function(i){return ii(V7(i))}(t.query),new _s(n,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,r,Tr.fromBase64String(t.resumeToken))}function q7(t,e){const r=Va(e.snapshotVersion),n=Va(e.lastLimboFreeSnapshotVersion);let s;s=hp(e.target)?L7(t.Tt,e.target):F7(t.Tt,e.target).ht;const i=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Fa(e.target),readTime:r,resumeToken:i,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:s}}function H7(t){const e=V7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Wy(e,e.limit,"L"):e}function cg(t,e){return new Gw(e.largestBatchId,Yy(t.Tt,e.overlayMutation))}function D6(t,e){const r=e.path.lastSegment();return[t,hn(e.path.popLast()),r]}function O6(t,e,r,n){return{indexId:t,uid:e,sequenceNumber:r,readTime:Va(n.readTime),documentKey:hn(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{getBundleMetadata(e,r){return L6(e).get(r).next(n=>{if(n)return function(i){return{id:i.bundleId,createTime:Ua(i.createTime),version:i.version}}(n)})}saveBundleMetadata(e,r){return L6(e).put(function(s){return{bundleId:s.id,createTime:Va(wn(s.createTime)),version:s.version}}(r))}getNamedQuery(e,r){return F6(e).get(r).next(n=>{if(n)return function(i){return{name:i.name,query:H7(i.bundledQuery),readTime:Ua(i.readTime)}}(n)})}saveNamedQuery(e,r){return F6(e).put(function(s){return{name:s.name,readTime:Va(wn(s.readTime)),bundledQuery:s.bundledQuery}}(r))}}function L6(t){return Dr(t,fm)}function F6(t){return Dr(t,hm)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,r){this.serializer=e,this.userId=r}static It(e,r){const n=r.uid||"";return new _m(e,n)}getOverlay(e,r){return Sf(e).get(D6(this.userId,r)).next(n=>n?cg(this.serializer,n):null)}getOverlays(e,r){const n=Wi();return Ae.forEach(r,s=>this.getOverlay(e,s).next(i=>{i!==null&&n.set(s,i)})).next(()=>n)}saveOverlays(e,r,n){const s=[];return n.forEach((i,u)=>{const c=new Gw(r,u);s.push(this.Et(e,c))}),Ae.waitFor(s)}removeOverlaysForBatchId(e,r,n){const s=new Set;r.forEach(u=>s.add(hn(u.getCollectionPath())));const i=[];return s.forEach(u=>{const c=IDBKeyRange.bound([this.userId,u,n],[this.userId,u,n+1],!1,!0);i.push(Sf(e).J(Vy,c))}),Ae.waitFor(i)}getOverlaysForCollection(e,r,n){const s=Wi(),i=hn(r),u=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Sf(e).G(Vy,u).next(c=>{for(const v of c){const b=cg(this.serializer,v);s.set(b.getKey(),b)}return s})}getOverlaysForCollectionGroup(e,r,n,s){const i=Wi();let u;const c=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return Sf(e).Z({index:W9,range:c},(v,b,w)=>{const x=cg(this.serializer,b);i.size()<s||x.largestBatchId===u?(i.set(x.getKey(),x),u=x.largestBatchId):w.done()}).next(()=>i)}Et(e,r){return Sf(e).put(function(s,i,u){const[c,v,b]=D6(i,u.mutation.key);return{userId:i,collectionPath:v,documentId:b,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:pp(s.Tt,u.mutation)}}(this.serializer,this.userId,r))}}function Sf(t){return Dr(t,cm)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{dt(e){return Dr(e,Fw)}getSessionToken(e){return this.dt(e).get("sessionToken").next(r=>{const n=r==null?void 0:r.value;return n?Tr.fromUint8Array(n):Tr.EMPTY_BYTE_STRING})}setSessionToken(e,r){return this.dt(e).put({name:"sessionToken",value:r.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(){}At(e,r){this.Rt(e,r),r.Vt()}Rt(e,r){if("nullValue"in e)this.ft(r,5);else if("booleanValue"in e)this.ft(r,10),r.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(r,15),r.gt(fr(e.integerValue));else if("doubleValue"in e){const n=fr(e.doubleValue);isNaN(n)?this.ft(r,13):(this.ft(r,15),Kh(n)?r.gt(0):r.gt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.ft(r,20),typeof n=="string"&&(n=Cs(n)),r.yt(`${n.seconds||""}`),r.gt(n.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,r),this.St(r);else if("bytesValue"in e)this.ft(r,30),r.bt(Ps(e.bytesValue)),this.St(r);else if("referenceValue"in e)this.Dt(e.referenceValue,r);else if("geoPointValue"in e){const n=e.geoPointValue;this.ft(r,45),r.gt(n.latitude||0),r.gt(n.longitude||0)}else"mapValue"in e?i7(e)?this.ft(r,Number.MAX_SAFE_INTEGER):pm(e)?this.vt(e.mapValue,r):(this.Ct(e.mapValue,r),this.St(r)):"arrayValue"in e?(this.Ft(e.arrayValue,r),this.St(r)):lt()}wt(e,r){this.ft(r,25),this.Mt(e,r)}Mt(e,r){r.yt(e)}Ct(e,r){const n=e.fields||{};this.ft(r,55);for(const s of Object.keys(n))this.wt(s,r),this.Rt(n[s],r)}vt(e,r){var n,s;const i=e.fields||{};this.ft(r,53);const u=pu,c=((s=(n=i[u].arrayValue)===null||n===void 0?void 0:n.values)===null||s===void 0?void 0:s.length)||0;this.ft(r,15),r.gt(fr(c)),this.wt(u,r),this.Rt(i[u],r)}Ft(e,r){const n=e.values||[];this.ft(r,50);for(const s of n)this.Rt(s,r)}Dt(e,r){this.ft(r,37),nt.fromName(e).path.forEach(n=>{this.ft(r,60),this.Mt(n,r)})}ft(e,r){e.gt(r)}St(e){e.gt(2)}}ha.xt=new ha;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hl=255;function RU(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function V6(t){const e=64-function(n){let s=0;for(let i=0;i<8;++i){const u=RU(255&n[i]);if(s+=u,u!==8)break}return s}(t);return Math.ceil(e/8)}class kU{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ot(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.Nt(n.value),n=r.next();this.Bt()}Lt(e){const r=e[Symbol.iterator]();let n=r.next();for(;!n.done;)this.kt(n.value),n=r.next();this.qt()}Qt(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.Nt(n);else if(n<2048)this.Nt(960|n>>>6),this.Nt(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.Nt(480|n>>>12),this.Nt(128|63&n>>>6),this.Nt(128|63&n);else{const s=r.codePointAt(0);this.Nt(240|s>>>18),this.Nt(128|63&s>>>12),this.Nt(128|63&s>>>6),this.Nt(128|63&s)}}this.Bt()}$t(e){for(const r of e){const n=r.charCodeAt(0);if(n<128)this.kt(n);else if(n<2048)this.kt(960|n>>>6),this.kt(128|63&n);else if(r<"\uD800"||"\uDBFF"<r)this.kt(480|n>>>12),this.kt(128|63&n>>>6),this.kt(128|63&n);else{const s=r.codePointAt(0);this.kt(240|s>>>18),this.kt(128|63&s>>>12),this.kt(128|63&s>>>6),this.kt(128|63&s)}}this.qt()}Ut(e){const r=this.Kt(e),n=V6(r);this.Wt(1+n),this.buffer[this.position++]=255&n;for(let s=r.length-n;s<r.length;++s)this.buffer[this.position++]=255&r[s]}Gt(e){const r=this.Kt(e),n=V6(r);this.Wt(1+n),this.buffer[this.position++]=~(255&n);for(let s=r.length-n;s<r.length;++s)this.buffer[this.position++]=~(255&r[s])}zt(){this.jt(hl),this.jt(255)}Ht(){this.Jt(hl),this.Jt(255)}reset(){this.position=0}seed(e){this.Wt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Yt(){return this.buffer.slice(0,this.position)}Kt(e){const r=function(i){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,i,!1),new Uint8Array(u.buffer)}(e),n=!!(128&r[0]);r[0]^=n?255:128;for(let s=1;s<r.length;++s)r[s]^=n?255:0;return r}Nt(e){const r=255&e;r===0?(this.jt(0),this.jt(255)):r===hl?(this.jt(hl),this.jt(0)):this.jt(r)}kt(e){const r=255&e;r===0?(this.Jt(0),this.Jt(255)):r===hl?(this.Jt(hl),this.Jt(0)):this.Jt(e)}Bt(){this.jt(0),this.jt(1)}qt(){this.Jt(0),this.Jt(1)}jt(e){this.Wt(1),this.buffer[this.position++]=e}Jt(e){this.Wt(1),this.buffer[this.position++]=~e}Wt(e){const r=e+this.position;if(r<=this.buffer.length)return;let n=2*this.buffer.length;n<r&&(n=r);const s=new Uint8Array(n);s.set(this.buffer),this.buffer=s}}class CU{constructor(e){this.Zt=e}bt(e){this.Zt.Ot(e)}yt(e){this.Zt.Qt(e)}gt(e){this.Zt.Ut(e)}Vt(){this.Zt.zt()}}class PU{constructor(e){this.Zt=e}bt(e){this.Zt.Lt(e)}yt(e){this.Zt.$t(e)}gt(e){this.Zt.Gt(e)}Vt(){this.Zt.Ht()}}class If{constructor(){this.Zt=new kU,this.Xt=new CU(this.Zt),this.en=new PU(this.Zt)}seed(e){this.Zt.seed(e)}tn(e){return e===0?this.Xt:this.en}Yt(){return this.Zt.Yt()}reset(){this.Zt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,r,n,s){this.indexId=e,this.documentKey=r,this.arrayValue=n,this.directionalValue=s}nn(){const e=this.directionalValue.length,r=e===0||this.directionalValue[e-1]===255?e+1:e,n=new Uint8Array(r);return n.set(this.directionalValue,0),r!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new ca(this.indexId,this.documentKey,this.arrayValue,n)}}function Zs(t,e){let r=t.indexId-e.indexId;return r!==0?r:(r=U6(t.arrayValue,e.arrayValue),r!==0?r:(r=U6(t.directionalValue,e.directionalValue),r!==0?r:nt.comparator(t.documentKey,e.documentKey)))}function U6(t,e){for(let r=0;r<t.length&&r<e.length;++r){const n=t[r]-e[r];if(n!==0)return n}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e){this.rn=new Jt((r,n)=>mr.comparator(r.field,n.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.sn=e.orderBy,this._n=[];for(const r of e.filters){const n=r;n.isInequality()?this.rn=this.rn.add(n):this._n.push(n)}}get an(){return this.rn.size>1}un(e){if(ht(e.collectionGroup===this.collectionId),this.an)return!1;const r=Oy(e);if(r!==void 0&&!this.cn(r))return!1;const n=sa(e);let s=new Set,i=0,u=0;for(;i<n.length&&this.cn(n[i]);++i)s=s.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.rn.size>0){const c=this.rn.getIterator().getNext();if(!s.has(c.field.canonicalString())){const v=n[i];if(!this.ln(c,v)||!this.hn(this.sn[u++],v))return!1}++i}for(;i<n.length;++i){const c=n[i];if(u>=this.sn.length||!this.hn(this.sn[u++],c))return!1}return!0}Pn(){if(this.an)return null;let e=new Jt(mr.comparator);const r=[];for(const n of this._n)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")r.push(new o0(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),r.push(new o0(n.field,0))}for(const n of this.sn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),r.push(new o0(n.field,n.dir==="asc"?0:1)));return new ip(ip.UNKNOWN_ID,this.collectionId,r,Hh.empty())}cn(e){for(const r of this._n)if(this.ln(r,e))return!0;return!1}ln(e,r){if(e===void 0||!e.field.isEqual(r.fieldPath))return!1;const n=e.op==="array-contains"||e.op==="array-contains-any";return r.kind===2===n}hn(e,r){return!!e.field.isEqual(r.fieldPath)&&(r.kind===0&&e.dir==="asc"||r.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K7(t){var e,r;if(ht(t instanceof Ut||t instanceof Qt),t instanceof Ut){if(t instanceof d7){const s=((r=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||r===void 0?void 0:r.map(i=>Ut.create(t.field,"==",i)))||[];return Qt.create(s,"or")}return t}const n=t.filters.map(s=>K7(s));return Qt.create(n,t.op)}function NU(t){if(t.getFilters().length===0)return[];const e=e2(K7(t));return ht(W7(e)),Jy(e)||Xy(e)?[e]:e.getFilters()}function Jy(t){return t instanceof Ut}function Xy(t){return t instanceof Qt&&$w(t)}function W7(t){return Jy(t)||Xy(t)||function(r){if(r instanceof Qt&&$y(r)){for(const n of r.getFilters())if(!Jy(n)&&!Xy(n))return!1;return!0}return!1}(t)}function e2(t){if(ht(t instanceof Ut||t instanceof Qt),t instanceof Ut)return t;if(t.filters.length===1)return e2(t.filters[0]);const e=t.filters.map(n=>e2(n));let r=Qt.create(e,t.op);return r=vp(r),W7(r)?r:(ht(r instanceof Qt),ht(gu(r)),ht(r.filters.length>1),r.filters.reduce((n,s)=>Yw(n,s)))}function Yw(t,e){let r;return ht(t instanceof Ut||t instanceof Qt),ht(e instanceof Ut||e instanceof Qt),r=t instanceof Ut?e instanceof Ut?function(s,i){return Qt.create([s,i],"and")}(t,e):z6(t,e):e instanceof Ut?z6(e,t):function(s,i){if(ht(s.filters.length>0&&i.filters.length>0),gu(s)&&gu(i))return f7(s,i.getFilters());const u=$y(s)?s:i,c=$y(s)?i:s,v=u.filters.map(b=>Yw(b,c));return Qt.create(v,"or")}(t,e),vp(r)}function z6(t,e){if(gu(e))return f7(e,t.getFilters());{const r=e.filters.map(n=>Yw(t,n));return Qt.create(r,"or")}}function vp(t){if(ht(t instanceof Ut||t instanceof Qt),t instanceof Ut)return t;const e=t.getFilters();if(e.length===1)return vp(e[0]);if(l7(t))return t;const r=e.map(s=>vp(s)),n=[];return r.forEach(s=>{s instanceof Ut?n.push(s):s instanceof Qt&&(s.op===t.op?n.push(...s.filters):n.push(s))}),n.length===1?n[0]:Qt.create(n,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BU{constructor(){this.Tn=new Jw}addToCollectionParentIndex(e,r){return this.Tn.add(r),Ae.resolve()}getCollectionParents(e,r){return Ae.resolve(this.Tn.getEntries(r))}addFieldIndex(e,r){return Ae.resolve()}deleteFieldIndex(e,r){return Ae.resolve()}deleteAllFieldIndexes(e){return Ae.resolve()}createTargetIndexes(e,r){return Ae.resolve()}getDocumentsMatchingTarget(e,r){return Ae.resolve(null)}getIndexType(e,r){return Ae.resolve(0)}getFieldIndexes(e,r){return Ae.resolve([])}getNextCollectionGroupToUpdate(e){return Ae.resolve(null)}getMinOffset(e,r){return Ae.resolve(qn.min())}getMinOffsetFromCollectionGroup(e,r){return Ae.resolve(qn.min())}updateCollectionGroup(e,r,n){return Ae.resolve()}updateIndexEntries(e,r){return Ae.resolve()}}class Jw{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r]||new Jt(Gt.comparator),i=!s.has(n);return this.index[r]=s.add(n),i}has(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r];return s&&s.has(n)}getEntries(e){return(this.index[e]||new Jt(Gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6="IndexedDbIndexManager",Rd=new Uint8Array(0);class DU{constructor(e,r){this.databaseId=r,this.In=new Jw,this.En=new Us(n=>Fa(n),(n,s)=>wc(n,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,r){if(!this.In.has(r)){const n=r.lastSegment(),s=r.popLast();e.addOnCommittedListener(()=>{this.In.add(r)});const i={collectionId:n,parent:hn(s)};return q6(e).put(i)}return Ae.resolve()}getCollectionParents(e,r){const n=[],s=IDBKeyRange.bound([r,""],[L9(r),""],!1,!0);return q6(e).G(s).next(i=>{for(const u of i){if(u.collectionId!==r)break;n.push(Ki(u.parent))}return n})}addFieldIndex(e,r){const n=Af(e),s=function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(v=>[v.fieldPath.canonicalString(),v.kind])}}(r);delete s.indexId;const i=n.add(s);if(r.indexState){const u=dl(e);return i.next(c=>{u.put(O6(c,this.uid,r.indexState.sequenceNumber,r.indexState.offset))})}return i.next()}deleteFieldIndex(e,r){const n=Af(e),s=dl(e),i=cl(e);return n.delete(r.indexId).next(()=>s.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([r.indexId],[r.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const r=Af(e),n=cl(e),s=dl(e);return r.J().next(()=>n.J()).next(()=>s.J())}createTargetIndexes(e,r){return Ae.forEach(this.dn(r),n=>this.getIndexType(e,n).next(s=>{if(s===0||s===1){const i=new j6(n).Pn();if(i!=null)return this.addFieldIndex(e,i)}}))}getDocumentsMatchingTarget(e,r){const n=cl(e);let s=!0;const i=new Map;return Ae.forEach(this.dn(r),u=>this.An(e,u).next(c=>{s&&(s=!!c),i.set(u,c)})).next(()=>{if(s){let u=Rt();const c=[];return Ae.forEach(i,(v,b)=>{He($6,`Using index ${function(z){return`id=${z.indexId}|cg=${z.collectionGroup}|f=${z.fields.map(K=>`${K.fieldPath}:${K.kind}`).join(",")}`}(v)} to execute ${Fa(r)}`);const w=function(z,K){const ne=Oy(K);if(ne===void 0)return null;for(const ue of cp(z,ne.fieldPath))switch(ue.op){case"array-contains-any":return ue.value.arrayValue.values||[];case"array-contains":return[ue.value]}return null}(b,v),x=function(z,K){const ne=new Map;for(const ue of sa(K))for(const G of cp(z,ue.fieldPath))switch(G.op){case"==":case"in":ne.set(ue.fieldPath.canonicalString(),G.value);break;case"not-in":case"!=":return ne.set(ue.fieldPath.canonicalString(),G.value),Array.from(ne.values())}return null}(b,v),E=function(z,K){const ne=[];let ue=!0;for(const G of sa(K)){const q=G.kind===0?x6(z,G.fieldPath,z.startAt):M6(z,G.fieldPath,z.startAt);ne.push(q.value),ue&&(ue=q.inclusive)}return new vu(ne,ue)}(b,v),A=function(z,K){const ne=[];let ue=!0;for(const G of sa(K)){const q=G.kind===0?M6(z,G.fieldPath,z.endAt):x6(z,G.fieldPath,z.endAt);ne.push(q.value),ue&&(ue=q.inclusive)}return new vu(ne,ue)}(b,v),N=this.Rn(v,b,E),D=this.Rn(v,b,A),W=this.Vn(v,b,x),P=this.mn(v.indexId,w,N,E.inclusive,D,A.inclusive,W);return Ae.forEach(P,C=>n.H(C,r.limit).next(z=>{z.forEach(K=>{const ne=nt.fromSegments(K.documentKey);u.has(ne)||(u=u.add(ne),c.push(ne))})}))}).next(()=>c)}return Ae.resolve(null)})}dn(e){let r=this.En.get(e);return r||(e.filters.length===0?r=[e]:r=NU(Qt.create(e.filters,"and")).map(n=>Hy(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt)),this.En.set(e,r),r)}mn(e,r,n,s,i,u,c){const v=(r!=null?r.length:1)*Math.max(n.length,i.length),b=v/(r!=null?r.length:1),w=[];for(let x=0;x<v;++x){const E=r?this.fn(r[x/b]):Rd,A=this.gn(e,E,n[x%b],s),N=this.pn(e,E,i[x%b],u),D=c.map(W=>this.gn(e,E,W,!0));w.push(...this.createRange(A,N,D))}return w}gn(e,r,n,s){const i=new ca(e,nt.empty(),r,n);return s?i:i.nn()}pn(e,r,n,s){const i=new ca(e,nt.empty(),r,n);return s?i.nn():i}An(e,r){const n=new j6(r),s=r.collectionGroup!=null?r.collectionGroup:r.path.lastSegment();return this.getFieldIndexes(e,s).next(i=>{let u=null;for(const c of i)n.un(c)&&(!u||c.fields.length>u.fields.length)&&(u=c);return u})}getIndexType(e,r){let n=2;const s=this.dn(r);return Ae.forEach(s,i=>this.An(e,i).next(u=>{u?n!==0&&u.fields.length<function(v){let b=new Jt(mr.comparator),w=!1;for(const x of v.filters)for(const E of x.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?w=!0:b=b.add(E.field));for(const x of v.orderBy)x.field.isKeyField()||(b=b.add(x.field));return b.size+(w?1:0)}(i)&&(n=1):n=0})).next(()=>function(u){return u.limit!==null}(r)&&s.length>1&&n===2?1:n)}yn(e,r){const n=new If;for(const s of sa(e)){const i=r.data.field(s.fieldPath);if(i==null)return null;const u=n.tn(s.kind);ha.xt.At(i,u)}return n.Yt()}fn(e){const r=new If;return ha.xt.At(e,r.tn(0)),r.Yt()}wn(e,r){const n=new If;return ha.xt.At(Jh(this.databaseId,r),n.tn(function(i){const u=sa(i);return u.length===0?0:u[u.length-1].kind}(e))),n.Yt()}Vn(e,r,n){if(n===null)return[];let s=[];s.push(new If);let i=0;for(const u of sa(e)){const c=n[i++];for(const v of s)if(this.Sn(r,u.fieldPath)&&Xh(c))s=this.bn(s,u,c);else{const b=v.tn(u.kind);ha.xt.At(c,b)}}return this.Dn(s)}Rn(e,r,n){return this.Vn(e,r,n.position)}Dn(e){const r=[];for(let n=0;n<e.length;++n)r[n]=e[n].Yt();return r}bn(e,r,n){const s=[...e],i=[];for(const u of n.arrayValue.values||[])for(const c of s){const v=new If;v.seed(c.Yt()),ha.xt.At(u,v.tn(r.kind)),i.push(v)}return i}Sn(e,r){return!!e.filters.find(n=>n instanceof Ut&&n.field.isEqual(r)&&(n.op==="in"||n.op==="not-in"))}getFieldIndexes(e,r){const n=Af(e),s=dl(e);return(r?n.G(Fy,IDBKeyRange.bound(r,r)):n.G()).next(i=>{const u=[];return Ae.forEach(i,c=>s.get([c.indexId,this.uid]).next(v=>{u.push(function(w,x){const E=x?new Hh(x.sequenceNumber,new qn(Ua(x.readTime),new nt(Ki(x.documentKey)),x.largestBatchId)):Hh.empty(),A=w.fields.map(([N,D])=>new o0(mr.fromServerFormat(N),D));return new ip(w.indexId,w.collectionGroup,A,E)}(c,v))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(r=>r.length===0?null:(r.sort((n,s)=>{const i=n.indexState.sequenceNumber-s.indexState.sequenceNumber;return i!==0?i:wt(n.collectionGroup,s.collectionGroup)}),r[0].collectionGroup))}updateCollectionGroup(e,r,n){const s=Af(e),i=dl(e);return this.vn(e).next(u=>s.G(Fy,IDBKeyRange.bound(r,r)).next(c=>Ae.forEach(c,v=>i.put(O6(v.indexId,this.uid,u,n)))))}updateIndexEntries(e,r){const n=new Map;return Ae.forEach(r,(s,i)=>{const u=n.get(s.collectionGroup);return(u?Ae.resolve(u):this.getFieldIndexes(e,s.collectionGroup)).next(c=>(n.set(s.collectionGroup,c),Ae.forEach(c,v=>this.Cn(e,s,v).next(b=>{const w=this.Fn(i,v);return b.isEqual(w)?Ae.resolve():this.Mn(e,i,v,b,w)}))))})}xn(e,r,n,s){return cl(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.wn(n,r.key),documentKey:r.key.path.toArray()})}On(e,r,n,s){return cl(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.wn(n,r.key),r.key.path.toArray()])}Cn(e,r,n){const s=cl(e);let i=new Jt(Zs);return s.Z({index:K9,range:IDBKeyRange.only([n.indexId,this.uid,this.wn(n,r)])},(u,c)=>{i=i.add(new ca(n.indexId,r,c.arrayValue,c.directionalValue))}).next(()=>i)}Fn(e,r){let n=new Jt(Zs);const s=this.yn(r,e);if(s==null)return n;const i=Oy(r);if(i!=null){const u=e.data.field(i.fieldPath);if(Xh(u))for(const c of u.arrayValue.values||[])n=n.add(new ca(r.indexId,e.key,this.fn(c),s))}else n=n.add(new ca(r.indexId,e.key,Rd,s));return n}Mn(e,r,n,s,i){He($6,"Updating index entries for document '%s'",r.key);const u=[];return function(v,b,w,x,E){const A=v.getIterator(),N=b.getIterator();let D=fl(A),W=fl(N);for(;D||W;){let P=!1,C=!1;if(D&&W){const z=w(D,W);z<0?C=!0:z>0&&(P=!0)}else D!=null?C=!0:P=!0;P?(x(W),W=fl(N)):C?(E(D),D=fl(A)):(D=fl(A),W=fl(N))}}(s,i,Zs,c=>{u.push(this.xn(e,r,n,c))},c=>{u.push(this.On(e,r,n,c))}),Ae.waitFor(u)}vn(e){let r=1;return dl(e).Z({index:H9,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(n,s,i)=>{i.done(),r=s.sequenceNumber+1}).next(()=>r)}createRange(e,r,n){n=n.sort((u,c)=>Zs(u,c)).filter((u,c,v)=>!c||Zs(u,v[c-1])!==0);const s=[];s.push(e);for(const u of n){const c=Zs(u,e),v=Zs(u,r);if(c===0)s[0]=e.nn();else if(c>0&&v<0)s.push(u),s.push(u.nn());else if(v>0)break}s.push(r);const i=[];for(let u=0;u<s.length;u+=2){if(this.Nn(s[u],s[u+1]))return[];const c=[s[u].indexId,this.uid,s[u].arrayValue,s[u].directionalValue,Rd,[]],v=[s[u+1].indexId,this.uid,s[u+1].arrayValue,s[u+1].directionalValue,Rd,[]];i.push(IDBKeyRange.bound(c,v))}return i}Nn(e,r){return Zs(e,r)>0}getMinOffsetFromCollectionGroup(e,r){return this.getFieldIndexes(e,r).next(H6)}getMinOffset(e,r){return Ae.mapArray(this.dn(r),n=>this.An(e,n).next(s=>s||lt())).next(H6)}}function q6(t){return Dr(t,Zh)}function cl(t){return Dr(t,up)}function Af(t){return Dr(t,Lw)}function dl(t){return Dr(t,lp)}function H6(t){ht(t.length!==0);let e=t[0].indexState.offset,r=e.largestBatchId;for(let n=1;n<t.length;n++){const s=t[n].indexState.offset;Bw(s,e)<0&&(e=s),r<s.largestBatchId&&(r=s.largestBatchId)}return new qn(e.readTime,e.documentKey,r)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},G7=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z7(t,e,r){const n=t.store(bi),s=t.store(fu),i=[],u=IDBKeyRange.only(r.batchId);let c=0;const v=n.Z({range:u},(w,x,E)=>(c++,E.delete()));i.push(v.next(()=>{ht(c===1)}));const b=[];for(const w of r.mutations){const x=z9(e,w.key.path,r.batchId);i.push(s.delete(x)),b.push(w.key)}return Ae.waitFor(i).next(()=>b)}function gp(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw lt();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(G7,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);class bm{constructor(e,r,n,s){this.userId=e,this.serializer=r,this.indexManager=n,this.referenceDelegate=s,this.Bn={}}static It(e,r,n,s){ht(e.uid!=="");const i=e.isAuthenticated()?e.uid:"";return new bm(i,r,n,s)}checkEmpty(e){let r=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Qs(e).Z({index:_a,range:n},(s,i,u)=>{r=!1,u.done()}).next(()=>r)}addMutationBatch(e,r,n,s){const i=Sl(e),u=Qs(e);return u.add({}).next(c=>{ht(typeof c=="number");const v=new Kw(c,r,n,s),b=function(A,N,D){const W=D.baseMutations.map(C=>pp(A.Tt,C)),P=D.mutations.map(C=>pp(A.Tt,C));return{userId:N,batchId:D.batchId,localWriteTimeMs:D.localWriteTime.toMillis(),baseMutations:W,mutations:P}}(this.serializer,this.userId,v),w=[];let x=new Jt((E,A)=>wt(E.canonicalString(),A.canonicalString()));for(const E of s){const A=z9(this.userId,E.key.path,c);x=x.add(E.key.path.popLast()),w.push(u.put(b)),w.push(i.put(A,cV))}return x.forEach(E=>{w.push(this.indexManager.addToCollectionParentIndex(e,E))}),e.addOnCommittedListener(()=>{this.Bn[c]=v.keys()}),Ae.waitFor(w).next(()=>v)})}lookupMutationBatch(e,r){return Qs(e).get(r).next(n=>n?(ht(n.userId===this.userId),fa(this.serializer,n)):null)}Ln(e,r){return this.Bn[r]?Ae.resolve(this.Bn[r]):this.lookupMutationBatch(e,r).next(n=>{if(n){const s=n.keys();return this.Bn[r]=s,s}return null})}getNextMutationBatchAfterBatchId(e,r){const n=r+1,s=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Qs(e).Z({index:_a,range:s},(u,c,v)=>{c.userId===this.userId&&(ht(c.batchId>=n),i=fa(this.serializer,c)),v.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const r=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=Sa;return Qs(e).Z({index:_a,range:r,reverse:!0},(s,i,u)=>{n=i.batchId,u.done()}).next(()=>n)}getAllMutationBatches(e){const r=IDBKeyRange.bound([this.userId,Sa],[this.userId,Number.POSITIVE_INFINITY]);return Qs(e).G(_a,r).next(n=>n.map(s=>fa(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,r){const n=a0(this.userId,r.path),s=IDBKeyRange.lowerBound(n),i=[];return Sl(e).Z({range:s},(u,c,v)=>{const[b,w,x]=u,E=Ki(w);if(b===this.userId&&r.path.isEqual(E))return Qs(e).get(x).next(A=>{if(!A)throw lt();ht(A.userId===this.userId),i.push(fa(this.serializer,A))});v.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Jt(wt);const s=[];return r.forEach(i=>{const u=a0(this.userId,i.path),c=IDBKeyRange.lowerBound(u),v=Sl(e).Z({range:c},(b,w,x)=>{const[E,A,N]=b,D=Ki(A);E===this.userId&&i.path.isEqual(D)?n=n.add(N):x.done()});s.push(v)}),Ae.waitFor(s).next(()=>this.kn(e,n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,s=n.length+1,i=a0(this.userId,n),u=IDBKeyRange.lowerBound(i);let c=new Jt(wt);return Sl(e).Z({range:u},(v,b,w)=>{const[x,E,A]=v,N=Ki(E);x===this.userId&&n.isPrefixOf(N)?N.length===s&&(c=c.add(A)):w.done()}).next(()=>this.kn(e,c))}kn(e,r){const n=[],s=[];return r.forEach(i=>{s.push(Qs(e).get(i).next(u=>{if(u===null)throw lt();ht(u.userId===this.userId),n.push(fa(this.serializer,u))}))}),Ae.waitFor(s).next(()=>n)}removeMutationBatch(e,r){return Z7(e.ue,this.userId,r).next(n=>(e.addOnCommittedListener(()=>{this.qn(r.batchId)}),Ae.forEach(n,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}qn(e){delete this.Bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(r=>{if(!r)return Ae.resolve();const n=IDBKeyRange.lowerBound(function(u){return[u]}(this.userId)),s=[];return Sl(e).Z({range:n},(i,u,c)=>{if(i[0]===this.userId){const v=Ki(i[1]);s.push(v)}else c.done()}).next(()=>{ht(s.length===0)})})}containsKey(e,r){return Q7(e,this.userId,r)}Qn(e){return Y7(e).get(this.userId).next(r=>r||{userId:this.userId,lastAcknowledgedBatchId:Sa,lastStreamToken:""})}}function Q7(t,e,r){const n=a0(e,r.path),s=n[1],i=IDBKeyRange.lowerBound(n);let u=!1;return Sl(t).Z({range:i,Y:!0},(c,v,b)=>{const[w,x,E]=c;w===e&&x===s&&(u=!0),b.done()}).next(()=>u)}function Qs(t){return Dr(t,bi)}function Sl(t){return Dr(t,fu)}function Y7(t){return Dr(t,Wh)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new ja(0)}static Kn(){return new ja(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(e,r){this.referenceDelegate=e,this.serializer=r}allocateTargetId(e){return this.Wn(e).next(r=>{const n=new ja(r.highestTargetId);return r.highestTargetId=n.next(),this.Gn(e,r).next(()=>r.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Wn(e).next(r=>mt.fromTimestamp(new ir(r.lastRemoteSnapshotVersion.seconds,r.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Wn(e).next(r=>r.highestListenSequenceNumber)}setTargetsMetadata(e,r,n){return this.Wn(e).next(s=>(s.highestListenSequenceNumber=r,n&&(s.lastRemoteSnapshotVersion=n.toTimestamp()),r>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=r),this.Gn(e,s)))}addTargetData(e,r){return this.zn(e,r).next(()=>this.Wn(e).next(n=>(n.targetCount+=1,this.jn(r,n),this.Gn(e,n))))}updateTargetData(e,r){return this.zn(e,r)}removeTargetData(e,r){return this.removeMatchingKeysForTargetId(e,r.targetId).next(()=>pl(e).delete(r.targetId)).next(()=>this.Wn(e)).next(n=>(ht(n.targetCount>0),n.targetCount-=1,this.Gn(e,n)))}removeTargets(e,r,n){let s=0;const i=[];return pl(e).Z((u,c)=>{const v=Wf(c);v.sequenceNumber<=r&&n.get(v.targetId)===null&&(s++,i.push(this.removeTargetData(e,v)))}).next(()=>Ae.waitFor(i)).next(()=>s)}forEachTarget(e,r){return pl(e).Z((n,s)=>{const i=Wf(s);r(i)})}Wn(e){return W6(e).get(ap).next(r=>(ht(r!==null),r))}Gn(e,r){return W6(e).put(ap,r)}zn(e,r){return pl(e).put(q7(this.serializer,r))}jn(e,r){let n=!1;return e.targetId>r.highestTargetId&&(r.highestTargetId=e.targetId,n=!0),e.sequenceNumber>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Wn(e).next(r=>r.targetCount)}getTargetData(e,r){const n=Fa(r),s=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return pl(e).Z({range:s,index:q9},(u,c,v)=>{const b=Wf(c);wc(r,b.target)&&(i=b,v.done())}).next(()=>i)}addMatchingKeys(e,r,n){const s=[],i=lo(e);return r.forEach(u=>{const c=hn(u.path);s.push(i.put({targetId:n,path:c})),s.push(this.referenceDelegate.addReference(e,n,u))}),Ae.waitFor(s)}removeMatchingKeys(e,r,n){const s=lo(e);return Ae.forEach(r,i=>{const u=hn(i.path);return Ae.waitFor([s.delete([n,u]),this.referenceDelegate.removeReference(e,n,i)])})}removeMatchingKeysForTargetId(e,r){const n=lo(e),s=IDBKeyRange.bound([r],[r+1],!1,!0);return n.delete(s)}getMatchingKeysForTargetId(e,r){const n=IDBKeyRange.bound([r],[r+1],!1,!0),s=lo(e);let i=Rt();return s.Z({range:n,Y:!0},(u,c,v)=>{const b=Ki(u[1]),w=new nt(b);i=i.add(w)}).next(()=>i)}containsKey(e,r){const n=hn(r.path),s=IDBKeyRange.bound([n],[L9(n)],!1,!0);let i=0;return lo(e).Z({index:Ow,Y:!0,range:s},([u,c],v,b)=>{u!==0&&(i++,b.done())}).next(()=>i>0)}lt(e,r){return pl(e).get(r).next(n=>n?Wf(n):null)}}function pl(t){return Dr(t,hu)}function W6(t){return Dr(t,Ia)}function lo(t){return Dr(t,cu)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6="LruGarbageCollector",LU=1048576;function Z6([t,e],[r,n]){const s=wt(t,r);return s===0?wt(e,n):s}class FU{constructor(e){this.Hn=e,this.buffer=new Jt(Z6),this.Jn=0}Yn(){return++this.Jn}Zn(e){const r=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();Z6(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class J7{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){He(G6,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){zo(r)?He(G6,"Ignoring IndexedDB error during garbage collection: ",r):await Qa(r)}await this.er(3e5)})}}class VU{constructor(e,r){this.tr=e,this.params=r}calculateTargetCount(e,r){return this.tr.nr(e).next(n=>Math.floor(r/100*n))}nthSequenceNumber(e,r){if(r===0)return Ae.resolve(ri.ae);const n=new FU(r);return this.tr.forEachTarget(e,s=>n.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>n.Zn(s))).next(()=>n.maxValue)}removeTargets(e,r,n){return this.tr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.tr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(He("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(K6)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),K6):this.ir(e,r))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,r){let n,s,i,u,c,v,b;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(He("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),s=this.params.maximumSequenceNumbersToCollect):s=x,u=Date.now(),this.nthSequenceNumber(e,s))).next(x=>(n=x,c=Date.now(),this.removeTargets(e,n,r))).next(x=>(i=x,v=Date.now(),this.removeOrphanedDocuments(e,n))).next(x=>(b=Date.now(),bl()<=qt.DEBUG&&He("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-w}ms
	Determined least recently used ${s} in `+(c-u)+`ms
	Removed ${i} targets in `+(v-c)+`ms
	Removed ${x} documents in `+(b-v)+`ms
Total Duration: ${b-w}ms`),Ae.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:x})))}}function X7(t,e){return new VU(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e,r){this.db=e,this.garbageCollector=X7(this,r)}nr(e){const r=this.sr(e);return this.db.getTargetCache().getTargetCount(e).next(n=>r.next(s=>n+s))}sr(e){let r=0;return this.rr(e,n=>{r++}).next(()=>r)}forEachTarget(e,r){return this.db.getTargetCache().forEachTarget(e,r)}rr(e,r){return this._r(e,(n,s)=>r(s))}addReference(e,r,n){return kd(e,n)}removeReference(e,r,n){return kd(e,n)}removeTargets(e,r,n){return this.db.getTargetCache().removeTargets(e,r,n)}markPotentiallyOrphaned(e,r){return kd(e,r)}ar(e,r){return function(s,i){let u=!1;return Y7(s).X(c=>Q7(s,c,i).next(v=>(v&&(u=!0),Ae.resolve(!v)))).next(()=>u)}(e,r)}removeOrphanedDocuments(e,r){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let i=0;return this._r(e,(u,c)=>{if(c<=r){const v=this.ar(e,u).next(b=>{if(!b)return i++,n.getEntry(e,u).next(()=>(n.removeEntry(u,mt.min()),lo(e).delete(function(x){return[0,hn(x.path)]}(u))))});s.push(v)}}).next(()=>Ae.waitFor(s)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,r){return kd(e,r)}_r(e,r){const n=lo(e);let s,i=ri.ae;return n.Z({index:Ow},([u,c],{path:v,sequenceNumber:b})=>{u===0?(i!==ri.ae&&r(new nt(Ki(s)),i),i=b,s=v):i=ri.ae}).next(()=>{i!==ri.ae&&r(new nt(Ki(s)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function kd(t,e){return lo(t).put(function(n,s){return{targetId:0,path:hn(n.path),sequenceNumber:s}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this.changes=new Us(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,_r.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Ae.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,r,n){return Yo(e).put(n)}removeEntry(e,r,n){return Yo(e).delete(function(i,u){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],mp(u),c[c.length-1]]}(r,n))}updateMetadata(e,r){return this.getMetadata(e).next(n=>(n.byteSize+=r,this.ur(e,n)))}getEntry(e,r){let n=_r.newInvalidDocument(r);return Yo(e).Z({index:l0,range:IDBKeyRange.only(Tf(r))},(s,i)=>{n=this.cr(r,i)}).next(()=>n)}lr(e,r){let n={size:0,document:_r.newInvalidDocument(r)};return Yo(e).Z({index:l0,range:IDBKeyRange.only(Tf(r))},(s,i)=>{n={document:this.cr(r,i),size:gp(i)}}).next(()=>n)}getEntries(e,r){let n=jn();return this.hr(e,r,(s,i)=>{const u=this.cr(s,i);n=n.insert(s,u)}).next(()=>n)}Pr(e,r){let n=jn(),s=new cr(nt.comparator);return this.hr(e,r,(i,u)=>{const c=this.cr(i,u);n=n.insert(i,c),s=s.insert(i,gp(u))}).next(()=>({documents:n,Tr:s}))}hr(e,r,n){if(r.isEmpty())return Ae.resolve();let s=new Jt(J6);r.forEach(v=>s=s.add(v));const i=IDBKeyRange.bound(Tf(s.first()),Tf(s.last())),u=s.getIterator();let c=u.getNext();return Yo(e).Z({index:l0,range:i},(v,b,w)=>{const x=nt.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;c&&J6(c,x)<0;)n(c,null),c=u.getNext();c&&c.isEqual(x)&&(n(c,b),c=u.hasNext()?u.getNext():null),c?w.W(Tf(c)):w.done()}).next(()=>{for(;c;)n(c,null),c=u.hasNext()?u.getNext():null})}getDocumentsMatchingQuery(e,r,n,s,i){const u=r.path,c=[u.popLast().toArray(),u.lastSegment(),mp(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],v=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Yo(e).G(IDBKeyRange.bound(c,v,!0)).next(b=>{i==null||i.incrementDocumentReadCount(b.length);let w=jn();for(const x of b){const E=this.cr(nt.fromSegments(x.prefixPath.concat(x.collectionGroup,x.documentId)),x);E.isFoundDocument()&&(_c(r,E)||s.has(E.key))&&(w=w.insert(E.key,E))}return w})}getAllFromCollectionGroup(e,r,n,s){let i=jn();const u=Y6(r,n),c=Y6(r,qn.max());return Yo(e).Z({index:$9,range:IDBKeyRange.bound(u,c,!0)},(v,b,w)=>{const x=this.cr(nt.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);i=i.insert(x.key,x),i.size===s&&w.done()}).next(()=>i)}newChangeBuffer(e){return new zU(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(r=>r.byteSize)}getMetadata(e){return Q6(e).get(Ly).next(r=>(ht(!!r),r))}ur(e,r){return Q6(e).put(Ly,r)}cr(e,r){if(r){const n=IU(this.serializer,r);if(!(n.isNoDocument()&&n.version.isEqual(mt.min())))return n}return _r.newInvalidDocument(e)}}function tI(t){return new jU(t)}class zU extends eI{constructor(e,r){super(),this.Ir=e,this.trackRemovals=r,this.Er=new Us(n=>n.toString(),(n,s)=>n.isEqual(s))}applyChanges(e){const r=[];let n=0,s=new Jt((i,u)=>wt(i.canonicalString(),u.canonicalString()));return this.changes.forEach((i,u)=>{const c=this.Er.get(i);if(r.push(this.Ir.removeEntry(e,i,c.readTime)),u.isValidDocument()){const v=B6(this.Ir.serializer,u);s=s.add(i.path.popLast());const b=gp(v);n+=b-c.size,r.push(this.Ir.addEntry(e,i,v))}else if(n-=c.size,this.trackRemovals){const v=B6(this.Ir.serializer,u.convertToNoDocument(mt.min()));r.push(this.Ir.addEntry(e,i,v))}}),s.forEach(i=>{r.push(this.Ir.indexManager.addToCollectionParentIndex(e,i))}),r.push(this.Ir.updateMetadata(e,n)),Ae.waitFor(r)}getFromCache(e,r){return this.Ir.lr(e,r).next(n=>(this.Er.set(r,{size:n.size,readTime:n.document.readTime}),n.document))}getAllFromCache(e,r){return this.Ir.Pr(e,r).next(({documents:n,Tr:s})=>(s.forEach((i,u)=>{this.Er.set(i,{size:u,readTime:n.get(i).readTime})}),n))}}function Q6(t){return Dr(t,Gh)}function Yo(t){return Dr(t,op)}function Tf(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Y6(t,e){const r=e.documentKey.path.toArray();return[t,mp(e.readTime),r.slice(0,r.length-2),r.length>0?r[r.length-1]:""]}function J6(t,e){const r=t.path.toArray(),n=e.path.toArray();let s=0;for(let i=0;i<r.length-2&&i<n.length-2;++i)if(s=wt(r[i],n[i]),s)return s;return s=wt(r.length,n.length),s||(s=wt(r[r.length-2],n[n.length-2]),s||wt(r[r.length-1],n[n.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,r,n,s){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(s=>(n=s,this.remoteDocumentCache.getEntry(e,r))).next(s=>(n!==null&&vh(n.mutation,s,Tn.empty(),ir.now()),s))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Rt()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Rt()){const s=Wi();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,n).next(i=>{let u=Hf();return i.forEach((c,v)=>{u=u.insert(c,v.overlayedDocument)}),u}))}getOverlayedDocuments(e,r){const n=Wi();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Rt()))}populateOverlays(e,r,n){const s=[];return n.forEach(i=>{r.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((u,c)=>{r.set(u,c)})})}computeViews(e,r,n,s){let i=jn();const u=mh(),c=function(){return mh()}();return r.forEach((v,b)=>{const w=n.get(b.key);s.has(b.key)&&(w===void 0||w.mutation instanceof js)?i=i.insert(b.key,b):w!==void 0?(u.set(b.key,w.mutation.getFieldMask()),vh(w.mutation,b,w.mutation.getFieldMask(),ir.now())):u.set(b.key,Tn.empty())}),this.recalculateAndSaveOverlays(e,i).next(v=>(v.forEach((b,w)=>u.set(b,w)),r.forEach((b,w)=>{var x;return c.set(b,new $U(w,(x=u.get(b))!==null&&x!==void 0?x:null))}),c))}recalculateAndSaveOverlays(e,r){const n=mh();let s=new cr((u,c)=>u-c),i=Rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(u=>{for(const c of u)c.keys().forEach(v=>{const b=r.get(v);if(b===null)return;let w=n.get(v)||Tn.empty();w=c.applyToLocalView(b,w),n.set(v,w);const x=(s.get(c.batchId)||Rt()).add(v);s=s.insert(c.batchId,x)})}).next(()=>{const u=[],c=s.getReverseIterator();for(;c.hasNext();){const v=c.getNext(),b=v.key,w=v.value,x=w7();w.forEach(E=>{if(!i.has(E)){const A=I7(r.get(E),n.get(E));A!==null&&x.set(E,A),i=i.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,b,x))}return Ae.waitFor(u)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,s){return function(u){return nt.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):p7(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,s):this.getDocumentsMatchingCollectionQuery(e,r,n,s)}getNextDocuments(e,r,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,s).next(i=>{const u=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,s-i.size):Ae.resolve(Wi());let c=qh,v=i;return u.next(b=>Ae.forEach(b,(w,x)=>(c<x.largestBatchId&&(c=x.largestBatchId),i.get(w)?Ae.resolve():this.remoteDocumentCache.getEntry(e,w).next(E=>{v=v.insert(w,E)}))).next(()=>this.populateOverlays(e,b,i)).next(()=>this.computeViews(e,v,b,Rt())).next(w=>({batchId:c,changes:y7(w)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new nt(r)).next(n=>{let s=Hf();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s})}getDocumentsMatchingCollectionGroupQuery(e,r,n,s){const i=r.collectionGroup;let u=Hf();return this.indexManager.getCollectionParents(e,i).next(c=>Ae.forEach(c,v=>{const b=function(x,E){return new ju(E,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)}(r,v.child(i));return this.getDocumentsMatchingCollectionQuery(e,b,n,s).next(w=>{w.forEach((x,E)=>{u=u.insert(x,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,r,n,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(u=>(i=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,i,s))).next(u=>{i.forEach((v,b)=>{const w=b.getKey();u.get(w)===null&&(u=u.insert(w,_r.newInvalidDocument(w)))});let c=Hf();return u.forEach((v,b)=>{const w=i.get(v);w!==void 0&&vh(w.mutation,b,Tn.empty(),ir.now()),_c(r,b)&&(c=c.insert(v,b))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qU{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,r){return Ae.resolve(this.dr.get(r))}saveBundleMetadata(e,r){return this.dr.set(r.id,function(s){return{id:s.id,version:s.version,createTime:wn(s.createTime)}}(r)),Ae.resolve()}getNamedQuery(e,r){return Ae.resolve(this.Ar.get(r))}saveNamedQuery(e,r){return this.Ar.set(r.name,function(s){return{name:s.name,query:H7(s.bundledQuery),readTime:wn(s.readTime)}}(r)),Ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(){this.overlays=new cr(nt.comparator),this.Rr=new Map}getOverlay(e,r){return Ae.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Wi();return Ae.forEach(r,s=>this.getOverlay(e,s).next(i=>{i!==null&&n.set(s,i)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((s,i)=>{this.Et(e,r,i)}),Ae.resolve()}removeOverlaysForBatchId(e,r,n){const s=this.Rr.get(n);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Rr.delete(n)),Ae.resolve()}getOverlaysForCollection(e,r,n){const s=Wi(),i=r.length+1,u=new nt(r.child("")),c=this.overlays.getIteratorFrom(u);for(;c.hasNext();){const v=c.getNext().value,b=v.getKey();if(!r.isPrefixOf(b.path))break;b.path.length===i&&v.largestBatchId>n&&s.set(v.getKey(),v)}return Ae.resolve(s)}getOverlaysForCollectionGroup(e,r,n,s){let i=new cr((b,w)=>b-w);const u=this.overlays.getIterator();for(;u.hasNext();){const b=u.getNext().value;if(b.getKey().getCollectionGroup()===r&&b.largestBatchId>n){let w=i.get(b.largestBatchId);w===null&&(w=Wi(),i=i.insert(b.largestBatchId,w)),w.set(b.getKey(),b)}}const c=Wi(),v=i.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((b,w)=>c.set(b,w)),!(c.size()>=s)););return Ae.resolve(c)}Et(e,r,n){const s=this.overlays.get(n.key);if(s!==null){const u=this.Rr.get(s.largestBatchId).delete(n.key);this.Rr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(n.key,new Gw(r,n));let i=this.Rr.get(r);i===void 0&&(i=Rt(),this.Rr.set(r,i)),this.Rr.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{constructor(){this.sessionToken=Tr.EMPTY_BYTE_STRING}getSessionToken(e){return Ae.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(){this.Vr=new Jt(Lr.mr),this.gr=new Jt(Lr.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,r){const n=new Lr(e,r);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.wr(new Lr(e,r))}Sr(e,r){e.forEach(n=>this.removeReference(n,r))}br(e){const r=new nt(new Gt([])),n=new Lr(r,e),s=new Lr(r,e+1),i=[];return this.gr.forEachInRange([n,s],u=>{this.wr(u),i.push(u.key)}),i}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const r=new nt(new Gt([])),n=new Lr(r,e),s=new Lr(r,e+1);let i=Rt();return this.gr.forEachInRange([n,s],u=>{i=i.add(u.key)}),i}containsKey(e){const r=new Lr(e,0),n=this.Vr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Lr{constructor(e,r){this.key=e,this.Cr=r}static mr(e,r){return nt.comparator(e.key,r.key)||wt(e.Cr,r.Cr)}static pr(e,r){return wt(e.Cr,r.Cr)||nt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WU{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Fr=1,this.Mr=new Jt(Lr.mr)}checkEmpty(e){return Ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,s){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Kw(i,r,n,s);this.mutationQueue.push(u);for(const c of s)this.Mr=this.Mr.add(new Lr(c.key,i)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Ae.resolve(u)}lookupMutationBatch(e,r){return Ae.resolve(this.Or(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,s=this.Nr(n),i=s<0?0:s;return Ae.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(this.mutationQueue.length===0?Sa:this.Fr-1)}getAllMutationBatches(e){return Ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Lr(r,0),s=new Lr(r,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([n,s],u=>{const c=this.Or(u.Cr);i.push(c)}),Ae.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Jt(wt);return r.forEach(s=>{const i=new Lr(s,0),u=new Lr(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([i,u],c=>{n=n.add(c.Cr)})}),Ae.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,s=n.length+1;let i=n;nt.isDocumentKey(i)||(i=i.child(""));const u=new Lr(new nt(i),0);let c=new Jt(wt);return this.Mr.forEachWhile(v=>{const b=v.key.path;return!!n.isPrefixOf(b)&&(b.length===s&&(c=c.add(v.Cr)),!0)},u),Ae.resolve(this.Br(c))}Br(e){const r=[];return e.forEach(n=>{const s=this.Or(n);s!==null&&r.push(s)}),r}removeMutationBatch(e,r){ht(this.Lr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.Mr;return Ae.forEach(r.mutations,s=>{const i=new Lr(s.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=n})}qn(e){}containsKey(e,r){const n=new Lr(r,0),s=this.Mr.firstAfterOrEqual(n);return Ae.resolve(r.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ae.resolve()}Lr(e,r){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const r=this.Nr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(e){this.kr=e,this.docs=function(){return new cr(nt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,s=this.docs.get(n),i=s?s.size:0,u=this.kr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:u}),this.size+=u-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Ae.resolve(n?n.document.mutableCopy():_r.newInvalidDocument(r))}getEntries(e,r){let n=jn();return r.forEach(s=>{const i=this.docs.get(s);n=n.insert(s,i?i.document.mutableCopy():_r.newInvalidDocument(s))}),Ae.resolve(n)}getDocumentsMatchingQuery(e,r,n,s){let i=jn();const u=r.path,c=new nt(u.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(c);for(;v.hasNext();){const{key:b,value:{document:w}}=v.getNext();if(!u.isPrefixOf(b.path))break;b.path.length>u.length+1||Bw(F9(w),n)<=0||(s.has(w.key)||_c(r,w))&&(i=i.insert(w.key,w.mutableCopy()))}return Ae.resolve(i)}getAllFromCollectionGroup(e,r,n,s){lt()}qr(e,r){return Ae.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new ZU(this)}getSize(e){return Ae.resolve(this.size)}}class ZU extends eI{constructor(e){super(),this.Ir=e}applyChanges(e){const r=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?r.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(n)}),Ae.waitFor(r)}getFromCache(e,r){return this.Ir.getEntry(e,r)}getAllFromCache(e,r){return this.Ir.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QU{constructor(e){this.persistence=e,this.Qr=new Us(r=>Fa(r),wc),this.lastRemoteSnapshotVersion=mt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Xw,this.targetCount=0,this.Kr=ja.Un()}forEachTarget(e,r){return this.Qr.forEach((n,s)=>r(s)),Ae.resolve()}getLastRemoteSnapshotVersion(e){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ae.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.$r&&(this.$r=r),Ae.resolve()}zn(e){this.Qr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.Kr=new ja(r),this.highestTargetId=r),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,r){return this.zn(r),this.targetCount+=1,Ae.resolve()}updateTargetData(e,r){return this.zn(r),Ae.resolve()}removeTargetData(e,r){return this.Qr.delete(r.target),this.Ur.br(r.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(e,r,n){let s=0;const i=[];return this.Qr.forEach((u,c)=>{c.sequenceNumber<=r&&n.get(c.targetId)===null&&(this.Qr.delete(u),i.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),Ae.waitFor(i).next(()=>s)}getTargetCount(e){return Ae.resolve(this.targetCount)}getTargetData(e,r){const n=this.Qr.get(r)||null;return Ae.resolve(n)}addMatchingKeys(e,r,n){return this.Ur.yr(r,n),Ae.resolve()}removeMatchingKeys(e,r,n){this.Ur.Sr(r,n);const s=this.persistence.referenceDelegate,i=[];return s&&r.forEach(u=>{i.push(s.markPotentiallyOrphaned(e,u))}),Ae.waitFor(i)}removeMatchingKeysForTargetId(e,r){return this.Ur.br(r),Ae.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Ur.vr(r);return Ae.resolve(n)}containsKey(e,r){return Ae.resolve(this.Ur.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,r){this.Wr={},this.overlays={},this.Gr=new ri(0),this.zr=!1,this.zr=!0,this.jr=new KU,this.referenceDelegate=e(this),this.Hr=new QU(this),this.indexManager=new BU,this.remoteDocumentCache=function(s){return new GU(s)}(n=>this.referenceDelegate.Jr(n)),this.serializer=new $7(r),this.Yr=new qU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new HU,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.Wr[e.toKey()];return n||(n=new WU(r,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,r,n){He("MemoryPersistence","Starting transaction:",e);const s=new YU(this.Gr.next());return this.referenceDelegate.Zr(),n(s).next(i=>this.referenceDelegate.Xr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}ei(e,r){return Ae.or(Object.values(this.Wr).map(n=>()=>n.containsKey(e,r)))}}class YU extends U9{constructor(e){super(),this.currentSequenceNumber=e}}class xm{constructor(e){this.persistence=e,this.ti=new Xw,this.ni=null}static ri(e){return new xm(e)}get ii(){if(this.ni)return this.ni;throw lt()}addReference(e,r,n){return this.ti.addReference(n,r),this.ii.delete(n.toString()),Ae.resolve()}removeReference(e,r,n){return this.ti.removeReference(n,r),this.ii.add(n.toString()),Ae.resolve()}markPotentiallyOrphaned(e,r){return this.ii.add(r.toString()),Ae.resolve()}removeTarget(e,r){this.ti.br(r.targetId).forEach(s=>this.ii.add(s.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(s=>{s.forEach(i=>this.ii.add(i.toString()))}).next(()=>n.removeTargetData(e,r))}Zr(){this.ni=new Set}Xr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.ii,n=>{const s=nt.fromPath(n);return this.si(e,s).next(i=>{i||r.removeEntry(s,mt.min())})}).next(()=>(this.ni=null,r.apply(e)))}updateLimboDocument(e,r){return this.si(e,r).next(n=>{n?this.ii.delete(r.toString()):this.ii.add(r.toString())})}Jr(e){return 0}si(e,r){return Ae.or([()=>Ae.resolve(this.ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.ei(e,r)])}}class yp{constructor(e,r){this.persistence=e,this.oi=new Us(n=>hn(n.path),(n,s)=>n.isEqual(s)),this.garbageCollector=X7(this,r)}static ri(e,r){return new yp(e,r)}Zr(){}Xr(e){return Ae.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}nr(e){const r=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(n=>r.next(s=>n+s))}sr(e){let r=0;return this.rr(e,n=>{r++}).next(()=>r)}rr(e,r){return Ae.forEach(this.oi,(n,s)=>this.ar(e,n,s).next(i=>i?Ae.resolve():r(s)))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.qr(e,u=>this.ar(e,u,r).next(c=>{c||(n++,i.removeEntry(u,mt.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,r){return this.oi.set(r,e.currentSequenceNumber),Ae.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.oi.set(n,e.currentSequenceNumber),Ae.resolve()}removeReference(e,r,n){return this.oi.set(n,e.currentSequenceNumber),Ae.resolve()}updateLimboDocument(e,r){return this.oi.set(r,e.currentSequenceNumber),Ae.resolve()}Jr(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=f0(e.data.value)),r}ar(e,r,n){return Ae.or([()=>this.persistence.ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const s=this.oi.get(r);return Ae.resolve(s!==void 0&&s>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e){this.serializer=e}B(e,r,n,s){const i=new lm("createOrUpgrade",r);n<1&&s>=1&&(function(v){v.createObjectStore(yc)}(e),function(v){v.createObjectStore(Wh,{keyPath:hV}),v.createObjectStore(bi,{keyPath:f6,autoIncrement:!0}).createIndex(_a,h6,{unique:!0}),v.createObjectStore(fu)}(e),X6(e),function(v){v.createObjectStore(oa)}(e));let u=Ae.resolve();return n<3&&s>=3&&(n!==0&&(function(v){v.deleteObjectStore(cu),v.deleteObjectStore(hu),v.deleteObjectStore(Ia)}(e),X6(e)),u=u.next(()=>function(v){const b=v.store(Ia),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:mt.min().toTimestamp(),targetCount:0};return b.put(ap,w)}(i))),n<4&&s>=4&&(n!==0&&(u=u.next(()=>function(v,b){return b.store(bi).G().next(x=>{v.deleteObjectStore(bi),v.createObjectStore(bi,{keyPath:f6,autoIncrement:!0}).createIndex(_a,h6,{unique:!0});const E=b.store(bi),A=x.map(N=>E.put(N));return Ae.waitFor(A)})}(e,i))),u=u.next(()=>{(function(v){v.createObjectStore(du,{keyPath:_V})})(e)})),n<5&&s>=5&&(u=u.next(()=>this._i(i))),n<6&&s>=6&&(u=u.next(()=>(function(v){v.createObjectStore(Gh)}(e),this.ai(i)))),n<7&&s>=7&&(u=u.next(()=>this.ui(i))),n<8&&s>=8&&(u=u.next(()=>this.ci(e,i))),n<9&&s>=9&&(u=u.next(()=>{(function(v){v.objectStoreNames.contains("remoteDocumentChanges")&&v.deleteObjectStore("remoteDocumentChanges")})(e)})),n<10&&s>=10&&(u=u.next(()=>this.li(i))),n<11&&s>=11&&(u=u.next(()=>{(function(v){v.createObjectStore(fm,{keyPath:bV})})(e),function(v){v.createObjectStore(hm,{keyPath:xV})}(e)})),n<12&&s>=12&&(u=u.next(()=>{(function(v){const b=v.createObjectStore(cm,{keyPath:RV});b.createIndex(Vy,kV,{unique:!1}),b.createIndex(W9,CV,{unique:!1})})(e)})),n<13&&s>=13&&(u=u.next(()=>function(v){const b=v.createObjectStore(op,{keyPath:dV});b.createIndex(l0,pV),b.createIndex($9,mV)}(e)).next(()=>this.hi(e,i)).next(()=>e.deleteObjectStore(oa))),n<14&&s>=14&&(u=u.next(()=>this.Pi(e,i))),n<15&&s>=15&&(u=u.next(()=>function(v){v.createObjectStore(Lw,{keyPath:MV,autoIncrement:!0}).createIndex(Fy,EV,{unique:!1}),v.createObjectStore(lp,{keyPath:SV}).createIndex(H9,IV,{unique:!1}),v.createObjectStore(up,{keyPath:AV}).createIndex(K9,TV,{unique:!1})}(e))),n<16&&s>=16&&(u=u.next(()=>{r.objectStore(lp).clear()}).next(()=>{r.objectStore(up).clear()})),n<17&&s>=17&&(u=u.next(()=>{(function(v){v.createObjectStore(Fw,{keyPath:PV})})(e)})),u}ai(e){let r=0;return e.store(oa).Z((n,s)=>{r+=gp(s)}).next(()=>{const n={byteSize:r};return e.store(Gh).put(Ly,n)})}_i(e){const r=e.store(Wh),n=e.store(bi);return r.G().next(s=>Ae.forEach(s,i=>{const u=IDBKeyRange.bound([i.userId,Sa],[i.userId,i.lastAcknowledgedBatchId]);return n.G(_a,u).next(c=>Ae.forEach(c,v=>{ht(v.userId===i.userId);const b=fa(this.serializer,v);return Z7(e,i.userId,b).next(()=>{})}))}))}ui(e){const r=e.store(cu),n=e.store(oa);return e.store(Ia).get(ap).next(s=>{const i=[];return n.Z((u,c)=>{const v=new Gt(u),b=function(x){return[0,hn(x)]}(v);i.push(r.get(b).next(w=>w?Ae.resolve():(x=>r.put({targetId:0,path:hn(x),sequenceNumber:s.highestListenSequenceNumber}))(v)))}).next(()=>Ae.waitFor(i))})}ci(e,r){e.createObjectStore(Zh,{keyPath:wV});const n=r.store(Zh),s=new Jw,i=u=>{if(s.add(u)){const c=u.lastSegment(),v=u.popLast();return n.put({collectionId:c,parent:hn(v)})}};return r.store(oa).Z({Y:!0},(u,c)=>{const v=new Gt(u);return i(v.popLast())}).next(()=>r.store(fu).Z({Y:!0},([u,c,v],b)=>{const w=Ki(c);return i(w.popLast())}))}li(e){const r=e.store(hu);return r.Z((n,s)=>{const i=Wf(s),u=q7(this.serializer,i);return r.put(u)})}hi(e,r){const n=r.store(oa),s=[];return n.Z((i,u)=>{const c=r.store(op),v=function(x){return x.document?new nt(Gt.fromString(x.document.name).popFirst(5)):x.noDocument?nt.fromSegments(x.noDocument.path):x.unknownDocument?nt.fromSegments(x.unknownDocument.path):lt()}(u).path.toArray(),b={prefixPath:v.slice(0,v.length-2),collectionGroup:v[v.length-2],documentId:v[v.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};s.push(c.put(b))}).next(()=>Ae.waitFor(s))}Pi(e,r){const n=r.store(bi),s=tI(this.serializer),i=new e_(xm.ri,this.serializer.Tt);return n.G().next(u=>{const c=new Map;return u.forEach(v=>{var b;let w=(b=c.get(v.userId))!==null&&b!==void 0?b:Rt();fa(this.serializer,v).keys().forEach(x=>w=w.add(x)),c.set(v.userId,w)}),Ae.forEach(c,(v,b)=>{const w=new Wr(b),x=_m.It(this.serializer,w),E=i.getIndexManager(w),A=bm.It(w,this.serializer,E,i.referenceDelegate);return new rI(s,A,x,E).recalculateAndSaveOverlaysForDocumentKeys(new Uy(r,ri.ae),v).next()})})}}function X6(t){t.createObjectStore(cu,{keyPath:gV}).createIndex(Ow,yV,{unique:!0}),t.createObjectStore(hu,{keyPath:"targetId"}).createIndex(q9,vV,{unique:!0}),t.createObjectStore(Ia)}const Ys="IndexedDbPersistence",dg=18e5,pg=5e3,mg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",XU="main";class t_{constructor(e,r,n,s,i,u,c,v,b,w,x=17){if(this.allowTabSynchronization=e,this.persistenceKey=r,this.clientId=n,this.Ti=i,this.window=u,this.document=c,this.Ii=b,this.Ei=w,this.di=x,this.Gr=null,this.zr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ai=null,this.inForeground=!1,this.Ri=null,this.Vi=null,this.mi=Number.NEGATIVE_INFINITY,this.fi=E=>Promise.resolve(),!t_.D())throw new Xe(Ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new UU(this,s),this.gi=r+XU,this.serializer=new $7(v),this.pi=new Ao(this.gi,this.di,new JU(this.serializer)),this.jr=new TU,this.Hr=new OU(this.referenceDelegate,this.serializer),this.remoteDocumentCache=tI(this.serializer),this.Yr=new AU,this.window&&this.window.localStorage?this.yi=this.window.localStorage:(this.yi=null,w===!1&&gn(Ys,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Xe(Ue.FAILED_PRECONDITION,mg);return this.Si(),this.bi(),this.Di(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Hr.getHighestSequenceNumber(e))}).then(e=>{this.Gr=new ri(e,this.Ii)}).then(()=>{this.zr=!0}).catch(e=>(this.pi&&this.pi.close(),Promise.reject(e)))}Ci(e){return this.fi=async r=>{if(this.started)return e(r)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.pi.k(async r=>{r.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ti.enqueueAndForget(async()=>{this.started&&await this.wi()}))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Cd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Fi(e).next(r=>{r||(this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Mi(e)).next(r=>this.isPrimary&&!r?this.xi(e).next(()=>!1):!!r&&this.Oi(e).next(()=>!0))).catch(e=>{if(zo(e))return He(Ys,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return He(Ys,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ti.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Fi(e){return Rf(e).get(ul).next(r=>Ae.resolve(this.Ni(r)))}Bi(e){return Cd(e).delete(this.clientId)}async Li(){if(this.isPrimary&&!this.ki(this.mi,dg)){this.mi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const n=Dr(r,du);return n.G().next(s=>{const i=this.qi(s,dg),u=s.filter(c=>i.indexOf(c)===-1);return Ae.forEach(u,c=>n.delete(c.clientId)).next(()=>u)})}).catch(()=>[]);if(this.yi)for(const r of e)this.yi.removeItem(this.Qi(r.clientId))}}Di(){this.Vi=this.Ti.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Li()).then(()=>this.Di()))}Ni(e){return!!e&&e.ownerId===this.clientId}Mi(e){return this.Ei?Ae.resolve(!0):Rf(e).get(ul).next(r=>{if(r!==null&&this.ki(r.leaseTimestampMs,pg)&&!this.$i(r.ownerId)){if(this.Ni(r)&&this.networkEnabled)return!0;if(!this.Ni(r)){if(!r.allowTabSynchronization)throw new Xe(Ue.FAILED_PRECONDITION,mg);return!1}}return!(!this.networkEnabled||!this.inForeground)||Cd(e).G().next(n=>this.qi(n,pg).find(s=>{if(this.clientId!==s.clientId){const i=!this.networkEnabled&&s.networkEnabled,u=!this.inForeground&&s.inForeground,c=this.networkEnabled===s.networkEnabled;if(i||u&&c)return!0}return!1})===void 0)}).next(r=>(this.isPrimary!==r&&He(Ys,`Client ${r?"is":"is not"} eligible for a primary lease.`),r))}async shutdown(){this.zr=!1,this.Ui(),this.Vi&&(this.Vi.cancel(),this.Vi=null),this.Ki(),this.Wi(),await this.pi.runTransaction("shutdown","readwrite",[yc,du],e=>{const r=new Uy(e,ri.ae);return this.xi(r).next(()=>this.Bi(r))}),this.pi.close(),this.Gi()}qi(e,r){return e.filter(n=>this.ki(n.updateTimeMs,r)&&!this.$i(n.clientId))}zi(){return this.runTransaction("getActiveClients","readonly",e=>Cd(e).G().next(r=>this.qi(r,dg).map(n=>n.clientId)))}get started(){return this.zr}getGlobalsCache(){return this.jr}getMutationQueue(e,r){return bm.It(e,this.serializer,r,this.referenceDelegate)}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new DU(e,this.serializer.Tt.databaseId)}getDocumentOverlayCache(e){return _m.It(this.serializer,e)}getBundleCache(){return this.Yr}runTransaction(e,r,n){He(Ys,"Starting transaction:",e);const s=r==="readonly"?"readonly":"readwrite",i=function(v){return v===17?DV:v===16?BV:v===15?Vw:v===14?Q9:v===13?Z9:v===12?NV:v===11?G9:void lt()}(this.di);let u;return this.pi.runTransaction(e,s,i,c=>(u=new Uy(c,this.Gr?this.Gr.next():ri.ae),r==="readwrite-primary"?this.Fi(u).next(v=>!!v||this.Mi(u)).next(v=>{if(!v)throw gn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ti.enqueueRetryable(()=>this.fi(!1)),new Xe(Ue.FAILED_PRECONDITION,V9);return n(u)}).next(v=>this.Oi(u).next(()=>v)):this.ji(u).next(()=>n(u)))).then(c=>(u.raiseOnCommittedEvent(),c))}ji(e){return Rf(e).get(ul).next(r=>{if(r!==null&&this.ki(r.leaseTimestampMs,pg)&&!this.$i(r.ownerId)&&!this.Ni(r)&&!(this.Ei||this.allowTabSynchronization&&r.allowTabSynchronization))throw new Xe(Ue.FAILED_PRECONDITION,mg)})}Oi(e){const r={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Rf(e).put(ul,r)}static D(){return Ao.D()}xi(e){const r=Rf(e);return r.get(ul).next(n=>this.Ni(n)?(He(Ys,"Releasing primary lease."),r.delete(ul)):Ae.resolve())}ki(e,r){const n=Date.now();return!(e<n-r)&&(!(e>n)||(gn(`Detected an update time that is in the future: ${e} > ${n}`),!1))}Si(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ri=()=>{this.Ti.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.wi()))},this.document.addEventListener("visibilitychange",this.Ri),this.inForeground=this.document.visibilityState==="visible")}Ki(){this.Ri&&(this.document.removeEventListener("visibilitychange",this.Ri),this.Ri=null)}bi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Ai=()=>{this.Ui();const r=/(?:Version|Mobile)\/1[456]/;g9()&&(navigator.appVersion.match(r)||navigator.userAgent.match(r))&&this.Ti.enterRestrictedMode(!0),this.Ti.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ai))}Wi(){this.Ai&&(this.window.removeEventListener("pagehide",this.Ai),this.Ai=null)}$i(e){var r;try{const n=((r=this.yi)===null||r===void 0?void 0:r.getItem(this.Qi(e)))!==null;return He(Ys,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return gn(Ys,"Failed to get zombied client id.",n),!1}}Ui(){if(this.yi)try{this.yi.setItem(this.Qi(this.clientId),String(Date.now()))}catch(e){gn("Failed to set zombie client id.",e)}}Gi(){if(this.yi)try{this.yi.removeItem(this.Qi(this.clientId))}catch{}}Qi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Rf(t){return Dr(t,yc)}function Cd(t){return Dr(t,du)}function ej(t,e){let r=t.projectId;return t.isDefaultDatabase||(r+="."+t.database),"firestore/"+e+"/"+r+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(e,r,n,s){this.targetId=e,this.fromCache=r,this.Hi=n,this.Ji=s}static Yi(e,r){let n=Rt(),s=Rt();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new r_(e,r.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return g9()?8:j9(ep())>0?6:4}()}initialize(e,r){this.ns=e,this.indexManager=r,this.Zi=!0}getDocumentsMatchingQuery(e,r,n,s){const i={result:null};return this.rs(e,r).next(u=>{i.result=u}).next(()=>{if(!i.result)return this.ss(e,r,s,n).next(u=>{i.result=u})}).next(()=>{if(i.result)return;const u=new tj;return this._s(e,r,u).next(c=>{if(i.result=c,this.Xi)return this.us(e,r,u,c.size)})}).next(()=>i.result)}us(e,r,n,s){return n.documentReadCount<this.es?(bl()<=qt.DEBUG&&He("QueryEngine","SDK will not create cache indexes for query:",xl(r),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Ae.resolve()):(bl()<=qt.DEBUG&&He("QueryEngine","Query:",xl(r),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.ts*s?(bl()<=qt.DEBUG&&He("QueryEngine","The SDK decides to create cache indexes for query:",xl(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ii(r))):Ae.resolve())}rs(e,r){if(E6(r))return Ae.resolve(null);let n=ii(r);return this.indexManager.getIndexType(e,n).next(s=>s===0?null:(r.limit!==null&&s===1&&(r=Wy(r,null,"F"),n=ii(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(i=>{const u=Rt(...i);return this.ns.getDocuments(e,u).next(c=>this.indexManager.getMinOffset(e,n).next(v=>{const b=this.cs(r,c);return this.ls(r,b,u,v.readTime)?this.rs(e,Wy(r,null,"F")):this.hs(e,b,r,v)}))})))}ss(e,r,n,s){return E6(r)||s.isEqual(mt.min())?Ae.resolve(null):this.ns.getDocuments(e,n).next(i=>{const u=this.cs(r,i);return this.ls(r,u,n,s)?Ae.resolve(null):(bl()<=qt.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),xl(r)),this.hs(e,u,r,iV(s,qh)).next(c=>c))})}cs(e,r){let n=new Jt(v7(e));return r.forEach((s,i)=>{_c(e,i)&&(n=n.add(i))}),n}ls(e,r,n,s){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const i=e.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}_s(e,r,n){return bl()<=qt.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",xl(r)),this.ns.getDocumentsMatchingQuery(e,r,qn.min(),n)}hs(e,r,n,s){return this.ns.getDocumentsMatchingQuery(e,n,s).next(i=>(r.forEach(u=>{i=i.insert(u.key,u)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="LocalStore",rj=3e8;class nj{constructor(e,r,n,s){this.persistence=e,this.Ps=r,this.serializer=s,this.Ts=new cr(wt),this.Is=new Us(i=>Fa(i),wc),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rI(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.Ts))}}function iI(t,e,r,n){return new nj(t,e,r,n)}async function sI(t,e){const r=bt(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let s;return r.mutationQueue.getAllMutationBatches(n).next(i=>(s=i,r.As(e),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const u=[],c=[];let v=Rt();for(const b of s){u.push(b.batchId);for(const w of b.mutations)v=v.add(w.key)}for(const b of i){c.push(b.batchId);for(const w of b.mutations)v=v.add(w.key)}return r.localDocuments.getDocuments(n,v).next(b=>({Rs:b,removedBatchIds:u,addedBatchIds:c}))})})}function ij(t,e){const r=bt(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const s=e.batch.keys(),i=r.ds.newChangeBuffer({trackRemovals:!0});return function(c,v,b,w){const x=b.batch,E=x.keys();let A=Ae.resolve();return E.forEach(N=>{A=A.next(()=>w.getEntry(v,N)).next(D=>{const W=b.docVersions.get(N);ht(W!==null),D.version.compareTo(W)<0&&(x.applyToRemoteDocument(D,b),D.isValidDocument()&&(D.setReadTime(b.commitVersion),w.addEntry(D)))})}),A.next(()=>c.mutationQueue.removeMutationBatch(v,x))}(r,n,e,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let v=Rt();for(let b=0;b<c.mutationResults.length;++b)c.mutationResults[b].transformResults.length>0&&(v=v.add(c.batch.mutations[b].key));return v}(e))).next(()=>r.localDocuments.getDocuments(n,s))})}function oI(t){const e=bt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Hr.getLastRemoteSnapshotVersion(r))}function sj(t,e){const r=bt(t),n=e.snapshotVersion;let s=r.Ts;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const u=r.ds.newChangeBuffer({trackRemovals:!0});s=r.Ts;const c=[];e.targetChanges.forEach((w,x)=>{const E=s.get(x);if(!E)return;c.push(r.Hr.removeMatchingKeys(i,w.removedDocuments,x).next(()=>r.Hr.addMatchingKeys(i,w.addedDocuments,x)));let A=E.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(x)!==null?A=A.withResumeToken(Tr.EMPTY_BYTE_STRING,mt.min()).withLastLimboFreeSnapshotVersion(mt.min()):w.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(w.resumeToken,n)),s=s.insert(x,A),function(D,W,P){return D.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=rj?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(E,A,w)&&c.push(r.Hr.updateTargetData(i,A))});let v=jn(),b=Rt();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&c.push(r.persistence.referenceDelegate.updateLimboDocument(i,w))}),c.push(oj(i,u,e.documentUpdates).next(w=>{v=w.Vs,b=w.fs})),!n.isEqual(mt.min())){const w=r.Hr.getLastRemoteSnapshotVersion(i).next(x=>r.Hr.setTargetsMetadata(i,i.currentSequenceNumber,n));c.push(w)}return Ae.waitFor(c).next(()=>u.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,v,b)).next(()=>v)}).then(i=>(r.Ts=s,i))}function oj(t,e,r){let n=Rt(),s=Rt();return r.forEach(i=>n=n.add(i)),e.getEntries(t,n).next(i=>{let u=jn();return r.forEach((c,v)=>{const b=i.get(c);v.isFoundDocument()!==b.isFoundDocument()&&(s=s.add(c)),v.isNoDocument()&&v.version.isEqual(mt.min())?(e.removeEntry(c,v.readTime),u=u.insert(c,v)):!b.isValidDocument()||v.version.compareTo(b.version)>0||v.version.compareTo(b.version)===0&&b.hasPendingWrites?(e.addEntry(v),u=u.insert(c,v)):He(n_,"Ignoring outdated watch update for ",c,". Current version:",b.version," Watch version:",v.version)}),{Vs:u,fs:s}})}function aj(t,e){const r=bt(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=Sa),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function lj(t,e){const r=bt(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let s;return r.Hr.getTargetData(n,e).next(i=>i?(s=i,Ae.resolve(s)):r.Hr.allocateTargetId(n).next(u=>(s=new _s(e,u,"TargetPurposeListen",n.currentSequenceNumber),r.Hr.addTargetData(n,s).next(()=>s))))}).then(n=>{const s=r.Ts.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(r.Ts=r.Ts.insert(n.targetId,n),r.Is.set(e,n.targetId)),n})}async function t2(t,e,r){const n=bt(t),s=n.Ts.get(e),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,u=>n.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!zo(u))throw u;He(n_,`Failed to update sequence numbers for target ${e}: ${u}`)}n.Ts=n.Ts.remove(e),n.Is.delete(s.target)}function e4(t,e,r){const n=bt(t);let s=mt.min(),i=Rt();return n.persistence.runTransaction("Execute query","readwrite",u=>function(v,b,w){const x=bt(v),E=x.Is.get(w);return E!==void 0?Ae.resolve(x.Ts.get(E)):x.Hr.getTargetData(b,w)}(n,u,ii(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,n.Hr.getMatchingKeysForTargetId(u,c.targetId).next(v=>{i=v})}).next(()=>n.Ps.getDocumentsMatchingQuery(u,e,r?s:mt.min(),r?i:Rt())).next(c=>(uj(n,QV(e),c),{documents:c,gs:i})))}function uj(t,e,r){let n=t.Es.get(e)||mt.min();r.forEach((s,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),t.Es.set(e,n)}class t4{constructor(){this.activeTargetIds=rU()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aI{constructor(){this.ho=new t4,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,r,n){this.Po[e]=r}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new t4,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4="ConnectivityMonitor";class n4{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){He(r4,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){He(r4,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pd=null;function r2(){return Pd===null?Pd=function(){return 268435456+Math.round(2147483648*Math.random())}():Pd++,"0x"+Pd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="RestConnection",hj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cj{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=r+"://"+e.host,this.yo=`projects/${n}/databases/${s}`,this.wo=this.databaseId.database===fp?`project_id=${n}`:`project_id=${n}&database_id=${s}`}So(e,r,n,s,i){const u=r2(),c=this.bo(e,r.toUriEncodedString());He(vg,`Sending RPC '${e}' ${u}:`,c,n);const v={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(v,s,i),this.vo(e,c,v,n).then(b=>(He(vg,`Received RPC '${e}' ${u}: `,b),b),b=>{throw Oa(vg,`RPC '${e}' ${u} failed with error: `,b,"url: ",c,"request:",n),b})}Co(e,r,n,s,i,u){return this.So(e,r,n,s,i)}Do(e,r,n){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Uu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,i)=>e[i]=s),n&&n.headers.forEach((s,i)=>e[i]=s)}bo(e,r){const n=hj[e];return`${this.po}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class pj extends cj{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,r,n,s){const i=r2();return new Promise((u,c)=>{const v=new R9;v.setWithCredentials(!0),v.listenOnce(k9.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case s0.NO_ERROR:const w=v.getResponseJson();He(rn,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(w)),u(w);break;case s0.TIMEOUT:He(rn,`RPC '${e}' ${i} timed out`),c(new Xe(Ue.DEADLINE_EXCEEDED,"Request time out"));break;case s0.HTTP_ERROR:const x=v.getStatus();if(He(rn,`RPC '${e}' ${i} failed with status:`,x,"response text:",v.getResponseText()),x>0){let E=v.getResponseJson();Array.isArray(E)&&(E=E[0]);const A=E==null?void 0:E.error;if(A&&A.status&&A.message){const N=function(W){const P=W.toLowerCase().replace(/_/g,"-");return Object.values(Ue).indexOf(P)>=0?P:Ue.UNKNOWN}(A.status);c(new Xe(N,A.message))}else c(new Xe(Ue.UNKNOWN,"Server responded with status "+v.getStatus()))}else c(new Xe(Ue.UNAVAILABLE,"Connection failed."));break;default:lt()}}finally{He(rn,`RPC '${e}' ${i} completed.`)}});const b=JSON.stringify(s);He(rn,`RPC '${e}' ${i} sending request:`,s),v.send(r,"POST",b,n,15)})}Wo(e,r,n){const s=r2(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=N9(),c=P9(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},b=this.longPollingOptions.timeoutSeconds;b!==void 0&&(v.longPollingTimeout=Math.round(1e3*b)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Do(v.initMessageHeaders,r,n),v.encodeInitMessageHeaders=!0;const w=i.join("");He(rn,`Creating RPC '${e}' stream ${s}: ${w}`,v);const x=u.createWebChannel(w,v);let E=!1,A=!1;const N=new dj({Fo:W=>{A?He(rn,`Not sending because RPC '${e}' stream ${s} is closed:`,W):(E||(He(rn,`Opening RPC '${e}' stream ${s} transport.`),x.open(),E=!0),He(rn,`RPC '${e}' stream ${s} sending:`,W),x.send(W))},Mo:()=>x.close()}),D=(W,P,C)=>{W.listen(P,z=>{try{C(z)}catch(K){setTimeout(()=>{throw K},0)}})};return D(x,qf.EventType.OPEN,()=>{A||(He(rn,`RPC '${e}' stream ${s} transport opened.`),N.Qo())}),D(x,qf.EventType.CLOSE,()=>{A||(A=!0,He(rn,`RPC '${e}' stream ${s} transport closed`),N.Uo())}),D(x,qf.EventType.ERROR,W=>{A||(A=!0,Oa(rn,`RPC '${e}' stream ${s} transport errored:`,W),N.Uo(new Xe(Ue.UNAVAILABLE,"The operation could not be completed")))}),D(x,qf.EventType.MESSAGE,W=>{var P;if(!A){const C=W.data[0];ht(!!C);const z=C,K=(z==null?void 0:z.error)||((P=z[0])===null||P===void 0?void 0:P.error);if(K){He(rn,`RPC '${e}' stream ${s} received error:`,K);const ne=K.status;let ue=function(j){const Q=Er[j];if(Q!==void 0)return R7(Q)}(ne),G=K.message;ue===void 0&&(ue=Ue.INTERNAL,G="Unknown error status: "+ne+" with message "+K.message),A=!0,N.Uo(new Xe(ue,G)),x.close()}else He(rn,`RPC '${e}' stream ${s} received:`,C),N.Ko(C)}}),D(c,C9.STAT_EVENT,W=>{W.stat===By.PROXY?He(rn,`RPC '${e}' stream ${s} detected buffering proxy`):W.stat===By.NOPROXY&&He(rn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{N.$o()},0),N}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(){return typeof window<"u"?window:null}function p0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(t){return new vU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,r,n=1e3,s=1.5,i=6e4){this.Ti=e,this.timerId=r,this.Go=n,this.zo=s,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const r=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),s=Math.max(0,r-n);s>0&&He("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i4="PersistentStream";class uI{constructor(e,r,n,s,i,u,c,v){this.Ti=e,this.n_=n,this.r_=s,this.connection=i,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=c,this.listener=v,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new lI(e,r)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,r){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():r&&r.code===Ue.RESOURCE_EXHAUSTED?(gn(r.toString()),gn("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):r&&r.code===Ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(r)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),r=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,s])=>{this.i_===r&&this.V_(n,s)},n=>{e(()=>{const s=new Xe(Ue.UNKNOWN,"Fetching auth token failed: "+n.message);return this.m_(s)})})}V_(e,r){const n=this.R_(this.i_);this.stream=this.f_(e,r),this.stream.xo(()=>{n(()=>this.listener.xo())}),this.stream.No(()=>{n(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{n(()=>this.m_(s))}),this.stream.onMessage(s=>{n(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return He(i4,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return r=>{this.Ti.enqueueAndForget(()=>this.i_===e?r():(He(i4,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vj extends uI{constructor(e,r,n,s,i,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,s,u),this.serializer=i}f_(e,r){return this.connection.Wo("Listen",e,r)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const r=wU(this.serializer,e),n=function(i){if(!("targetChange"in i))return mt.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?mt.min():u.readTime?wn(u.readTime):mt.min()}(e);return this.listener.p_(r,n)}y_(e){const r={};r.database=Qy(this.serializer),r.addTarget=function(i,u){let c;const v=u.target;if(c=hp(v)?{documents:L7(i,v)}:{query:F7(i,v).ht},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=P7(i,u.resumeToken);const b=Gy(i,u.expectedCount);b!==null&&(c.expectedCount=b)}else if(u.snapshotVersion.compareTo(mt.min())>0){c.readTime=xu(i,u.snapshotVersion.toTimestamp());const b=Gy(i,u.expectedCount);b!==null&&(c.expectedCount=b)}return c}(this.serializer,e);const n=bU(this.serializer,e);n&&(r.labels=n),this.I_(r)}w_(e){const r={};r.database=Qy(this.serializer),r.removeTarget=e,this.I_(r)}}class gj extends uI{constructor(e,r,n,s,i,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,s,u),this.serializer=i}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,r){return this.connection.Wo("Write",e,r)}g_(e){return ht(!!e.streamToken),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const r=_U(e.writeResults,e.commitTime),n=wn(e.commitTime);return this.listener.v_(n,r)}C_(){const e={};e.database=Qy(this.serializer),this.I_(e)}b_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>pp(this.serializer,n))};this.I_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{}class wj extends yj{constructor(e,r,n,s){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new Xe(Ue.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,r,n,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.connection.So(e,Zy(r,n),s,i,u)).catch(i=>{throw i.name==="FirebaseError"?(i.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Xe(Ue.UNKNOWN,i.toString())})}Co(e,r,n,s,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.Co(e,Zy(r,n),s,u,c,i)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Xe(Ue.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class _j{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(gn(r),this.N_=!1):He("OnlineStateTracker",r)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za="RemoteStore";class bj{constructor(e,r,n,s,i){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To(u=>{n.enqueueAndForget(async()=>{Ya(this)&&(He(za,"Restarting streams for network reachability change."),await async function(v){const b=bt(v);b.W_.add(4),await Mc(b),b.j_.set("Unknown"),b.W_.delete(4),await Em(b)}(this))})}),this.j_=new _j(n,s)}}async function Em(t){if(Ya(t))for(const e of t.G_)await e(!0)}async function Mc(t){for(const e of t.G_)await e(!1)}function fI(t,e){const r=bt(t);r.K_.has(e.targetId)||(r.K_.set(e.targetId,e),a_(r)?o_(r):$u(r).c_()&&s_(r,e))}function i_(t,e){const r=bt(t),n=$u(r);r.K_.delete(e),n.c_()&&hI(r,e),r.K_.size===0&&(n.c_()?n.P_():Ya(r)&&r.j_.set("Unknown"))}function s_(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(mt.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}$u(t).y_(e)}function hI(t,e){t.H_.Ne(e),$u(t).w_(e)}function o_(t){t.H_=new cU({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),$u(t).start(),t.j_.B_()}function a_(t){return Ya(t)&&!$u(t).u_()&&t.K_.size>0}function Ya(t){return bt(t).W_.size===0}function cI(t){t.H_=void 0}async function xj(t){t.j_.set("Online")}async function Mj(t){t.K_.forEach((e,r)=>{s_(t,e)})}async function Ej(t,e){cI(t),a_(t)?(t.j_.q_(e),o_(t)):t.j_.set("Unknown")}async function Sj(t,e,r){if(t.j_.set("Online"),e instanceof C7&&e.state===2&&e.cause)try{await async function(s,i){const u=i.cause;for(const c of i.targetIds)s.K_.has(c)&&(await s.remoteSyncer.rejectListen(c,u),s.K_.delete(c),s.H_.removeTarget(c))}(t,e)}catch(n){He(za,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await wp(t,n)}else if(e instanceof d0?t.H_.We(e):e instanceof k7?t.H_.Ze(e):t.H_.je(e),!r.isEqual(mt.min()))try{const n=await oI(t.localStore);r.compareTo(n)>=0&&await function(i,u){const c=i.H_.ot(u);return c.targetChanges.forEach((v,b)=>{if(v.resumeToken.approximateByteSize()>0){const w=i.K_.get(b);w&&i.K_.set(b,w.withResumeToken(v.resumeToken,u))}}),c.targetMismatches.forEach((v,b)=>{const w=i.K_.get(v);if(!w)return;i.K_.set(v,w.withResumeToken(Tr.EMPTY_BYTE_STRING,w.snapshotVersion)),hI(i,v);const x=new _s(w.target,v,b,w.sequenceNumber);s_(i,x)}),i.remoteSyncer.applyRemoteEvent(c)}(t,r)}catch(n){He(za,"Failed to raise snapshot:",n),await wp(t,n)}}async function wp(t,e,r){if(!zo(e))throw e;t.W_.add(1),await Mc(t),t.j_.set("Offline"),r||(r=()=>oI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{He(za,"Retrying IndexedDB access"),await r(),t.W_.delete(1),await Em(t)})}function dI(t,e){return e().catch(r=>wp(t,r,e))}async function Ec(t){const e=bt(t),r=Bo(e);let n=e.U_.length>0?e.U_[e.U_.length-1].batchId:Sa;for(;Ij(e);)try{const s=await aj(e.localStore,n);if(s===null){e.U_.length===0&&r.P_();break}n=s.batchId,Aj(e,s)}catch(s){await wp(e,s)}pI(e)&&mI(e)}function Ij(t){return Ya(t)&&t.U_.length<10}function Aj(t,e){t.U_.push(e);const r=Bo(t);r.c_()&&r.S_&&r.b_(e.mutations)}function pI(t){return Ya(t)&&!Bo(t).u_()&&t.U_.length>0}function mI(t){Bo(t).start()}async function Tj(t){Bo(t).C_()}async function Rj(t){const e=Bo(t);for(const r of t.U_)e.b_(r.mutations)}async function kj(t,e,r){const n=t.U_.shift(),s=Ww.from(n,e,r);await dI(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Ec(t)}async function Cj(t,e){e&&Bo(t).S_&&await async function(n,s){if(function(u){return fU(u)&&u!==Ue.ABORTED}(s.code)){const i=n.U_.shift();Bo(n).h_(),await dI(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Ec(n)}}(t,e),pI(t)&&mI(t)}async function s4(t,e){const r=bt(t);r.asyncQueue.verifyOperationInProgress(),He(za,"RemoteStore received new credentials");const n=Ya(r);r.W_.add(3),await Mc(r),n&&r.j_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.W_.delete(3),await Em(r)}async function Pj(t,e){const r=bt(t);e?(r.W_.delete(2),await Em(r)):e||(r.W_.add(2),await Mc(r),r.j_.set("Unknown"))}function $u(t){return t.J_||(t.J_=function(r,n,s){const i=bt(r);return i.M_(),new vj(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:xj.bind(null,t),No:Mj.bind(null,t),Lo:Ej.bind(null,t),p_:Sj.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),a_(t)?o_(t):t.j_.set("Unknown")):(await t.J_.stop(),cI(t))})),t.J_}function Bo(t){return t.Y_||(t.Y_=function(r,n,s){const i=bt(r);return i.M_(),new gj(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:Tj.bind(null,t),Lo:Cj.bind(null,t),D_:Rj.bind(null,t),v_:kj.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Ec(t)):(await t.Y_.stop(),t.U_.length>0&&(He(za,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e,r,n,s,i){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=s,this.removalCallback=i,this.deferred=new Yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,s,i){const u=Date.now()+n,c=new l_(e,r,u,s,i);return c.start(n),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Xe(Ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function u_(t,e){if(gn("AsyncQueue",`${e}: ${t}`),zo(t))return new Xe(Ue.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{static emptySet(e){return new Wl(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||nt.comparator(r.key,n.key):(r,n)=>nt.comparator(r.key,n.key),this.keyedMap=Hf(),this.sortedSet=new cr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Wl)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const s=r.getNext().key,i=n.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Wl;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(){this.Z_=new cr(nt.comparator)}track(e){const r=e.doc.key,n=this.Z_.get(r);n?e.type!==0&&n.type===3?this.Z_=this.Z_.insert(r,e):e.type===3&&n.type!==1?this.Z_=this.Z_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Z_=this.Z_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Z_=this.Z_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Z_=this.Z_.remove(r):e.type===1&&n.type===2?this.Z_=this.Z_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Z_=this.Z_.insert(r,{type:2,doc:e.doc}):lt():this.Z_=this.Z_.insert(r,e)}X_(){const e=[];return this.Z_.inorderTraversal((r,n)=>{e.push(n)}),e}}class Mu{constructor(e,r,n,s,i,u,c,v,b){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=i,this.fromCache=u,this.syncStateChanged=c,this.excludesMetadataChanges=v,this.hasCachedResults=b}static fromInitialDocuments(e,r,n,s,i){const u=[];return r.forEach(c=>{u.push({type:0,doc:c})}),new Mu(e,r,Wl.emptySet(r),u,n,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(r[s].type!==n[s].type||!r[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Bj{constructor(){this.queries=a4(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(r,n){const s=bt(r),i=s.queries;s.queries=a4(),i.forEach((u,c)=>{for(const v of c.ta)v.onError(n)})})(this,new Xe(Ue.ABORTED,"Firestore shutting down"))}}function a4(){return new Us(t=>m7(t),vm)}async function vI(t,e){const r=bt(t);let n=3;const s=e.query;let i=r.queries.get(s);i?!i.na()&&e.ra()&&(n=2):(i=new Nj,n=e.ra()?0:1);try{switch(n){case 0:i.ea=await r.onListen(s,!0);break;case 1:i.ea=await r.onListen(s,!1);break;case 2:await r.onFirstRemoteStoreListen(s)}}catch(u){const c=u_(u,`Initialization of query '${xl(e.query)}' failed`);return void e.onError(c)}r.queries.set(s,i),i.ta.push(e),e.sa(r.onlineState),i.ea&&e.oa(i.ea)&&f_(r)}async function gI(t,e){const r=bt(t),n=e.query;let s=3;const i=r.queries.get(n);if(i){const u=i.ta.indexOf(e);u>=0&&(i.ta.splice(u,1),i.ta.length===0?s=e.ra()?0:1:!i.na()&&e.ra()&&(s=2))}switch(s){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Dj(t,e){const r=bt(t);let n=!1;for(const s of e){const i=s.query,u=r.queries.get(i);if(u){for(const c of u.ta)c.oa(s)&&(n=!0);u.ea=s}}n&&f_(r)}function Oj(t,e,r){const n=bt(t),s=n.queries.get(e);if(s)for(const i of s.ta)i.onError(r);n.queries.delete(e)}function f_(t){t.ia.forEach(e=>{e.next()})}var n2,l4;(l4=n2||(n2={}))._a="default",l4.Cache="cache";class yI{constructor(e,r,n){this.query=e,this.aa=r,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new Mu(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.ua?this.la(e)&&(this.aa.next(e),r=!0):this.ha(e,this.onlineState)&&(this.Pa(e),r=!0),this.ca=e,r}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let r=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),r=!0),r}ha(e,r){if(!e.fromCache||!this.ra())return!0;const n=r!=="Offline";return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}la(e){if(e.docChanges.length>0)return!0;const r=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Pa(e){e=Mu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==n2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e){this.key=e}}class _I{constructor(e){this.key=e}}class Lj{constructor(e,r){this.query=e,this.fa=r,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Rt(),this.mutatedKeys=Rt(),this.ya=v7(e),this.wa=new Wl(this.ya)}get Sa(){return this.fa}ba(e,r){const n=r?r.Da:new o4,s=r?r.wa:this.wa;let i=r?r.mutatedKeys:this.mutatedKeys,u=s,c=!1;const v=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,b=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((w,x)=>{const E=s.get(w),A=_c(this.query,x)?x:null,N=!!E&&this.mutatedKeys.has(E.key),D=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let W=!1;E&&A?E.data.isEqual(A.data)?N!==D&&(n.track({type:3,doc:A}),W=!0):this.va(E,A)||(n.track({type:2,doc:A}),W=!0,(v&&this.ya(A,v)>0||b&&this.ya(A,b)<0)&&(c=!0)):!E&&A?(n.track({type:0,doc:A}),W=!0):E&&!A&&(n.track({type:1,doc:E}),W=!0,(v||b)&&(c=!0)),W&&(A?(u=u.add(A),i=D?i.add(w):i.delete(w)):(u=u.delete(w),i=i.delete(w)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const w=this.query.limitType==="F"?u.last():u.first();u=u.delete(w.key),i=i.delete(w.key),n.track({type:1,doc:w})}return{wa:u,Da:n,ls:c,mutatedKeys:i}}va(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,s){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((w,x)=>function(A,N){const D=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt()}};return D(A)-D(N)}(w.type,x.type)||this.ya(w.doc,x.doc)),this.Ca(n),s=s!=null&&s;const c=r&&!s?this.Fa():[],v=this.pa.size===0&&this.current&&!s?1:0,b=v!==this.ga;return this.ga=v,u.length!==0||b?{snapshot:new Mu(this.query,e.wa,i,u,e.mutatedKeys,v===0,b,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new o4,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(r=>this.fa=this.fa.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.fa=this.fa.delete(r)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Rt(),this.wa.forEach(n=>{this.xa(n.key)&&(this.pa=this.pa.add(n.key))});const r=[];return e.forEach(n=>{this.pa.has(n)||r.push(new _I(n))}),this.pa.forEach(n=>{e.has(n)||r.push(new wI(n))}),r}Oa(e){this.fa=e.gs,this.pa=Rt();const r=this.ba(e.documents);return this.applyChanges(r,!0)}Na(){return Mu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const h_="SyncEngine";class Fj{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Vj{constructor(e){this.key=e,this.Ba=!1}}class Uj{constructor(e,r,n,s,i,u){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new Us(c=>m7(c),vm),this.qa=new Map,this.Qa=new Set,this.$a=new cr(nt.comparator),this.Ua=new Map,this.Ka=new Xw,this.Wa={},this.Ga=new Map,this.za=ja.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function jj(t,e,r=!0){const n=II(t);let s;const i=n.ka.get(e);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Na()):s=await bI(n,e,r,!0),s}async function zj(t,e){const r=II(t);await bI(r,e,!0,!1)}async function bI(t,e,r,n){const s=await lj(t.localStore,ii(e)),i=s.targetId,u=t.sharedClientState.addLocalQueryTarget(i,r);let c;return n&&(c=await $j(t,e,i,u==="current",s.resumeToken)),t.isPrimaryClient&&r&&fI(t.remoteStore,s),c}async function $j(t,e,r,n,s){t.Ha=(x,E,A)=>async function(D,W,P,C){let z=W.view.ba(P);z.ls&&(z=await e4(D.localStore,W.query,!1).then(({documents:G})=>W.view.ba(G,z)));const K=C&&C.targetChanges.get(W.targetId),ne=C&&C.targetMismatches.get(W.targetId)!=null,ue=W.view.applyChanges(z,D.isPrimaryClient,K,ne);return f4(D,W.targetId,ue.Ma),ue.snapshot}(t,x,E,A);const i=await e4(t.localStore,e,!0),u=new Lj(e,i.gs),c=u.ba(i.documents),v=xc.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",s),b=u.applyChanges(c,t.isPrimaryClient,v);f4(t,r,b.Ma);const w=new Fj(e,r,u);return t.ka.set(e,w),t.qa.has(r)?t.qa.get(r).push(e):t.qa.set(r,[e]),b.snapshot}async function qj(t,e,r){const n=bt(t),s=n.ka.get(e),i=n.qa.get(s.targetId);if(i.length>1)return n.qa.set(s.targetId,i.filter(u=>!vm(u,e))),void n.ka.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await t2(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),r&&i_(n.remoteStore,s.targetId),i2(n,s.targetId)}).catch(Qa)):(i2(n,s.targetId),await t2(n.localStore,s.targetId,!0))}async function Hj(t,e){const r=bt(t),n=r.ka.get(e),s=r.qa.get(n.targetId);r.isPrimaryClient&&s.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),i_(r.remoteStore,n.targetId))}async function Kj(t,e,r){const n=AI(t);try{const s=await function(u,c){const v=bt(u),b=ir.now(),w=c.reduce((A,N)=>A.add(N.key),Rt());let x,E;return v.persistence.runTransaction("Locally write mutations","readwrite",A=>{let N=jn(),D=Rt();return v.ds.getEntries(A,w).next(W=>{N=W,N.forEach((P,C)=>{C.isValidDocument()||(D=D.add(P))})}).next(()=>v.localDocuments.getOverlayedDocuments(A,N)).next(W=>{x=W;const P=[];for(const C of c){const z=lU(C,x.get(C.key).overlayedDocument);z!=null&&P.push(new js(C.key,z,o7(z.value.mapValue),Ur.exists(!0)))}return v.mutationQueue.addMutationBatch(A,b,P,c)}).next(W=>{E=W;const P=W.applyToLocalDocumentSet(x,D);return v.documentOverlayCache.saveOverlays(A,W.batchId,P)})}).then(()=>({batchId:E.batchId,changes:y7(x)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),function(u,c,v){let b=u.Wa[u.currentUser.toKey()];b||(b=new cr(wt)),b=b.insert(c,v),u.Wa[u.currentUser.toKey()]=b}(n,s.batchId,r),await Sc(n,s.changes),await Ec(n.remoteStore)}catch(s){const i=u_(s,"Failed to persist write");r.reject(i)}}async function xI(t,e){const r=bt(t);try{const n=await sj(r.localStore,e);e.targetChanges.forEach((s,i)=>{const u=r.Ua.get(i);u&&(ht(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?u.Ba=!0:s.modifiedDocuments.size>0?ht(u.Ba):s.removedDocuments.size>0&&(ht(u.Ba),u.Ba=!1))}),await Sc(r,n,e)}catch(n){await Qa(n)}}function u4(t,e,r){const n=bt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const s=[];n.ka.forEach((i,u)=>{const c=u.view.sa(e);c.snapshot&&s.push(c.snapshot)}),function(u,c){const v=bt(u);v.onlineState=c;let b=!1;v.queries.forEach((w,x)=>{for(const E of x.ta)E.sa(c)&&(b=!0)}),b&&f_(v)}(n.eventManager,e),s.length&&n.La.p_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Wj(t,e,r){const n=bt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const s=n.Ua.get(e),i=s&&s.key;if(i){let u=new cr(nt.comparator);u=u.insert(i,_r.newNoDocument(i,mt.min()));const c=Rt().add(i),v=new wm(mt.min(),new Map,new cr(wt),u,c);await xI(n,v),n.$a=n.$a.remove(i),n.Ua.delete(e),c_(n)}else await t2(n.localStore,e,!1).then(()=>i2(n,e,r)).catch(Qa)}async function Gj(t,e){const r=bt(t),n=e.batch.batchId;try{const s=await ij(r.localStore,e);EI(r,n,null),MI(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Sc(r,s)}catch(s){await Qa(s)}}async function Zj(t,e,r){const n=bt(t);try{const s=await function(u,c){const v=bt(u);return v.persistence.runTransaction("Reject batch","readwrite-primary",b=>{let w;return v.mutationQueue.lookupMutationBatch(b,c).next(x=>(ht(x!==null),w=x.keys(),v.mutationQueue.removeMutationBatch(b,x))).next(()=>v.mutationQueue.performConsistencyCheck(b)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(b,w,c)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(b,w)).next(()=>v.localDocuments.getDocuments(b,w))})}(n.localStore,e);EI(n,e,r),MI(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Sc(n,s)}catch(s){await Qa(s)}}function MI(t,e){(t.Ga.get(e)||[]).forEach(r=>{r.resolve()}),t.Ga.delete(e)}function EI(t,e,r){const n=bt(t);let s=n.Wa[n.currentUser.toKey()];if(s){const i=s.get(e);i&&(r?i.reject(r):i.resolve(),s=s.remove(e)),n.Wa[n.currentUser.toKey()]=s}}function i2(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.qa.get(e))t.ka.delete(n),r&&t.La.Ja(n,r);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(n=>{t.Ka.containsKey(n)||SI(t,n)})}function SI(t,e){t.Qa.delete(e.path.canonicalString());const r=t.$a.get(e);r!==null&&(i_(t.remoteStore,r),t.$a=t.$a.remove(e),t.Ua.delete(r),c_(t))}function f4(t,e,r){for(const n of r)n instanceof wI?(t.Ka.addReference(n.key,e),Qj(t,n)):n instanceof _I?(He(h_,"Document no longer in limbo: "+n.key),t.Ka.removeReference(n.key,e),t.Ka.containsKey(n.key)||SI(t,n.key)):lt()}function Qj(t,e){const r=e.key,n=r.path.canonicalString();t.$a.get(r)||t.Qa.has(n)||(He(h_,"New document in limbo: "+r),t.Qa.add(n),c_(t))}function c_(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const r=new nt(Gt.fromString(e)),n=t.za.next();t.Ua.set(n,new Vj(r)),t.$a=t.$a.insert(r,n),fI(t.remoteStore,new _s(ii(mm(r.path)),n,"TargetPurposeLimboResolution",ri.ae))}}async function Sc(t,e,r){const n=bt(t),s=[],i=[],u=[];n.ka.isEmpty()||(n.ka.forEach((c,v)=>{u.push(n.Ha(v,e,r).then(b=>{var w;if((b||r)&&n.isPrimaryClient){const x=b?!b.fromCache:(w=r==null?void 0:r.targetChanges.get(v.targetId))===null||w===void 0?void 0:w.current;n.sharedClientState.updateQueryState(v.targetId,x?"current":"not-current")}if(b){s.push(b);const x=r_.Yi(v.targetId,b);i.push(x)}}))}),await Promise.all(u),n.La.p_(s),await async function(v,b){const w=bt(v);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>Ae.forEach(b,E=>Ae.forEach(E.Hi,A=>w.persistence.referenceDelegate.addReference(x,E.targetId,A)).next(()=>Ae.forEach(E.Ji,A=>w.persistence.referenceDelegate.removeReference(x,E.targetId,A)))))}catch(x){if(!zo(x))throw x;He(n_,"Failed to update sequence numbers: "+x)}for(const x of b){const E=x.targetId;if(!x.fromCache){const A=w.Ts.get(E),N=A.snapshotVersion,D=A.withLastLimboFreeSnapshotVersion(N);w.Ts=w.Ts.insert(E,D)}}}(n.localStore,i))}async function Yj(t,e){const r=bt(t);if(!r.currentUser.isEqual(e)){He(h_,"User change. New user:",e.toKey());const n=await sI(r.localStore,e);r.currentUser=e,function(i,u){i.Ga.forEach(c=>{c.forEach(v=>{v.reject(new Xe(Ue.CANCELLED,u))})}),i.Ga.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Sc(r,n.Rs)}}function Jj(t,e){const r=bt(t),n=r.Ua.get(e);if(n&&n.Ba)return Rt().add(n.key);{let s=Rt();const i=r.qa.get(e);if(!i)return s;for(const u of i){const c=r.ka.get(u);s=s.unionWith(c.view.Sa)}return s}}function II(t){const e=bt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Wj.bind(null,e),e.La.p_=Dj.bind(null,e.eventManager),e.La.Ja=Oj.bind(null,e.eventManager),e}function AI(t){const e=bt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Gj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Zj.bind(null,e),e}class tc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mm(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,r){return null}nu(e,r){return null}eu(e){return iI(this.persistence,new nI,e.initialUser,this.serializer)}Xa(e){return new e_(xm.ri,this.serializer)}Za(e){return new aI}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tc.provider={build:()=>new tc};class Xj extends tc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,r){ht(this.persistence.referenceDelegate instanceof yp);const n=this.persistence.referenceDelegate.garbageCollector;return new J7(n,e.asyncQueue,r)}Xa(e){const r=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new e_(n=>yp.ri(n,r),this.serializer)}}class ez extends tc{constructor(e,r,n){super(),this.ru=e,this.cacheSizeBytes=r,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ru.initialize(this,e),await AI(this.ru.syncEngine),await Ec(this.ru.remoteStore),await this.persistence.Ci(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}eu(e){return iI(this.persistence,new nI,e.initialUser,this.serializer)}tu(e,r){const n=this.persistence.referenceDelegate.garbageCollector;return new J7(n,e.asyncQueue,r)}nu(e,r){const n=new lV(r,this.persistence);return new aV(e.asyncQueue,n)}Xa(e){const r=ej(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new t_(this.synchronizeTabs,r,e.clientId,n,e.asyncQueue,mj(),p0(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Za(e){return new aI}}class _p{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>u4(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Yj.bind(null,this.syncEngine),await Pj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Bj}()}createDatastore(e){const r=Mm(e.databaseInfo.databaseId),n=function(i){return new pj(i)}(e.databaseInfo);return function(i,u,c,v){return new wj(i,u,c,v)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,s,i,u,c){return new bj(n,s,i,u,c)}(this.localStore,this.datastore,e.asyncQueue,r=>u4(this.syncEngine,r,0),function(){return n4.D()?new n4:new fj}())}createSyncEngine(e,r){return function(s,i,u,c,v,b,w){const x=new Uj(s,i,u,c,v,b);return w&&(x.ja=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(s){const i=bt(s);He(za,"RemoteStore shutting down."),i.W_.add(5),await Mc(i),i.z_.shutdown(),i.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}_p.provider={build:()=>new _p};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):gn("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="FirestoreClient";class tz{constructor(e,r,n,s,i){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=s,this.user=Wr.UNAUTHENTICATED,this.clientId=O9.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async u=>{He(Do,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(n,u=>(He(Do,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=u_(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function gg(t,e){t.asyncQueue.verifyOperationInProgress(),He(Do,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async s=>{n.isEqual(s)||(await sI(e.localStore,s),n=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function h4(t,e){t.asyncQueue.verifyOperationInProgress();const r=await rz(t);He(Do,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>s4(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,s)=>s4(e.remoteStore,s)),t._onlineComponents=e}async function rz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){He(Do,"Using user provided OfflineComponentProvider");try{await gg(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(s){return s.name==="FirebaseError"?s.code===Ue.FAILED_PRECONDITION||s.code===Ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(r))throw r;Oa("Error using user provided cache. Falling back to memory cache: "+r),await gg(t,new tc)}}else He(Do,"Using default OfflineComponentProvider"),await gg(t,new Xj(void 0));return t._offlineComponents}async function RI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(He(Do,"Using user provided OnlineComponentProvider"),await h4(t,t._uninitializedComponentsProvider._online)):(He(Do,"Using default OnlineComponentProvider"),await h4(t,new _p))),t._onlineComponents}function nz(t){return RI(t).then(e=>e.syncEngine)}async function kI(t){const e=await RI(t),r=e.eventManager;return r.onListen=jj.bind(null,e.syncEngine),r.onUnlisten=qj.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=zj.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Hj.bind(null,e.syncEngine),r}function iz(t,e,r={}){const n=new Yi;return t.asyncQueue.enqueueAndForget(async()=>function(i,u,c,v,b){const w=new TI({next:E=>{w.su(),u.enqueueAndForget(()=>gI(i,x));const A=E.docs.has(c);!A&&E.fromCache?b.reject(new Xe(Ue.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&E.fromCache&&v&&v.source==="server"?b.reject(new Xe(Ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(E)},error:E=>b.reject(E)}),x=new yI(mm(c.path),w,{includeMetadataChanges:!0,Ta:!0});return vI(i,x)}(await kI(t),t.asyncQueue,e,r,n)),n.promise}function sz(t,e,r={}){const n=new Yi;return t.asyncQueue.enqueueAndForget(async()=>function(i,u,c,v,b){const w=new TI({next:E=>{w.su(),u.enqueueAndForget(()=>gI(i,x)),E.fromCache&&v.source==="server"?b.reject(new Xe(Ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):b.resolve(E)},error:E=>b.reject(E)}),x=new yI(c,w,{includeMetadataChanges:!0,Ta:!0});return vI(i,x)}(await kI(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(t,e,r){if(!r)throw new Xe(Ue.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function oz(t,e,r,n){if(e===!0&&n===!0)throw new Xe(Ue.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function d4(t){if(!nt.isDocumentKey(t))throw new Xe(Ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function p4(t){if(nt.isDocumentKey(t))throw new Xe(Ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Sm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":lt()}function Ti(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Xe(Ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Sm(t);throw new Xe(Ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI="firestore.googleapis.com",m4=!0;class v4{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Xe(Ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NI,this.ssl=m4}else this.host=e.host,this.ssl=(r=e.ssl)!==null&&r!==void 0?r:m4;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=G7;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<LU)throw new Xe(Ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=CI((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Xe(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Xe(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Xe(Ue.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Im{constructor(e,r,n,s){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v4({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Xe(Ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Xe(Ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v4(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new ZF;switch(n.type){case"firstParty":return new XF(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Xe(Ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=c4.get(r);n&&(He("ComponentProvider","Removing Datastore"),c4.delete(r),n.terminate())}(this),Promise.resolve()}}function az(t,e,r,n={}){var s;const i=(t=Ti(t,Im))._getSettings(),u=Object.assign(Object.assign({},i),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${r}`;i.host!==NI&&i.host!==c&&Oa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},i),{host:c,ssl:!1,emulatorOptions:n});if(!tp(v,u)&&(t._setSettings(v),n.mockUserToken)){let b,w;if(typeof n.mockUserToken=="string")b=n.mockUserToken,w=Wr.MOCK_USER;else{b=bL(n.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const x=n.mockUserToken.sub||n.mockUserToken.user_id;if(!x)throw new Xe(Ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Wr(x)}t._authCredentials=new QF(new B9(b,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ja(this.firestore,e,this._query)}}class Pn{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new To(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class To extends Ja{constructor(e,r,n){super(e,r,mm(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new nt(e))}withConverter(e){return new To(this.firestore,e,this._path)}}function zs(t,e,...r){if(t=ts(t),PI("collection","path",e),t instanceof Im){const n=Gt.fromString(e,...r);return p4(n),new To(t,null,n)}{if(!(t instanceof Pn||t instanceof To))throw new Xe(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Gt.fromString(e,...r));return p4(n),new To(t.firestore,null,n)}}function Am(t,e,...r){if(t=ts(t),arguments.length===1&&(e=O9.newId()),PI("doc","path",e),t instanceof Im){const n=Gt.fromString(e,...r);return d4(n),new Pn(t,null,new nt(n))}{if(!(t instanceof Pn||t instanceof To))throw new Xe(Ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Gt.fromString(e,...r));return d4(n),new Pn(t.firestore,t instanceof To?t.converter:null,new nt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4="AsyncQueue";class y4{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new lI(this,"async_queue_retry"),this.Su=()=>{const n=p0();n&&He(g4,"Visibility state changed to "+n.visibilityState),this.a_.t_()},this.bu=e;const r=p0();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const r=p0();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const r=new Yi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!zo(e))throw e;He(g4,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const r=this.bu.then(()=>(this.pu=!0,e().catch(n=>{this.gu=n,this.pu=!1;const s=function(u){let c=u.message||"";return u.stack&&(c=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),c}(n);throw gn("INTERNAL UNHANDLED ERROR: ",s),n}).then(n=>(this.pu=!1,n))));return this.bu=r,r}enqueueAfterDelay(e,r,n){this.Du(),this.wu.indexOf(e)>-1&&(r=0);const s=l_.createAndSchedule(this,e,r,n,i=>this.Fu(i));return this.fu.push(s),s}Du(){this.gu&&lt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const r of this.fu)if(r.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.fu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const r=this.fu.indexOf(e);this.fu.splice(r,1)}}class qo extends Im{constructor(e,r,n,s){super(e,r,n,s),this.type="firestore",this._queue=new y4,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new y4(e),this._firestoreClient=void 0,await e}}}function lz(t,e){const r=typeof t=="object"?t:TF(),n=typeof t=="string"?t:fp,s=MF(r,"firestore").getImmediate({identifier:n});if(!s._initialized){const i=wL("firestore");i&&az(s,...i)}return s}function Tm(t){if(t._terminated)throw new Xe(Ue.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||BI(t),t._firestoreClient}function BI(t){var e,r,n;const s=t._freezeSettings(),i=function(c,v,b,w){return new LV(c,v,b,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,CI(w.experimentalLongPollingOptions),w.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((r=s.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=s.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new tz(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(c){const v=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(v),_online:v}}(t._componentsProvider))}function uz(t,e){Oa("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings();return fz(t,_p.provider,{build:n=>new ez(n,r.cacheSizeBytes,void 0)}),Promise.resolve()}function fz(t,e,r){if((t=Ti(t,qo))._firestoreClient||t._terminated)throw new Xe(Ue.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new Xe(Ue.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:r},BI(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Eu(Tr.fromBase64String(e))}catch(r){throw new Xe(Ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Eu(Tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new Xe(Ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new Xe(Ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new Xe(Ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return wt(this._lat,e._lat)||wt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,s){if(n.length!==s.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hz=/^__.*__$/;class cz{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new js(e,this.data,this.fieldMask,r,this.fieldTransforms):new zu(e,this.data,r,this.fieldTransforms)}}class DI{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new js(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function OI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt()}}class m_{constructor(e,r,n,s,i,u){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=s,i===void 0&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new m_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.ku({path:n,Qu:!1});return s.$u(e),s}Uu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.ku({path:n,Qu:!1});return s.Bu(),s}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return bp(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(OI(this.Lu)&&hz.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class dz{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Mm(e)}ju(e,r,n,s=!1){return new m_({Lu:e,methodName:r,zu:n,path:mr.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function km(t){const e=t._freezeSettings(),r=Mm(t._databaseId);return new dz(t._databaseId,!!e.ignoreUndefinedProperties,r)}function v_(t,e,r,n,s,i={}){const u=t.ju(i.merge||i.mergeFields?2:0,e,r,s);w_("Data must be an object, but it was:",u,n);const c=LI(n,u);let v,b;if(i.merge)v=new Tn(u.fieldMask),b=u.fieldTransforms;else if(i.mergeFields){const w=[];for(const x of i.mergeFields){const E=s2(e,x,r);if(!u.contains(E))throw new Xe(Ue.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);VI(w,E)||w.push(E)}v=new Tn(w),b=u.fieldTransforms.filter(x=>v.covers(x.field))}else v=null,b=u.fieldTransforms;return new cz(new fn(c),v,b)}class Cm extends Ic{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cm}}class g_ extends Ic{_toFieldTransform(e){return new Hw(e.path,new yu)}isEqual(e){return e instanceof g_}}class y_ extends Ic{constructor(e,r){super(e),this.Ju=r}_toFieldTransform(e){const r=new bu(e.serializer,b7(e.serializer,this.Ju));return new Hw(e.path,r)}isEqual(e){return e instanceof y_&&this.Ju===e.Ju}}function pz(t,e,r,n){const s=t.ju(1,e,r);w_("Data must be an object, but it was:",s,n);const i=[],u=fn.empty();$o(n,(v,b)=>{const w=__(e,v,r);b=ts(b);const x=s.Uu(w);if(b instanceof Cm)i.push(w);else{const E=Ac(b,x);E!=null&&(i.push(w),u.set(w,E))}});const c=new Tn(i);return new DI(u,c,s.fieldTransforms)}function mz(t,e,r,n,s,i){const u=t.ju(1,e,r),c=[s2(e,n,r)],v=[s];if(i.length%2!=0)throw new Xe(Ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<i.length;E+=2)c.push(s2(e,i[E])),v.push(i[E+1]);const b=[],w=fn.empty();for(let E=c.length-1;E>=0;--E)if(!VI(b,c[E])){const A=c[E];let N=v[E];N=ts(N);const D=u.Uu(A);if(N instanceof Cm)b.push(A);else{const W=Ac(N,D);W!=null&&(b.push(A),w.set(A,W))}}const x=new Tn(b);return new DI(w,x,u.fieldTransforms)}function vz(t,e,r,n=!1){return Ac(r,t.ju(n?4:3,e))}function Ac(t,e){if(FI(t=ts(t)))return w_("Unsupported field value:",e,t),LI(t,e);if(t instanceof Ic)return function(n,s){if(!OI(s.Lu))throw s.Wu(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(n,s){const i=[];let u=0;for(const c of n){let v=Ac(c,s.Ku(u));v==null&&(v={nullValue:"NULL_VALUE"}),i.push(v),u++}return{arrayValue:{values:i}}}(t,e)}return function(n,s){if((n=ts(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return b7(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=ir.fromDate(n);return{timestampValue:xu(s.serializer,i)}}if(n instanceof ir){const i=new ir(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:xu(s.serializer,i)}}if(n instanceof d_)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Eu)return{bytesValue:P7(s.serializer,n._byteString)};if(n instanceof Pn){const i=s.databaseId,u=n.firestore._databaseId;if(!u.isEqual(i))throw s.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Qw(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof p_)return function(u,c){return{mapValue:{fields:{[jw]:{stringValue:zw},[pu]:{arrayValue:{values:u.toArray().map(b=>{if(typeof b!="number")throw c.Wu("VectorValues must only contain numeric values.");return qw(c.serializer,b)})}}}}}}(n,s);throw s.Wu(`Unsupported field value: ${Sm(n)}`)}(t,e)}function LI(t,e){const r={};return Y9(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$o(t,(n,s)=>{const i=Ac(s,e.qu(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function FI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ir||t instanceof d_||t instanceof Eu||t instanceof Pn||t instanceof Ic||t instanceof p_)}function w_(t,e,r){if(!FI(r)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(r)){const n=Sm(r);throw n==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+n)}}function s2(t,e,r){if((e=ts(e))instanceof Rm)return e._internalPath;if(typeof e=="string")return __(t,e);throw bp("Field path arguments must be of type string or ",t,!1,void 0,r)}const gz=new RegExp("[~\\*/\\[\\]]");function __(t,e,r){if(e.search(gz)>=0)throw bp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Rm(...e.split("."))._internalPath}catch{throw bp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function bp(t,e,r,n,s){const i=n&&!n.isEmpty(),u=s!==void 0;let c=`Function ${e}() called with invalid data`;r&&(c+=" (via `toFirestore()`)"),c+=". ";let v="";return(i||u)&&(v+=" (found",i&&(v+=` in field ${n}`),u&&(v+=` in document ${s}`),v+=")"),new Xe(Ue.INVALID_ARGUMENT,c+t+v)}function VI(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,r,n,s,i){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yz(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Pm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class yz extends UI{data(){return super.data()}}function Pm(t,e){return typeof e=="string"?__(t,e):e instanceof Rm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wz(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Xe(Ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class b_{}class jI extends b_{}function qu(t,e,...r){let n=[];e instanceof b_&&n.push(e),n=n.concat(r),function(i){const u=i.filter(v=>v instanceof M_).length,c=i.filter(v=>v instanceof Nm).length;if(u>1||u>0&&c>0)throw new Xe(Ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)t=s._apply(t);return t}class Nm extends jI{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Nm(e,r,n)}_apply(e){const r=this._parse(e);return zI(e._query,r),new Ja(e.firestore,e.converter,Ky(e._query,r))}_parse(e){const r=km(e.firestore);return function(i,u,c,v,b,w,x){let E;if(b.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new Xe(Ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){_4(x,w);const N=[];for(const D of x)N.push(w4(v,i,D));E={arrayValue:{values:N}}}else E=w4(v,i,x)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||_4(x,w),E=vz(c,u,x,w==="in"||w==="not-in");return Ut.create(b,w,E)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function x_(t,e,r){const n=e,s=Pm("where",t);return Nm._create(s,n,r)}class M_ extends b_{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new M_(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Qt.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(s,i){let u=s;const c=i.getFlattenedFilters();for(const v of c)zI(u,v),u=Ky(u,v)}(e._query,r),new Ja(e.firestore,e.converter,Ky(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class E_ extends jI{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new E_(e,r)}_apply(e){const r=function(s,i,u){if(s.startAt!==null)throw new Xe(Ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Xe(Ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ec(i,u)}(e._query,this._field,this._direction);return new Ja(e.firestore,e.converter,function(s,i){const u=s.explicitOrderBy.concat([i]);return new ju(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,r))}}function Bm(t,e="asc"){const r=e,n=Pm("orderBy",t);return E_._create(n,r)}function w4(t,e,r){if(typeof(r=ts(r))=="string"){if(r==="")throw new Xe(Ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!p7(e)&&r.indexOf("/")!==-1)throw new Xe(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Gt.fromString(r));if(!nt.isDocumentKey(n))throw new Xe(Ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Jh(t,new nt(n))}if(r instanceof Pn)return Jh(t,r._key);throw new Xe(Ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sm(r)}.`)}function _4(t,e){if(!Array.isArray(t)||t.length===0)throw new Xe(Ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zI(t,e){const r=function(s,i){for(const u of s)for(const c of u.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new Xe(Ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Xe(Ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class _z{convertValue(e,r="none"){switch(Po(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw lt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return $o(e,(s,i)=>{n[s]=this.convertValue(i,r)}),n}convertVectorValue(e){var r,n,s;const i=(s=(n=(r=e.fields)===null||r===void 0?void 0:r[pu].arrayValue)===null||n===void 0?void 0:n.values)===null||s===void 0?void 0:s.map(u=>fr(u.doubleValue));return new p_(i)}convertGeoPoint(e){return new d_(fr(e.latitude),fr(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=dm(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Qh(e));default:return null}}convertTimestamp(e){const r=Cs(e);return new ir(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Gt.fromString(e);ht(z7(n));const s=new La(n.get(1),n.get(3)),i=new nt(n.popFirst(5));return s.isEqual(r)||gn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $I extends UI{constructor(e,r,n,s,i,u){super(e,r,n,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new m0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Pm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class m0 extends $I{data(e={}){return super.data(e)}}class bz{constructor(e,r,n,s){this._firestore=e,this._userDataWriter=r,this._snapshot=s,this.metadata=new Gf(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new m0(this._firestore,this._userDataWriter,n.key,n,new Gf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Xe(Ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(c=>{const v=new m0(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Gf(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:v,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>i||c.type!==3).map(c=>{const v=new m0(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Gf(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let b=-1,w=-1;return c.type!==0&&(b=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),c.type!==1&&(u=u.add(c.doc),w=u.indexOf(c.doc.key)),{type:xz(c.type),doc:v,oldIndex:b,newIndex:w}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function xz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mz(t){t=Ti(t,Pn);const e=Ti(t.firestore,qo);return iz(Tm(e),t._key).then(r=>Sz(e,t,r))}class qI extends _z{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eu(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,r)}}function Xa(t){t=Ti(t,Ja);const e=Ti(t.firestore,qo),r=Tm(e),n=new qI(e);return wz(t._query),sz(r,t._query).then(s=>new bz(e,n,t,s))}function HI(t,e,r){t=Ti(t,Pn);const n=Ti(t.firestore,qo),s=S_(t.converter,e,r);return Dm(n,[v_(km(n),"setDoc",t._key,s,t.converter!==null,r).toMutation(t._key,Ur.none())])}function Ez(t){return Dm(Ti(t.firestore,qo),[new bc(t._key,Ur.none())])}function KI(t,e){const r=Ti(t.firestore,qo),n=Am(t),s=S_(t.converter,e);return Dm(r,[v_(km(t.firestore),"addDoc",n._key,s,t.converter!==null,{}).toMutation(n._key,Ur.exists(!1))]).then(()=>n)}function Dm(t,e){return function(n,s){const i=new Yi;return n.asyncQueue.enqueueAndForget(async()=>Kj(await nz(n),s,i)),i.promise}(Tm(t),e)}function Sz(t,e,r){const n=r.docs.get(e._key),s=new qI(t);return new $I(t,s,e._key,n,new Gf(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iz{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=km(e)}set(e,r,n){this._verifyNotCommitted();const s=yg(e,this._firestore),i=S_(s.converter,r,n),u=v_(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,n);return this._mutations.push(u.toMutation(s._key,Ur.none())),this}update(e,r,n,...s){this._verifyNotCommitted();const i=yg(e,this._firestore);let u;return u=typeof(r=ts(r))=="string"||r instanceof Rm?mz(this._dataReader,"WriteBatch.update",i._key,r,n,s):pz(this._dataReader,"WriteBatch.update",i._key,r),this._mutations.push(u.toMutation(i._key,Ur.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=yg(e,this._firestore);return this._mutations=this._mutations.concat(new bc(r._key,Ur.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Xe(Ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function yg(t,e){if((t=ts(t)).firestore!==e)throw new Xe(Ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function I_(){return new g_("serverTimestamp")}function Az(t){return new y_("increment",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tz(t){return Tm(t=Ti(t,qo)),new Iz(t,e=>Dm(t,e))}(function(e,r=!0){(function(s){Uu=s})(AF),np(new zh("firestore",(n,{instanceIdentifier:s,options:i})=>{const u=n.getProvider("app").getImmediate(),c=new qo(new YF(n.getProvider("auth-internal")),new eV(u,n.getProvider("app-check-internal")),function(b,w){if(!Object.prototype.hasOwnProperty.apply(b.options,["projectId"]))throw new Xe(Ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new La(b.options.projectId,w)}(u,s),u);return i=Object.assign({useFetchStreams:r},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),Kl(t6,r6,e),Kl(t6,r6,"esm2017")})();const Rz={apiKey:"AIzaSyB2HX447XAztbxY7VtOFA6GVJ4_m-C3aT8",authDomain:"tradeay.firebaseapp.com",projectId:"tradeay",storageBucket:"tradeay.firebasestorage.app",messagingSenderId:"479482587116",appId:"1:479482587116:web:eb49d90be8ffbdc28102c9",measurementId:"G-C7YG0QK2PG"},kz=M9(Rz),Nn=lz(kz);uz(Nn).catch(t=>{t.code==="failed-precondition"?console.warn("Multiple tabs open, persistence enabled in first tab only"):t.code==="unimplemented"&&console.warn("Browser doesn't support persistence")});Xa(zs(Nn,"payment_logs")).then(()=>console.log(" Firestore connected")).catch(t=>console.error(" Firestore connection error:",t));async function gh(t,e,r,n){try{const s={message:t,timestamp:I_(),createdAt:new Date().toISOString()};e&&(s.userId=e),n&&(n.payment_id&&(s.payment_id=n.payment_id),n.payment_status&&(s.payment_status=n.payment_status),n.order_id&&(s.order_id=n.order_id),n.price_amount&&(s.price_amount=n.price_amount),n.price_currency&&(s.price_currency=n.price_currency),n.pay_address&&(s.pay_address=n.pay_address),s.paymentData=n);const i=await KI(zs(Nn,"payment_logs"),s);return console.log("Payment log added with ID:",i.id),i.id}catch(s){throw console.error("Error adding payment log:",s),s}}async function Cz(){const t=[];try{const e=qu(zs(Nn,"payment_logs"),Bm("timestamp","desc"));return(await Xa(e)).forEach(n=>{var c,v;const s=n.data();let u=`${(((v=(c=s.timestamp)==null?void 0:c.toDate)==null?void 0:v.call(c))||new Date(s.createdAt)).toLocaleString()}: ${s.message}`;s.payment_id&&(u+=` | ID: ${s.payment_id}`),s.payment_status&&(u+=` | Status: ${s.payment_status}`),s.price_amount&&s.price_currency&&(u+=` | Amount: ${s.price_amount} ${s.price_currency}`),s.userId&&(u+=` | User: ${s.userId}`),t.push(u)}),t}catch(e){return console.error("Error getting payment logs:",e),[`Error loading payment logs: ${e instanceof Error?e.message:"Unknown error"}`]}}async function Pz(){try{const t=[],e=qu(zs(Nn,"payment_logs"),Bm("timestamp","desc"));return(await Xa(e)).forEach(n=>{const s=n.data();s.payment_id&&t.push({id:n.id,...s})}),t}catch(t){return console.error("Error getting payment data:",t),[]}}function A_(t=new Date){const n=(t.getTimezoneOffset()- -240)*60*1e3;return new Date(t.getTime()-n)}async function Nz(t,e){const r=A_();r.setHours(0,0,0,0);const n=`${t}_${r.toISOString().split("T")[0]}`;try{return await HI(Am(Nn,"api_key_usage",n),{keyId:t,keyName:e,usageCount:Az(1),lastUsed:I_(),date:ir.fromDate(r)},{merge:!0}),!0}catch(s){return console.error("Error tracking API key usage:",s),!1}}async function Bz(){try{const t=A_();t.setHours(0,0,0,0);const e=qu(zs(Nn,"api_key_usage"),x_("date",">=",ir.fromDate(t)),Bm("date","desc")),r=await Xa(e),n={};return r.forEach(s=>{const i=s.data();n[i.keyId]={used:i.usageCount||0,name:i.keyName}}),n}catch(t){return console.error("Error getting API key usage stats:",t),{}}}async function Dz(){try{const t=A_(),e=new Date(t);e.setDate(e.getDate()-1),e.setHours(23,59,59,999);const r=qu(zs(Nn,"api_key_usage"),x_("date","<=",ir.fromDate(e))),n=await Xa(r),s=Tz(Nn);return n.forEach(i=>{s.delete(i.ref)}),await s.commit(),console.log("Successfully cleaned up old API key usage data"),!0}catch(t){return console.error("Error cleaning up API key usage:",t),!1}}async function Oz(t){try{const e=await KI(zs(Nn,"support_messages"),{...t,timestamp:I_(),createdAt:new Date().toISOString(),status:"pending"});return console.log("Support message added with ID:",e.id),e.id}catch(e){throw console.error("Error adding support message:",e),e}}async function Lz(){try{const t=qu(zs(Nn,"support_messages"),Bm("timestamp","desc"));return(await Xa(t)).docs.map(r=>{const n=r.data();return{id:r.id,userId:n.userId,userEmail:n.email,description:n.description,createdAt:n.createdAt,status:n.status||"pending",replies:n.replies||[]}})}catch(t){throw console.error("Error getting support messages:",t),t}}async function Fz(t){try{await Ez(Am(Nn,"support_messages",t)),console.log("Support message deleted:",t)}catch(e){throw console.error("Error deleting support message:",e),e}}async function Vz(t){try{const e=qu(zs(Nn,"support_messages"),x_("userId","==",t)),r=await Xa(e),n=[];return r.forEach(s=>{const i=s.data();i.replies&&i.replies.length>0&&i.replies.filter(c=>c.isAdmin&&!c.read).forEach(c=>{n.push({messageId:s.id,reply:c})})}),n}catch(e){throw console.error("Error getting notifications:",e),e}}async function Uz(t,e){var r;try{const n=Am(Nn,"support_messages",t),i=(r=(await Mz(n)).data().replies)==null?void 0:r.map(u=>u.id===e?{...u,read:!0}:u);await HI(n,{replies:i},{merge:!0})}catch(n){throw console.error("Error marking notification as read:",n),n}}const jz=()=>{const{user:t}=as(),e=fe.useRef(null),[r,n]=fe.useState([]),[s,i]=fe.useState(!1);fe.useEffect(()=>{if(!t)return;const c=async()=>{try{const b=await Vz(t.id),x=(await ws(t)).supportMessages||[],E=b.map(A=>{var N;return{messageId:A.messageId,originalMessage:((N=x.find(D=>D.messageId===A.messageId))==null?void 0:N.originalMessage)||"Message not found",reply:A.reply}});n(E)}catch(b){console.error("Failed to load notifications:",b)}};c();const v=setInterval(c,6e4);return()=>clearInterval(v)},[t]),fe.useEffect(()=>{const c=v=>{e.current&&!e.current.contains(v.target)&&i(!1)};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[]);const u=async(c,v,b)=>{var w;if(t)try{await Uz(c,v);const x=(w=r.find(E=>E.messageId===c))==null?void 0:w.reply;x&&await kO(t,c,b,x),n(E=>E.filter(A=>A.reply.id!==v))}catch(x){console.error("Failed to mark notification as read:",x)}};return U.jsxs("div",{ref:e,className:"relative",children:[U.jsxs("button",{onClick:()=>i(!s),className:`relative p-2 text-gray-400 hover:text-white hover:bg-gray-700/50 \r
          rounded-lg transition-all duration-300`,children:[U.jsx(j3,{className:"w-5 h-5"}),r.length>0&&U.jsx("span",{className:`absolute -top-1 -right-1 w-4 h-4 bg-blue-500 rounded-full text-[10px] \r
            flex items-center justify-center text-white font-medium\r
            animate-[pulse_2s_infinite]`,children:r.length})]}),s&&U.jsx("div",{className:`absolute right-0 mt-2 w-80 max-h-[480px] overflow-y-auto\r
          bg-gray-800/95 backdrop-blur-md rounded-lg border border-gray-700/50 shadow-xl\r
          animate-[fadeIn_0.2s_ease-out,slideDown_0.2s_ease-out]`,children:r.length>0?U.jsx("div",{className:"p-4 space-y-3",children:r.map(({messageId:c,reply:v,originalMessage:b})=>U.jsxs("div",{className:`p-3 bg-gray-700/30 rounded-lg \r
                    animate-[slideUp_0.2s_ease-out,fadeIn_0.2s_ease-out]`,children:[U.jsxs("div",{className:"text-xs text-gray-400 mb-2",children:["Re: ",b]}),U.jsx("p",{className:"text-sm text-gray-300",children:v.message}),U.jsxs("div",{className:"flex items-center justify-between mt-2",children:[U.jsx("span",{className:"text-xs text-gray-400",children:new Date(v.createdAt).toLocaleString()}),U.jsx("button",{onClick:()=>u(c,v.id,b),className:"text-xs text-blue-400 hover:text-blue-300",children:"Resolve Conversation"})]})]},v.id))}):U.jsxs("div",{className:"p-8 flex flex-col items-center justify-center text-center",children:[U.jsxs("div",{className:"relative mb-4",children:[U.jsxs("div",{className:"relative",children:[U.jsx(j3,{className:"w-12 h-12 text-gray-600"}),U.jsx("div",{className:"absolute inset-0 animate-ping bg-gray-600/20 rounded-full"})]}),U.jsx("div",{className:"absolute -inset-4 animate-[spin_3s_linear_infinite] opacity-0",children:U.jsx("div",{className:"w-full h-full rounded-full bg-gradient-to-r from-gray-600/0 via-gray-600/10 to-gray-600/0"})})]}),U.jsx("p",{className:"text-gray-400 font-medium mb-1",children:"No new messages"}),U.jsx("p",{className:"text-sm text-gray-500",children:"Admin replies will appear here"})]})})]})};function zz(){return U.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-gray-800/40 backdrop-blur-md border-b border-gray-700/50",children:U.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:U.jsxs("div",{className:"flex justify-between items-center h-16",children:[U.jsxs("div",{className:"flex items-center gap-4",children:[U.jsxs(ah,{to:"/",className:"flex items-center gap-2 group",children:[U.jsx(J0,{className:`w-6 h-6 text-[#00ff9d] transition-all duration-300 \r
                group-hover:scale-110 group-hover:rotate-12 \r
                drop-shadow-[0_0_8px_rgba(0,255,157,0.5)]`}),U.jsxs("span",{className:"text-xl font-bold",children:[U.jsx("span",{className:"bg-gradient-to-r from-[#ffffff] via-[#00ff9d]/90 to-[#00ff9d] bg-clip-text text-transparent",children:"TradeA"}),U.jsx("span",{className:"inline-block bg-gradient-to-r from-[#00ff9d] to-[#00bf76] bg-clip-text text-transparent",children:"+"})]})]}),U.jsx(My,{children:U.jsx(lL,{})})]}),U.jsxs("div",{className:"flex items-center gap-4",children:[U.jsxs(My,{children:[U.jsx(oL,{}),U.jsx(sL,{}),U.jsx(jz,{}),U.jsx(bS,{afterSignOutUrl:"/sign-in",appearance:{elements:{avatarBox:"w-8 h-8 rounded-lg",userButtonPopoverCard:"bg-gray-800/95 backdrop-blur-sm border border-gray-700/50",userButtonPopoverActionButton:"hover:bg-gray-700/50",userButtonPopoverActionButtonText:"text-gray-300 hover:text-white",userButtonPopoverFooter:"hidden"}}})]}),U.jsx(aS,{children:U.jsx(MS,{mode:"modal",children:U.jsx("button",{className:"px-4 py-2 rounded-lg bg-blue-500 hover:bg-blue-600 text-white transition-colors",children:"Sign In"})})})]})]})})})}const $z=()=>{const{user:t}=as(),[e,r]=fe.useState(!1),[n,s]=fe.useState(0),[i,u]=fe.useState({description:""}),[c,v]=fe.useState(!1),[b,w]=fe.useState(null),x=fe.useRef(null);fe.useEffect(()=>{const N=D=>{x.current&&!x.current.contains(D.target)&&E()};return e&&document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[e]);const E=()=>{r(!1),setTimeout(()=>{s(0),u({description:""}),w(null)},300)},A=async()=>{var N;if(!(!i.description||!t)){v(!0),w(null);try{await Oz({userId:t.id,email:((N=t.primaryEmailAddress)==null?void 0:N.emailAddress)||"",description:i.description}),s(1)}catch(D){console.error("Failed to submit:",D),w("Failed to send message. Please try again.")}finally{v(!1)}}};return U.jsxs(U.Fragment,{children:[U.jsx("button",{onClick:()=>r(!0),className:`fixed bottom-6 right-6 p-4 rounded-full\r
          bg-gray-800/90 hover:bg-gray-700/90\r
          border border-gray-600/50 hover:border-[#00ff9d]/30\r
          shadow-lg hover:shadow-xl transition-all duration-300\r
          hover:shadow-[#00ff9d]/10 z-50`,children:U.jsx(YO,{className:"w-6 h-6 text-[#00ff9d]"})}),e&&U.jsx("div",{className:`fixed inset-0 bg-black/60 backdrop-blur-sm z-50\r
          animate-[fadeIn_0.2s_ease-out]`,children:U.jsx("div",{ref:x,className:`section-container fixed bottom-[100px] right-6 \r
              w-full max-w-md animate-[slideUp_0.3s_ease-out] mx-4`,children:U.jsxs("div",{className:`bg-gray-800/95 backdrop-blur-md rounded-xl p-6\r
              border border-gray-700/50 shadow-xl mx-4`,children:[U.jsx("button",{onClick:E,className:`absolute top-4 right-4 p-2 text-gray-400 \r
                  hover:text-white transition-colors`,children:U.jsx(c9,{className:"w-5 h-5"})}),U.jsx("div",{className:"space-y-4",children:n===0?U.jsxs(U.Fragment,{children:[U.jsx("h3",{className:"text-xl font-semibold text-white",children:"How can we help?"}),U.jsx("p",{className:"text-gray-300 text-sm",children:"Describe your issue and we'll get back to you shortly."}),U.jsx("textarea",{value:i.description,onChange:N=>u({description:N.target.value}),placeholder:"Type your message here...",className:`w-full h-32 bg-gray-700/50 border border-gray-600/50\r
                        rounded-lg p-3 text-white placeholder-gray-400 resize-none\r
                        focus:outline-none focus:border-blue-500/50 focus:ring-1 \r
                        focus:ring-blue-500/50 transition-all neon-input`}),b&&U.jsx("p",{className:"text-red-400 text-sm",children:b}),U.jsx("button",{onClick:A,disabled:c||!i.description,className:`w-full py-3 bg-blue-500 hover:bg-blue-600 \r
                        disabled:bg-gray-600 disabled:cursor-not-allowed\r
                        rounded-lg text-white font-medium transition-colors\r
                        flex items-center justify-center gap-2`,children:c?U.jsx("div",{className:`w-5 h-5 border-2 border-white/30 \r
                          border-t-white rounded-full animate-spin`}):U.jsxs(U.Fragment,{children:[U.jsx(eL,{className:"w-4 h-4"}),"Send Message"]})})]}):U.jsxs("div",{className:"py-8 text-center space-y-3",children:[U.jsx("div",{className:`w-12 h-12 rounded-full bg-green-500/20 \r
                      text-green-400 flex items-center justify-center mx-auto mb-4`,children:U.jsx(GO,{className:"w-6 h-6"})}),U.jsx("h3",{className:"text-xl font-semibold text-white",children:"Message Sent!"}),U.jsx("p",{className:"text-gray-300 text-sm",children:"We'll get back to you as soon as possible."})]})})]})})})]})},qz=()=>{const[t,e]=fe.useState({x:0,y:0}),[r,n]=fe.useState(!1);return fe.useEffect(()=>{const s=i=>{e({x:i.clientX,y:i.clientY});const c=i.target.closest("button, a, input, textarea, .section-container, .glass-panel, .interactive-element")!==null;n(c)};return window.addEventListener("mousemove",s),()=>window.removeEventListener("mousemove",s)},[]),U.jsxs(U.Fragment,{children:[U.jsx("div",{className:"cursor-dot",style:{left:`${t.x}px`,top:`${t.y}px`}}),U.jsx("div",{className:`cursor-aura ${r?"cursor-aura-hidden":""}`,style:{left:`${t.x}px`,top:`${t.y}px`}})]})},Hz=()=>{const t=fe.useRef(null),e=fe.useRef([]),r=fe.useRef({x:0,y:0}),n=fe.useRef();return fe.useEffect(()=>{const s=t.current;if(!s)return;const i=s.getContext("2d");s.width=window.innerWidth,s.height=window.innerHeight,e.current=Array.from({length:10},()=>{const b=Math.random()*Math.PI*2,w=1+Math.random()*.5;return{x:Math.random()*s.width,y:Math.random()*s.height,size:20+Math.random()*40,vx:Math.cos(b)*w,vy:Math.sin(b)*w,opacity:.05+Math.random()*.1,strokeOpacity:.2+Math.random()*.3,speed:w}});const u=()=>{i.clearRect(0,0,s.width,s.height),e.current.forEach(b=>{const w=r.current.x-b.x,x=r.current.y-b.y,E=Math.sqrt(w*w+x*x);b.x+=b.vx,b.y+=b.vy,(b.x-b.size<0||b.x+b.size>s.width)&&(b.vx=-b.vx,b.x-b.size<0&&(b.x=b.size),b.x+b.size>s.width&&(b.x=s.width-b.size)),(b.y-b.size<0||b.y+b.size>s.height)&&(b.vy=-b.vy,b.y-b.size<0&&(b.y=b.size),b.y+b.size>s.height&&(b.y=s.height-b.size));const A=Math.sqrt(b.vx*b.vx+b.vy*b.vy);if(b.vx=b.vx/A*b.speed,b.vy=b.vy/A*b.speed,E<100){const D=Math.atan2(x,w),W=(100-E)*.01;b.vx-=Math.cos(D)*W,b.vy-=Math.sin(D)*W;const P=Math.sqrt(b.vx*b.vx+b.vy*b.vy);b.vx=b.vx/P*b.speed,b.vy=b.vy/P*b.speed}i.beginPath();const N=i.createRadialGradient(b.x,b.y,0,b.x,b.y,b.size);N.addColorStop(0,`rgba(0, 255, 157, ${b.opacity})`),N.addColorStop(1,"rgba(0, 255, 157, 0)"),i.fillStyle=N,i.strokeStyle=`rgba(0, 255, 157, ${b.strokeOpacity})`,i.lineWidth=1,i.arc(b.x,b.y,b.size,0,Math.PI*2),i.fill(),i.stroke()}),n.current=requestAnimationFrame(u)},c=b=>{r.current={x:b.clientX,y:b.clientY}},v=()=>{s.width=window.innerWidth,s.height=window.innerHeight};return window.addEventListener("mousemove",c),window.addEventListener("resize",v),n.current=requestAnimationFrame(u),()=>{window.removeEventListener("mousemove",c),window.removeEventListener("resize",v),n.current&&cancelAnimationFrame(n.current)}},[]),U.jsx("canvas",{ref:t,className:"fixed inset-0 pointer-events-none z-0"})},Kz=()=>{const t=fe.useRef(null),e=fe.useRef(0);return fe.useEffect(()=>{const r=t.current;if(!r)return;const n=r.getContext("2d");let s;const i=()=>{const{devicePixelRatio:c=1}=window;r.width=window.innerWidth*c,r.height=window.innerHeight*c,n.scale(c,c)},u=c=>{if(!r)return;const v=window.innerWidth,b=window.innerHeight;n.clearRect(0,0,v,b);const w=50,x=.5,E=(c-e.current)/5e3;e.current=c,n.beginPath(),n.strokeStyle="rgba(0, 255, 157, 0.1)",n.lineWidth=x;for(let A=0;A<=v;A+=w){const N=Math.sin(A/200+E)*2;n.moveTo(A+N,0),n.lineTo(A+N,b)}for(let A=0;A<=b;A+=w){const N=Math.cos(A/200+E)*2;n.moveTo(0,A+N),n.lineTo(v,A+N)}n.stroke(),n.shadowBlur=5,n.shadowColor="rgba(0, 255, 157, 0.2)";for(let A=0;A<=v;A+=w)for(let N=0;N<=b;N+=w){const D=Math.sin(A/200+E)*2,W=Math.cos(N/200+E)*2;n.beginPath(),n.fillStyle="rgba(0, 255, 157, 0.15)",n.arc(A+D,N+W,1,0,Math.PI*2),n.fill()}s=requestAnimationFrame(u)};return window.addEventListener("resize",i),i(),s=requestAnimationFrame(u),()=>{window.removeEventListener("resize",i),cancelAnimationFrame(s)}},[]),U.jsx("canvas",{ref:t,className:"fixed inset-0 pointer-events-none z-0 bg-transparent",style:{width:"100vw",height:"100vh"}})},Wz=()=>{const t=fe.useRef(null),e=fe.useRef(),r=fe.useRef(0);return fe.useEffect(()=>{const n=t.current;if(!n)return;const s=n.getContext("2d"),i=()=>{const{innerWidth:c,innerHeight:v,devicePixelRatio:b=1}=window;n.style.width=`${c}px`,n.style.height=`${v}px`,n.width=Math.floor(c*b),n.height=Math.floor(v*b),s.scale(b,b)},u=c=>{s.clearRect(0,0,n.width,n.height);const v=window.innerWidth,b=window.innerHeight,w=c*1e-4%1;r.current=w,s.strokeStyle="rgba(0, 255, 157, 0.6)",s.lineWidth=3,s.shadowColor="rgba(0, 255, 157, 0.8)",s.shadowBlur=25,s.strokeRect(0,0,v,b);const x=2*(v+b),E=w*x,A=250;s.strokeStyle="rgba(0, 255, 157, 1)",s.shadowColor="rgba(0, 255, 157, 1)",s.shadowBlur=30,s.lineWidth=4,s.lineCap="round",s.beginPath();let N,D;if(E<v)N={x:E,y:0},D={x:Math.min(E+A,v),y:0};else if(E<v+b){const P=E-v;N={x:v,y:P},D={x:v,y:Math.min(P+A,b)}}else if(E<2*v+b){const P=E-(v+b);N={x:v-P,y:b},D={x:Math.max(v-(P+A),0),y:b}}else{const P=E-(2*v+b);N={x:0,y:b-P},D={x:0,y:Math.max(b-(P+A),0)}}const W=s.createLinearGradient(N.x,N.y,D.x,D.y);W.addColorStop(0,"rgba(0, 255, 157, 0)"),W.addColorStop(.5,"rgba(0, 255, 157, 1)"),W.addColorStop(1,"rgba(0, 255, 157, 0)"),s.strokeStyle=W,s.moveTo(N.x,N.y),s.lineTo(D.x,D.y),s.stroke(),e.current=requestAnimationFrame(u)};return i(),window.addEventListener("resize",i),e.current=requestAnimationFrame(u),()=>{window.removeEventListener("resize",i),e.current&&cancelAnimationFrame(e.current)}},[]),U.jsx("canvas",{ref:t,className:"fixed inset-0 pointer-events-none",style:{zIndex:1,width:"100vw",height:"100vh"}})};function Gz(){const{pathname:t}=Za(),e=t==="/";return U.jsxs("div",{className:"min-h-screen relative bg-gray-900",children:[U.jsx(Kz,{}),U.jsx(Wz,{}),U.jsx(Hz,{}),U.jsx(qz,{}),e?U.jsx(ay,{}):U.jsxs(U.Fragment,{children:[U.jsxs(My,{children:[U.jsx(zz,{}),U.jsxs("div",{className:"relative",children:[U.jsx(ay,{}),U.jsx($z,{})]})]}),U.jsx(aS,{children:U.jsx("div",{className:"flex items-center justify-center min-h-screen",children:U.jsx(gS,{redirectUrl:t})})})]})]})}const Zz=()=>{const t=Yp(),{isSignedIn:e}=oS(),r=()=>{e&&t("/app")};return U.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 text-white",children:U.jsx("div",{className:"container mx-auto px-4 min-h-screen flex items-center justify-center",children:U.jsxs("div",{className:"text-center w-full max-w-5xl mx-auto py-16",children:[U.jsxs("h1",{className:"text-7xl font-bold mb-8",children:[U.jsx("span",{className:"bg-gradient-to-r from-[#ffffff] via-[#00ff9d]/90 to-[#00ff9d] bg-clip-text text-transparent",children:"TradeA"}),U.jsx("span",{className:"inline-block bg-gradient-to-r from-[#00ff9d] to-[#00bf76] bg-clip-text text-transparent",children:"+"})]}),U.jsx("p",{className:"text-2xl font-['JetBrains_Mono'] text-[#00ff9d] max-w-2xl mx-auto mb-16",children:"With TradeA+, You Will Only See Green"}),U.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-16",children:[U.jsxs("div",{className:`glass-panel p-10 text-center transform hover:scale-[1.02] hover:-translate-y-1\r
              transition-all duration-500 ease-out animate-float`,children:[U.jsx("div",{className:"mb-4 inline-block p-3 rounded-xl bg-[#00ff9d]/10",children:U.jsx(l9,{className:"w-6 h-6 text-[#00ff9d]"})}),U.jsx("h3",{className:"text-xl font-semibold mb-4 text-[#00ff9d]",children:"Win Rate Tracking"}),U.jsx("p",{className:"text-gray-300",children:"Track your success with our advanced win/loss calculator"})]}),U.jsxs("div",{className:`glass-panel p-10 text-center transform hover:scale-[1.02] hover:-translate-y-1\r
              transition-all duration-500 ease-out animate-float animation-delay-200`,children:[U.jsx("div",{className:"mb-4 inline-block p-3 rounded-xl bg-[#00ff9d]/10",children:U.jsx(J0,{className:"w-6 h-6 text-[#00ff9d]"})}),U.jsx("h3",{className:"text-xl font-semibold mb-4 text-[#00ff9d]",children:"Real-Time Analysis"}),U.jsx("p",{className:"text-gray-300",children:"Instant insights for better trading decisions"})]}),U.jsxs("div",{className:`glass-panel p-10 text-center transform hover:scale-[1.02] hover:-translate-y-1\r
              transition-all duration-500 ease-out animate-float animation-delay-400`,children:[U.jsx("div",{className:"mb-4 inline-block p-3 rounded-xl bg-[#00ff9d]/10",children:U.jsx(f9,{className:"w-6 h-6 text-[#00ff9d]"})}),U.jsx("h3",{className:"text-xl font-semibold mb-4 text-[#00ff9d]",children:"Multi-Timeframe"}),U.jsx("p",{className:"text-gray-300",children:"Comprehensive analysis across multiple timeframes"})]})]}),U.jsx("div",{className:"mt-16",children:e?U.jsxs("button",{onClick:r,className:`neon-button glow-effect group relative px-12 py-5 text-2xl font-semibold\r
                  rounded-xl transition-all duration-300 ease-out hover:-translate-y-1`,children:[U.jsx("span",{className:"bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent",children:"Go to App"}),U.jsx("div",{className:`absolute inset-0 -z-10 bg-gradient-to-r from-blue-500/0 via-blue-500/30 to-purple-500/0\r
                  rounded-xl opacity-0 group-hover:opacity-100 blur-xl transition-opacity duration-500`})]}):U.jsx(MS,{mode:"modal",redirectUrl:"/app",children:U.jsxs("button",{className:`neon-button glow-effect group relative px-12 py-5 text-2xl font-semibold\r
                  rounded-xl transition-all duration-300 ease-out hover:-translate-y-1`,children:[U.jsx("span",{className:"bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent",children:"Get Started"}),U.jsx("div",{className:`absolute inset-0 -z-10 bg-gradient-to-r from-blue-500/0 via-blue-500/30 to-purple-500/0\r
                    rounded-xl opacity-0 group-hover:opacity-100 blur-xl transition-opacity duration-500`})]})})})]})})})};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b4;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT"})(b4||(b4={}));var x4;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(x4||(x4={}));var M4;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(M4||(M4={}));var E4;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER"})(E4||(E4={}));var xp;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.OTHER="OTHER"})(xp||(xp={}));var S4;(function(t){t.TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",t.RETRIEVAL_QUERY="RETRIEVAL_QUERY",t.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",t.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",t.CLASSIFICATION="CLASSIFICATION",t.CLUSTERING="CLUSTERING"})(S4||(S4={}));/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class I4 extends rc{constructor(e,r){super(e),this.response=r}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz="https://generativelanguage.googleapis.com",Yz="v1",Jz="0.2.1",Xz="genai-js";var $a;(function(t){t.GENERATE_CONTENT="generateContent",t.STREAM_GENERATE_CONTENT="streamGenerateContent",t.COUNT_TOKENS="countTokens",t.EMBED_CONTENT="embedContent",t.BATCH_EMBED_CONTENTS="batchEmbedContents"})($a||($a={}));class Tc{constructor(e,r,n,s){this.model=e,this.task=r,this.apiKey=n,this.stream=s}toString(){let e=`${Qz}/${Yz}/${this.model}:${this.task}`;return this.stream&&(e+="?alt=sse"),e}}function e$(){return`${Xz}/${Jz}`}async function Rc(t,e,r){let n;try{if(n=await fetch(t.toString(),Object.assign(Object.assign({},t$(r)),{method:"POST",headers:{"Content-Type":"application/json","x-goog-api-client":e$(),"x-goog-api-key":t.apiKey},body:e})),!n.ok){let s="";try{const i=await n.json();s=i.error.message,i.error.details&&(s+=` ${JSON.stringify(i.error.details)}`)}catch{}throw new Error(`[${n.status} ${n.statusText}] ${s}`)}}catch(s){const i=new rc(`Error fetching from ${t.toString()}: ${s.message}`);throw i.stack=s.stack,i}return n}function t$(t){const e={};if((t==null?void 0:t.timeout)>=0){const r=new AbortController,n=r.signal;setTimeout(()=>r.abort(),t.timeout),e.signal=n}return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(t){return t.text=()=>{if(t.candidates&&t.candidates.length>0){if(t.candidates.length>1&&console.warn(`This response had ${t.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),WI(t.candidates[0]))throw new I4(`${Mp(t)}`,t);return r$(t)}else if(t.promptFeedback)throw new I4(`Text not available. ${Mp(t)}`,t);return""},t}function r$(t){var e,r,n,s;return!((s=(n=(r=(e=t.candidates)===null||e===void 0?void 0:e[0].content)===null||r===void 0?void 0:r.parts)===null||n===void 0?void 0:n[0])===null||s===void 0)&&s.text?t.candidates[0].content.parts[0].text:""}const n$=[xp.RECITATION,xp.SAFETY];function WI(t){return!!t.finishReason&&n$.includes(t.finishReason)}function Mp(t){var e,r,n;let s="";if((!t.candidates||t.candidates.length===0)&&t.promptFeedback)s+="Response was blocked",!((e=t.promptFeedback)===null||e===void 0)&&e.blockReason&&(s+=` due to ${t.promptFeedback.blockReason}`),!((r=t.promptFeedback)===null||r===void 0)&&r.blockReasonMessage&&(s+=`: ${t.promptFeedback.blockReasonMessage}`);else if(!((n=t.candidates)===null||n===void 0)&&n[0]){const i=t.candidates[0];WI(i)&&(s+=`Candidate was blocked due to ${i.finishReason}`,i.finishMessage&&(s+=`: ${i.finishMessage}`))}return s}function nc(t){return this instanceof nc?(this.v=t,this):new nc(t)}function i$(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s={},u("next"),u("throw"),u("return"),s[Symbol.asyncIterator]=function(){return this},s;function u(E){n[E]&&(s[E]=function(A){return new Promise(function(N,D){i.push([E,A,N,D])>1||c(E,A)})})}function c(E,A){try{v(n[E](A))}catch(N){x(i[0][3],N)}}function v(E){E.value instanceof nc?Promise.resolve(E.value.v).then(b,w):x(i[0][2],E)}function b(E){c("next",E)}function w(E){c("throw",E)}function x(E,A){E(A),i.shift(),i.length&&c(i[0][0],i[0][1])}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;function s$(t){const e=t.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0})),r=l$(e),[n,s]=r.tee();return{stream:a$(n),response:o$(s)}}async function o$(t){const e=[],r=t.getReader();for(;;){const{done:n,value:s}=await r.read();if(n)return T_(u$(e));e.push(s)}}function a$(t){return i$(this,arguments,function*(){const r=t.getReader();for(;;){const{value:n,done:s}=yield nc(r.read());if(s)break;yield yield nc(T_(n))}})}function l$(t){const e=t.getReader();return new ReadableStream({start(n){let s="";return i();function i(){return e.read().then(({value:u,done:c})=>{if(c){if(s.trim()){n.error(new rc("Failed to parse stream"));return}n.close();return}s+=u;let v=s.match(A4),b;for(;v;){try{b=JSON.parse(v[1])}catch{n.error(new rc(`Error parsing JSON response: "${v[1]}"`));return}n.enqueue(b),s=s.substring(v[0].length),v=s.match(A4)}return i()})}}})}function u$(t){const e=t[t.length-1],r={promptFeedback:e==null?void 0:e.promptFeedback};for(const n of t)if(n.candidates)for(const s of n.candidates){const i=s.index;if(r.candidates||(r.candidates=[]),r.candidates[i]||(r.candidates[i]={index:s.index}),r.candidates[i].citationMetadata=s.citationMetadata,r.candidates[i].finishReason=s.finishReason,r.candidates[i].finishMessage=s.finishMessage,r.candidates[i].safetyRatings=s.safetyRatings,s.content&&s.content.parts){r.candidates[i].content||(r.candidates[i].content={role:s.content.role||"user",parts:[{text:""}]});for(const u of s.content.parts)u.text&&(r.candidates[i].content.parts[0].text+=u.text)}}return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(t,e,r,n){const s=new Tc(e,$a.STREAM_GENERATE_CONTENT,t,!0),i=await Rc(s,JSON.stringify(r),n);return s$(i)}async function ZI(t,e,r,n){const s=new Tc(e,$a.GENERATE_CONTENT,t,!1),u=await(await Rc(s,JSON.stringify(r),n)).json();return{response:T_(u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(t,e){let r=[];if(typeof t=="string")r=[{text:t}];else for(const n of t)typeof n=="string"?r.push({text:n}):r.push(n);return{role:e,parts:r}}function wg(t){return t.contents?t:{contents:[yh(t,"user")]}}function f$(t){return typeof t=="string"||Array.isArray(t)?{content:yh(t,"user")}:t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4="SILENT_ERROR";class h${constructor(e,r,n,s){this.model=r,this.params=n,this.requestOptions=s,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,n!=null&&n.history&&(this._history=n.history.map(i=>{if(!i.role)throw new Error("Missing role for history item: "+JSON.stringify(i));return yh(i.parts,i.role)}))}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e){var r,n;await this._sendPromise;const s=yh(e,"user"),i={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(n=this.params)===null||n===void 0?void 0:n.generationConfig,contents:[...this._history,s]};let u;return this._sendPromise=this._sendPromise.then(()=>ZI(this._apiKey,this.model,i,this.requestOptions)).then(c=>{var v;if(c.response.candidates&&c.response.candidates.length>0){this._history.push(s);const b=Object.assign({parts:[],role:"model"},(v=c.response.candidates)===null||v===void 0?void 0:v[0].content);this._history.push(b)}else{const b=Mp(c.response);b&&console.warn(`sendMessage() was unsuccessful. ${b}. Inspect response object for details.`)}u=c}),await this._sendPromise,u}async sendMessageStream(e){var r,n;await this._sendPromise;const s=yh(e,"user"),i={safetySettings:(r=this.params)===null||r===void 0?void 0:r.safetySettings,generationConfig:(n=this.params)===null||n===void 0?void 0:n.generationConfig,contents:[...this._history,s]},u=GI(this._apiKey,this.model,i,this.requestOptions);return this._sendPromise=this._sendPromise.then(()=>u).catch(c=>{throw new Error(T4)}).then(c=>c.response).then(c=>{if(c.candidates&&c.candidates.length>0){this._history.push(s);const v=Object.assign({},c.candidates[0].content);v.role||(v.role="model"),this._history.push(v)}else{const v=Mp(c);v&&console.warn(`sendMessageStream() was unsuccessful. ${v}. Inspect response object for details.`)}}).catch(c=>{c.message!==T4&&console.error(c)}),u}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c$(t,e,r,n){const s=new Tc(e,$a.COUNT_TOKENS,t,!1);return(await Rc(s,JSON.stringify(Object.assign(Object.assign({},r),{model:e})),n)).json()}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d$(t,e,r,n){const s=new Tc(e,$a.EMBED_CONTENT,t,!1);return(await Rc(s,JSON.stringify(r),n)).json()}async function p$(t,e,r,n){const s=new Tc(e,$a.BATCH_EMBED_CONTENTS,t,!1),i=r.requests.map(c=>Object.assign(Object.assign({},c),{model:e}));return(await Rc(s,JSON.stringify({requests:i}),n)).json()}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(e,r,n){this.apiKey=e,r.model.includes("/")?this.model=r.model:this.model=`models/${r.model}`,this.generationConfig=r.generationConfig||{},this.safetySettings=r.safetySettings||[],this.requestOptions=n||{}}async generateContent(e){const r=wg(e);return ZI(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings},r),this.requestOptions)}async generateContentStream(e){const r=wg(e);return GI(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings},r),this.requestOptions)}startChat(e){return new h$(this.apiKey,this.model,e,this.requestOptions)}async countTokens(e){const r=wg(e);return c$(this.apiKey,this.model,r)}async embedContent(e){const r=f$(e);return d$(this.apiKey,this.model,r)}async batchEmbedContents(e){return p$(this.apiKey,this.model,e,this.requestOptions)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v${constructor(e){this.apiKey=e}getGenerativeModel(e,r){if(!e.model)throw new rc("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new m$(this.apiKey,e,r)}}const R4=1500,pa=class pa{constructor(){Qo(this,"usageCache");Qo(this,"lastFetch");Qo(this,"currentDay");Qo(this,"cleanupTimeout");Qo(this,"keyNames");this.usageCache=new Map,this.keyNames=new Map,this.lastFetch=new Date(0),this.currentDay=new Date().getDate(),this.cleanupTimeout=null,this.scheduleNextCleanup()}getEstTime(e=new Date){const s=(e.getTimezoneOffset()- -240)*60*1e3;return new Date(e.getTime()-s)}scheduleNextCleanup(){this.cleanupTimeout&&clearTimeout(this.cleanupTimeout);const e=new Date,r=this.getEstTime(e),n=new Date(r);n.setHours(24,0,0,0);const s=e.getTimezoneOffset()*60*1e3,i=-4*60*60*1e3,u=s+i,v=new Date(n.getTime()+u).getTime()-e.getTime();console.log("Current time (Local):",e.toISOString()),console.log("Current time (EST):",r.toISOString()),console.log("Next cleanup (EST):",n.toISOString()),console.log("Time until cleanup:",v/(1e3*60*60),"hours"),this.cleanupTimeout=setTimeout(async()=>{await this.handleDayChange(),this.scheduleNextCleanup()},v)}async handleDayChange(){try{await Dz(),this.usageCache.clear(),this.lastFetch=new Date(0),this.currentDay=new Date().getDate(),await this.refreshUsageStats()}catch(e){console.error("Error handling day change:",e)}}async refreshUsageStats(){try{if(new Date().getDate()!==this.currentDay){await this.handleDayChange();return}const r=await Bz();this.usageCache.clear(),this.keyNames.forEach((n,s)=>{this.usageCache.set(s,{used:0,name:n})}),Object.entries(r).forEach(([n,s])=>{this.usageCache.set(n,{used:s.used||0,name:this.keyNames.get(n)||s.name||"Unknown Key"})}),this.lastFetch=new Date}catch(e){console.error("Failed to refresh API key usage stats:",e)}}static getInstance(){return pa.instance||(pa.instance=new pa),pa.instance}registerKey(e,r){this.keyNames.set(e,r)}async incrementUsage(e){Date.now()-this.lastFetch.getTime()>3e4&&await this.refreshUsageStats();const r=this.usageCache.get(e);if(r&&r.used>=R4)return!1;const n=this.keyNames.get(e)||"Unknown Key",s=await Nz(e,n);return s&&this.usageCache.set(e,{used:((r==null?void 0:r.used)||0)+1,name:n}),s}async getAllKeyUsage(){Date.now()-this.lastFetch.getTime()>3e4&&await this.refreshUsageStats();const e=new Set([...this.keyNames.keys(),...this.usageCache.keys()]);return Array.from(e).map(r=>{const n=this.usageCache.get(r),s=this.keyNames.get(r)||(n==null?void 0:n.name)||"Unknown Key",i=(n==null?void 0:n.used)||0;return{key:r,used:i,remaining:R4-i,name:s}})}};Qo(pa,"instance");let Ep=pa;const Gl=[{key:"AIzaSyDZO8whO-YXVVk0zzK9Vcm3TT0N1IiDiKM",name:"Original key from Sharjeel"},{key:"AIzaSyAvLoAwZSHREtov8Hy7tpaYqZplwmhaaMg",name:"Key From R Gmail"},{key:"AIzaSyBOXaRkVju8ZmRftBfMzwmpBoqb6N-oSSE",name:"Key #2 from Sharjeel"},{key:"AIzaSyCBVvxbmYUU_mOzRlJOR1sT5V40Gg2GFJA",name:"Azen Gmail key"},{key:"AIzaSyAq7QuT9sbKgWVs5LcAWMhF1YFyuGqbQLU",name:"Flodisk key"},{key:"AIzaSyBy4KKuADk0bHmGFFlRdGZ1GxL9fl0GaiQ",name:"Tutor key"}].filter(t=>!!t.key),QI=Ep.getInstance();Gl.forEach(({key:t,name:e})=>QI.registerKey(t,e));let zi=0,v0=new Set;async function g$(){const t=zi;do{if(v0.size===Gl.length)return v0.clear(),null;const e=Gl[zi];if(!v0.has(zi))return e.key;zi=(zi+1)%Gl.length}while(zi!==t);return null}const y$=(t,e)=>{let r;const n=new Promise((s,i)=>{r=setTimeout(()=>{i(new Error("Analysis request timed out. Please try again."))},e)});return Promise.race([t,n]).finally(()=>{clearTimeout(r)})};async function w$(t){try{console.log("Starting analysis...");const e=i=>i.split(",")[1]||i;let r=0;const n=Gl.length*2;let s=null;for(;r<n;){if(s=await g$(),!s){r++;continue}try{const u=new v$(s).getGenerativeModel({model:"gemini-2.0-flash"});console.log("Model initialized");const x=(await(await y$(u.generateContent([{text:`You are a trading analysis AI. Analyze these charts and return ONLY a JSON object. 

STRICT RULES:
1. Always maintain a 1:2 risk to reward ratio
2. Risk (distance from entry to stop loss) must never exceed 5% of entry price
3. Take profit must be 2x the distance of stop loss from entry

Example structure:
{
  "entryPrice": 50000.00,
  "stopLoss": 48750.00,    // 2.5% risk (within 5% limit)
  "takeProfit": 52500.00,  // 5% reward (2x the risk)
  "positionType": "LONG",
  "winRate": 65,
  "riskRewardRatio": 2.0,
  "confirmationPoints": ["Support level at 50000", "Bullish RSI divergence"],
  "reasoning": "Price showing strong support with bullish momentum"
}

Base your analysis on:
- Support/resistance levels
- Trend direction on both timeframes
- Price action patterns
- Volume analysis if visible
- Technical indicators

IMPORTANT: 
- Respond ONLY with the JSON object
- Always calculate stop loss within 5% of entry
- Always set take profit at 2x the stop loss distance`},{inlineData:{mimeType:"image/jpeg",data:e(t["15M"])}},{inlineData:{mimeType:"image/jpeg",data:e(t["1H"])}}]),3e4)).response).text().trim().match(/\{[\s\S]*\}/);if(!x)throw new Error("No JSON object found in response");try{const E=JSON.parse(x[0]),A=["entryPrice","stopLoss","takeProfit","positionType","winRate"];for(const N of A)if(!(N in E))throw new Error(`Missing required field: ${N}`);return await QI.incrementUsage(s),{...E,tradeId:crypto.randomUUID(),riskRewardRatio:Number(((E.takeProfit-E.entryPrice)/(E.entryPrice-E.stopLoss)).toFixed(2))}}catch(E){throw console.error("Failed to parse API response:",E),new Error(`Invalid analysis format: ${(E==null?void 0:E.message)||"Unknown parse error"}`)}}catch(i){console.error(`API call failed with key index ${zi}:`,i),v0.add(zi),zi=(zi+1)%Gl.length,r++}}throw new Error("All API keys exhausted. Please try again later.")}catch(e){throw e instanceof Error?e:new Error("An unexpected error occurred")}}const k4=60,_$=()=>{const[t,e]=fe.useState(!1),[r,n]=fe.useState(0);return fe.useEffect(()=>{if(!t)return;const i=Date.now(),u=setInterval(()=>{const c=Math.floor((Date.now()-i)/1e3),v=k4-c;v<=0?(e(!1),n(0),clearInterval(u)):n(v)},1e3);return()=>clearInterval(u)},[t]),{isInCooldown:t,remainingTime:r,startCooldown:()=>{e(!0),n(k4)}}},b$=({analysis:t,charts:e,tradeType:r})=>{const{saveTrade:n,updateTradeResult:s,updateWinRateStats:i}=TS(),[u,c]=fe.useState(!1),[v,b]=fe.useState(!1),w=async x=>{c(!0);try{const E=await n({analysis:{entryPrice:t.entryPrice,stopLoss:t.stopLoss,takeProfit:t.takeProfit,positionType:t.positionType,winRate:t.winRate,reasoning:t.reasoning,riskRewardRatio:t.riskRewardRatio,confirmationPoints:t.confirmationPoints,metadata:{confidence:t.winRate,timeOfDay:new Date().toLocaleTimeString()}},charts:e,tradeType:r,lastModified:new Date().toISOString()});await s(E,x),await i(x),b(!0)}catch(E){console.error("Failed to save trade result:",E)}finally{c(!1)}};return U.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-xl p-6 border border-blue-500/30",children:[U.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Analysis Results"}),U.jsxs("div",{className:"space-y-6",children:[U.jsxs("div",{className:"flex items-center gap-4",children:[U.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-lg ${t.positionType==="LONG"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:[t.positionType==="LONG"?U.jsx(KO,{className:"w-5 h-5"}):U.jsx(HO,{className:"w-5 h-5"}),U.jsx("span",{className:"font-semibold",children:t.positionType})]}),U.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-blue-500/20 text-blue-400 rounded-lg",children:[U.jsx(s9,{className:"w-5 h-5"}),U.jsxs("span",{className:"font-semibold",children:["Win Rate: ",t.winRate,"%"]})]})]}),U.jsxs("div",{className:"grid gap-3",children:[U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx(f9,{className:"w-5 h-5 text-white"}),U.jsx("span",{className:"text-gray-300",children:"Entry Price:"}),U.jsxs("span",{className:"text-white font-semibold",children:["$",t.entryPrice.toFixed(2)]})]}),U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx(WO,{className:"w-5 h-5 text-green-400"}),U.jsx("span",{className:"text-gray-300",children:"Take Profit:"}),U.jsxs("span",{className:"text-green-400 font-semibold",children:["$",t.takeProfit.toFixed(2)]})]}),U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx(h9,{className:"w-5 h-5 text-red-400"}),U.jsx("span",{className:"text-gray-300",children:"Stop Loss:"}),U.jsxs("span",{className:"text-red-400 font-semibold",children:["$",t.stopLoss.toFixed(2)]})]})]}),U.jsxs("div",{className:"space-y-3",children:[U.jsxs("div",{className:"pt-3 border-t border-gray-700",children:[U.jsx("span",{className:"text-gray-300",children:"Risk/Reward Ratio:"}),U.jsxs("span",{className:"ml-2 text-blue-400 font-semibold",children:["1:",t.riskRewardRatio]})]}),t.confirmationPoints&&t.confirmationPoints.length>0&&U.jsxs("div",{className:"pt-3 border-t border-gray-700",children:[U.jsx("h3",{className:"text-white font-medium mb-2",children:"Confirmation Points:"}),U.jsx("ul",{className:"list-disc list-inside text-gray-300 space-y-1",children:t.confirmationPoints.map((x,E)=>U.jsx("li",{children:x},E))})]})]})]}),U.jsx("div",{className:"mt-6 space-y-3",children:v?U.jsx("div",{className:"text-center text-gray-400",children:"Trade result recorded! Check your win rate in the top right."}):U.jsxs("div",{className:"flex items-center gap-2",children:[U.jsx("button",{onClick:()=>w("WIN"),disabled:u,className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 \r
                bg-green-500/20 hover:bg-green-500/30 text-green-400\r
                rounded-lg transition-all duration-300 transform hover:scale-[1.02]\r
                border border-green-500/30 hover:border-green-500/50\r
                disabled:opacity-50 disabled:cursor-not-allowed\r
                focus:outline-none focus:ring-2 focus:ring-green-500/50`,children:u?U.jsx("div",{className:"w-5 h-5 border-2 border-green-400 border-t-transparent rounded-full animate-spin"}):U.jsxs(U.Fragment,{children:[U.jsx(nL,{className:"w-5 h-5"}),"Win"]})}),U.jsx("button",{onClick:()=>w("LOSS"),disabled:u,className:`flex-1 flex items-center justify-center gap-2 px-4 py-3 \r
                bg-red-500/20 hover:bg-red-500/30 text-red-400\r
                rounded-lg transition-all duration-300 transform hover:scale-[1.02]\r
                border border-red-500/30 hover:border-red-500/50\r
                disabled:opacity-50 disabled:cursor-not-allowed\r
                focus:outline-none focus:ring-2 focus:ring-red-500/50`,children:u?U.jsx("div",{className:"w-5 h-5 border-2 border-red-400 border-t-transparent rounded-full animate-spin"}):U.jsxs(U.Fragment,{children:[U.jsx(rL,{className:"w-5 h-5"}),"Loss"]})})]})})]})},x$=({onCancel:t})=>{const{user:e}=as(),[r]=fe.useState(!1),n=async()=>{if(!e)return;window.postMessage({status:"pending",message:"Starting payment process..."},window.location.origin);const i=`https://nowpayments.io/payment/?iid=6132566674&product_id=TRADEA_PREMIUM&order_id=${e.id}&success_url=${window.location.origin}/payment/success`,u=window.open(i,"_blank"),c=setInterval(()=>{u!=null&&u.closed&&(clearInterval(c),window.postMessage({status:"timeout",message:"Payment window was closed"},window.location.origin))},1e3)};return U.jsxs(U.Fragment,{children:[U.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9998]"}),U.jsx("div",{className:"absolute inset-x-0 top-0 z-[9999] flex items-center justify-center min-h-screen",children:U.jsxs("div",{className:`relative glass-panel p-8 rounded-2xl max-w-md w-[95%] mx-4 \r
          border border-[#00ff9d]/20 shadow-[0_8px_32px_rgba(0,255,157,0.2)]\r
          animate-[fadeIn_0.3s_ease-out,slideUp_0.3s_ease-out,float_3s_ease-in-out_infinite]`,children:[U.jsx("button",{onClick:t,className:`absolute -top-2 -right-2 p-2 rounded-full bg-gray-800/90 \r
              hover:bg-gray-700/90 transition-colors\r
              border border-[#00ff9d]/20 hover:border-[#00ff9d]/40\r
              text-[#00ff9d]`,children:U.jsx(c9,{className:"w-4 h-4"})}),U.jsxs("div",{className:"text-center mb-8",children:[U.jsx("div",{className:`inline-block p-4 bg-[#00ff9d]/10 rounded-full mb-4\r
              ring-4 ring-[#00ff9d]/5`,children:U.jsx(ZO,{className:"w-10 h-10 text-[#00ff9d]"})}),U.jsx("h2",{className:"text-2xl font-bold mb-3 bg-gradient-to-r from-white to-[#00ff9d] bg-clip-text text-transparent",children:"Upgrade to Premium"}),U.jsxs("p",{className:"text-gray-300 leading-relaxed",children:["You've used all your free analyses.",U.jsx("br",{}),"Unlock unlimited access for just",U.jsx("span",{className:"font-semibold text-[#00ff9d]",children:" $2.99"}),"!"]})]}),U.jsxs("div",{className:"space-y-3",children:[U.jsx("button",{onClick:n,disabled:r,className:`w-full py-3.5 px-6 bg-[#00ff9d]/20 hover:bg-[#00ff9d]/30\r
                rounded-lg font-semibold text-[#00ff9d]\r
                transform hover:scale-[1.02] transition-all duration-300\r
                border border-[#00ff9d]/30 hover:border-[#00ff9d]/50\r
                shadow-lg shadow-[#00ff9d]/20 disabled:opacity-50 \r
                disabled:cursor-not-allowed disabled:transform-none`,children:r?U.jsxs("div",{className:"flex items-center justify-center gap-2",children:[U.jsx(jh,{className:"w-5 h-5 animate-spin"}),"Processing..."]}):"Pay Now & Unlock"}),U.jsx("button",{onClick:t,disabled:r,className:`w-full py-3.5 px-6 bg-gray-800/50 hover:bg-gray-700/50\r
                rounded-lg font-medium text-gray-300\r
                border border-gray-600/50 hover:border-[#00ff9d]/20\r
                transition-all duration-300 disabled:opacity-50 \r
                disabled:cursor-not-allowed`,children:"Maybe Later"})]})]})})]})},M$=()=>{const{user:t}=as(),e=(t==null?void 0:t.firstName)||(t==null?void 0:t.username)||"there",r=[`Hey ${e}!`,`Welcome back, ${e}!`,`Hey ${e}, ready to trade?`,`Great to see you, ${e}!`],n=r[Math.floor(Math.random()*r.length)];return U.jsx("h1",{className:`text-2xl font-bold bg-gradient-to-r from-white to-blue-200 \r
      bg-clip-text text-transparent mb-6 animate-fadeIn`,children:n})},E$=()=>{const[t,e]=fe.useState([]);return fe.useEffect(()=>{const r=n=>{if(n.origin==="https://nowpayments.io"){const s={type:n.data.status,message:n.data.message,timestamp:new Date().toLocaleTimeString()};e(i=>[s,...i])}};return window.addEventListener("message",r),()=>window.removeEventListener("message",r)},[]),t.length===0?null:U.jsx("div",{className:"fixed bottom-4 right-4 z-[9999] w-80 max-h-96 overflow-y-auto",children:U.jsx("div",{className:"space-y-2",children:t.map((r,n)=>U.jsx("div",{className:`p-4 rounded-lg bg-gray-800/95 backdrop-blur-sm border border-gray-700/50 \r
              shadow-lg animate-slideUp`,children:U.jsxs("div",{className:"flex items-start gap-3",children:[r.type==="success"&&U.jsx(o9,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),r.type==="error"&&U.jsx(h9,{className:"w-5 h-5 text-red-500 flex-shrink-0"}),r.type==="pending"&&U.jsx(jh,{className:"w-5 h-5 text-blue-500 animate-spin flex-shrink-0"}),r.type==="timeout"&&U.jsx(Rw,{className:"w-5 h-5 text-yellow-500 flex-shrink-0"}),U.jsxs("div",{className:"flex-1",children:[U.jsx("p",{className:"text-sm text-gray-300",children:r.message}),U.jsx("p",{className:"text-xs text-gray-500 mt-1",children:r.timestamp})]})]})},n))})})},S$=()=>{const[t,e]=fe.useState("good"),[r,n]=fe.useState(!1),[s,i]=fe.useState({"5M":{screenshot:null},"15M":{screenshot:null},"1H":{screenshot:null},"4H":{screenshot:null}}),{isInCooldown:u,remainingTime:c,startCooldown:v}=_$(),[b,w]=fe.useState(null),[x,E]=fe.useState(null),{showPopup:A,incrementAnalysisCount:N,handlePayment:D,closePopup:W}=d9(),P={"5M":fe.useRef(null),"15M":fe.useRef(null),"1H":fe.useRef(null),"4H":fe.useRef(null)},C=j=>Q=>{var o;const g=(o=Q.target.files)==null?void 0:o[0];if(g){if(!g.type.startsWith("image/")){alert("Please upload only image files");return}try{const l=new FileReader;l.onloadend=()=>{i(f=>({...f,[j]:{screenshot:l.result}}))},l.readAsDataURL(g)}catch(l){console.error("Error reading file:",l),alert("Failed to read image file")}}},z=j=>Q=>{Q.preventDefault();const g=Q.dataTransfer.files[0];if(g&&g.type.startsWith("image/")){const o=new FileReader;o.onloadend=()=>{i(l=>({...l,[j]:{screenshot:o.result}}))},o.readAsDataURL(g)}},K=j=>{j.preventDefault()},ne=()=>t==="good"?["15M","1H"]:["5M","15M","1H","4H"],ue=()=>ne().every(Q=>s[Q].screenshot!==null),G=async()=>{if(!(!ue()||u)&&await N()){n(!0),w(null);try{const j={"15M":s["15M"].screenshot,"1H":s["1H"].screenshot},Q=await w$(j);E(Q),v()}catch(j){console.error("Analysis failed:",j),w(j instanceof Error?j.message:"Failed to analyze screenshots. Please try again later.")}finally{n(!1)}}},q=()=>({"5M":s["5M"].screenshot||void 0,"15M":s["15M"].screenshot,"1H":s["1H"].screenshot,"4H":s["4H"].screenshot||void 0});return U.jsx("div",{className:"content-layer relative z-10",children:U.jsx("div",{className:"pt-24 px-8 pb-8",children:U.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[U.jsx(M$,{}),U.jsx(E$,{}),A&&U.jsx(x$,{onUpgrade:D,onCancel:W}),U.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr,450px] gap-8",children:[U.jsxs("div",{className:"space-y-8",children:[b&&U.jsxs("div",{className:"mb-6 p-4 glass-panel bg-red-500/10 border-red-500/20 rounded-lg flex items-center gap-3 text-red-400",children:[U.jsx(Rw,{className:"w-5 h-5 flex-shrink-0"}),U.jsx("p",{children:b})]}),U.jsxs("section",{className:"section-container animate-float",children:[U.jsxs("h2",{className:"section-title",children:[U.jsx(J0,{className:"icon w-6 h-6"}),"Analysis Type"]}),U.jsxs("div",{className:"flex gap-2",children:[U.jsx("button",{onClick:()=>e("good"),className:`neon-button hover-float px-8 py-3.5 rounded-lg text-lg font-medium ${t==="good"&&"active"}`,children:"Good Results (15M, 1H)"}),U.jsx("button",{onClick:()=>e("best"),className:`neon-button hover-float px-8 py-3.5 rounded-lg text-lg font-medium ${t==="best"&&"active"}`,children:"Best Results (5M, 15M, 1H, 4H)"})]})]}),U.jsxs("section",{className:"section-container animate-float animation-delay-200",children:[U.jsxs("h2",{className:"section-title",children:[U.jsx($3,{className:"icon w-6 h-6"}),"Chart Upload"]}),U.jsx("div",{className:"grid grid-cols-2 gap-6",children:ne().map(j=>U.jsxs("div",{className:"glass-panel p-6 hover-scale",children:[U.jsxs("h3",{className:"text-lg font-semibold mb-4",children:[j," Chart"]}),U.jsx("input",{type:"file",ref:P[j],onChange:C(j),accept:"image/*",className:"hidden"}),s[j].screenshot?U.jsxs("div",{className:"relative group transition-transform duration-300 hover:scale-[1.02]",children:[U.jsx("img",{src:s[j].screenshot,alt:`${j} Chart`,className:"w-full rounded-lg"}),U.jsx("div",{className:`absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 \r
                            flex items-center justify-center transition-all duration-300 cursor-pointer`,children:U.jsx(JO,{className:"w-8 h-8"})})]}):U.jsxs("div",{onDragOver:K,onDrop:z(j),onClick:()=>{var Q;return(Q=P[j].current)==null?void 0:Q.click()},className:`hover-float h-64 border-2 border-dashed border-gray-600 rounded-lg \r
                            flex flex-col items-center justify-center cursor-pointer`,children:[U.jsx($3,{className:"w-12 h-12 mb-4 neon-icon"}),U.jsxs("p",{className:"text-gray-400",children:["Upload ",j," Chart"]})]})]},j))})]}),U.jsx("section",{className:"section-container animate-float animation-delay-400",children:U.jsxs("div",{className:"flex flex-col items-center gap-4",children:[U.jsx("button",{onClick:G,disabled:!ue()||r||u,className:`neon-button flex items-center gap-2 px-8 py-4 rounded-lg\r
                      disabled:opacity-50 disabled:cursor-not-allowed`,children:r?U.jsxs(U.Fragment,{children:[U.jsx(jh,{className:"w-5 h-5 animate-spin"}),"Analyzing..."]}):u?U.jsxs(U.Fragment,{children:[U.jsx(Ay,{className:"w-5 h-5"}),"Wait ",c,"s"]}):U.jsxs(U.Fragment,{children:[U.jsx(Ay,{className:"w-5 h-5"}),"Analyze Charts"]})}),U.jsx("p",{className:"text-sm text-gray-400",children:ue()?u?"Take a Deep Breath for 1 Min to Refresh Your Mind":"Ready to analyze":`Please upload the required ${t==="good"?"15M and 1H":"all"} timeframe charts`})]})})]}),U.jsx("div",{className:"lg:sticky lg:top-24 h-fit",children:U.jsxs("div",{className:"section-container animate-float animation-delay-600",children:[U.jsxs("h2",{className:"section-title",children:[U.jsx(s9,{className:"icon w-6 h-6"}),"Analysis Results"]}),r?U.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[U.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mb-4"}),U.jsx("p",{className:"text-gray-400",children:"Analyzing charts..."})]}):x?U.jsx("div",{className:"space-y-6 content-transition",children:U.jsx(b$,{analysis:x,charts:q(),tradeType:t==="good"?"GOOD_RESULTS":"BEST_RESULTS"})}):U.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[U.jsx(J0,{className:"w-12 h-12 text-gray-600 mb-4"}),U.jsxs("p",{className:"text-gray-400",children:["Upload charts and click analyze",U.jsx("br",{}),"to see results here"]})]})]})})]})]})})})};function I$(){return U.jsx(gS,{path:"/sign-in",routing:"path",afterSignInUrl:"/app",redirectUrl:"/app",signUpUrl:"/sign-up",appearance:{elements:{formButtonPrimary:"bg-blue-500 hover:bg-blue-600 text-white",card:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50 [&_div:last-child]:!hidden",headerTitle:"text-white",headerSubtitle:"text-gray-300",socialButtonsBlockButton:"bg-gray-700/50 hover:bg-gray-600 border border-gray-600/50",socialButtonsBlockButtonText:"text-white",formFieldLabel:"text-gray-300",formFieldInput:"bg-gray-700/50 border-gray-600/50 text-white",footerActionLink:"!hidden opacity-0",footer:"!hidden opacity-0 invisible h-0 [&_*]:!hidden",footerText:"!hidden opacity-0",footerAction:"!hidden opacity-0",footerActionText:"!hidden opacity-0",rootBox:"mx-auto [&_cl-development-mode-badge]:!hidden [&>div:last-child]:!hidden"}}})}const R_=()=>{const t=fe.useRef(null),e=fe.useRef();return fe.useEffect(()=>{const r=t.current;if(!r)return;const n=window.devicePixelRatio||1,s=()=>{r.width=window.innerWidth*n,r.height=window.innerHeight*n,r.style.width=`${window.innerWidth}px`,r.style.height=`${window.innerHeight}px`};s();const i=r.getContext("2d",{alpha:!1,willReadFrequently:!1});if(!i)return;i.scale(n,n);const u=()=>{s(),i.scale(n,n)};window.addEventListener("resize",u);const c=Array.from({length:100},()=>({x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,size:.3+Math.random()*1,twinkleSpeed:3e-4+Math.random()*5e-4,brightness:Math.random()})),v=Array.from({length:1},()=>({x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,size:20+Math.random()*15,speed:5e-4+Math.random()*.001,color:`hsla(${210+Math.random()*40}, 70%, 50%, 0.15)`,glowColor:`hsla(${210+Math.random()*40}, 70%, 60%, 0.1)`,rotation:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*1e-4})),b=Array.from({length:3},()=>({x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,size:1+Math.random()*2,speed:.002+Math.random()*.004,angle:Math.random()*Math.PI*2,rotationSpeed:(Math.random()-.5)*5e-4,rotation:Math.random()*Math.PI*2}));let w=0;const x=E=>{if(E-w<16.67){e.current=requestAnimationFrame(x);return}w=E;const N=i.createLinearGradient(0,0,0,window.innerHeight);N.addColorStop(0,"#0f172a"),N.addColorStop(1,"#1e293b"),i.fillStyle=N,i.fillRect(0,0,window.innerWidth,window.innerHeight),i.save(),c.forEach(D=>{D.brightness+=D.twinkleSpeed,(D.brightness>1||D.brightness<0)&&(D.twinkleSpeed*=-1);const W=.2+D.brightness*.4;if(i.fillStyle=`rgba(255, 255, 255, ${W})`,i.beginPath(),i.arc(D.x,D.y,D.size,0,Math.PI*2),i.fill(),D.brightness>.8){const P=i.createRadialGradient(D.x,D.y,0,D.x,D.y,D.size*4);P.addColorStop(0,`rgba(255, 255, 255, ${W*.2})`),P.addColorStop(1,"rgba(255, 255, 255, 0)"),i.fillStyle=P,i.beginPath(),i.arc(D.x,D.y,D.size*4,0,Math.PI*2),i.fill()}}),i.restore(),v.forEach(D=>{D.x+=D.speed,D.x>r.width+D.size&&(D.x=-D.size),i.save(),i.translate(D.x,D.y),i.rotate(D.rotation),i.fillStyle=D.color,i.beginPath(),i.arc(0,0,D.size,0,Math.PI*2),i.fill(),i.restore()}),i.fillStyle="#8b8b8b",b.forEach(D=>{D.x+=Math.cos(D.angle)*D.speed,D.y+=Math.sin(D.angle)*D.speed,D.x<-D.size&&(D.x=r.width+D.size),D.x>r.width+D.size&&(D.x=-D.size),D.y<-D.size&&(D.y=r.height+D.size),D.y>r.height+D.size&&(D.y=-D.size),i.save(),i.translate(D.x,D.y),i.rotate(D.rotation),i.beginPath(),i.moveTo(-D.size,0),i.lineTo(-D.size/2,-D.size),i.lineTo(D.size/2,-D.size/2),i.lineTo(D.size,0),i.lineTo(D.size/2,D.size/2),i.lineTo(-D.size/2,D.size),i.closePath(),i.fill(),i.restore()}),e.current=requestAnimationFrame(x)};return x(0),()=>{window.removeEventListener("resize",u),e.current&&cancelAnimationFrame(e.current)}},[]),U.jsxs(U.Fragment,{children:[U.jsx("div",{className:"fixed inset-0 w-full h-full bg-gradient-to-b from-[#0f172a] to-[#1e293b] z-0"}),U.jsx("canvas",{ref:t,className:"fixed inset-0 w-full h-full",style:{backgroundColor:"transparent",imageRendering:"auto",zIndex:1,transform:"translateZ(0)",willChange:"transform",mixBlendMode:"screen"}}),U.jsx("div",{className:"fixed inset-0 bg-gradient-to-t from-[#0f172a]/50 to-transparent pointer-events-none z-[2]"})]})};function A$(){const{isSignedIn:t,isLoaded:e}=oS(),r=Za();return e?t?U.jsx(ay,{}):U.jsx(C8,{to:"/sign-in",state:{from:r},replace:!0}):U.jsxs("div",{className:"min-h-screen relative flex items-center justify-center",children:[U.jsx(R_,{}),U.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-4",children:[U.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),U.jsx("p",{className:"text-white/80",children:"Loading..."})]})]})}const T$=["user_2v0X4Rfy4U6wsZnT6OMKJGSpNqo`","user_2sF7P8RmU30ZAPZRMJkJ1NjUBib"],Nd=({children:t})=>{const{user:e,isLoaded:r}=as();return r?!e||!T$.includes(e.id)?U.jsx(C8,{to:"/app",replace:!0}):U.jsx(U.Fragment,{children:t}):null};function R$(){var r;const t=k8();let e="Something went wrong";return su(t)?e=t.statusText||((r=t.data)==null?void 0:r.message)||e:t instanceof Error&&(e=t.message),U.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900",children:U.jsxs("div",{className:"text-center",children:[U.jsx("h1",{className:"text-2xl text-white mb-4",children:"Oops!"}),U.jsx("p",{className:"text-gray-400",children:e})]})})}const k$=()=>U.jsxs("div",{className:"min-h-screen relative flex items-center justify-center bg-slate-900",children:[U.jsx(R_,{}),U.jsx("div",{className:"fixed inset-0 bg-blue-500/5 mix-blend-multiply pointer-events-none"}),U.jsxs("div",{className:"relative z-10 w-full max-w-md px-4 py-6",children:[U.jsx("div",{className:"absolute inset-0 bg-blue-500/5 blur-[100px] rounded-full"}),U.jsx(vO,{routing:"path",path:"/sign-up",signInUrl:"/sign-in",redirectUrl:"/app",appearance:{elements:{rootBox:"relative z-10",card:"bg-gray-800/50 backdrop-blur-sm border border-gray-700/50",headerTitle:"text-white",headerSubtitle:"text-gray-300",socialButtonsBlockButton:"bg-gray-700/50 border border-gray-600/50 hover:bg-gray-700",socialButtonsBlockButtonText:"text-white",formButtonPrimary:"bg-blue-500 hover:bg-blue-600",formFieldInput:"bg-gray-700/50 border-gray-600/50 text-white",formFieldLabel:"text-gray-300",footerActionLink:"text-blue-400 hover:text-blue-300"}}})]})]}),C$=()=>U.jsxs(U.Fragment,{children:[U.jsx(R_,{}),U.jsx("div",{className:"content-layer relative z-10 pt-24 px-4",children:U.jsx("div",{className:"max-w-2xl mx-auto",children:U.jsx(bS,{})})})]});var Et={},o2={exports:{}},a2={exports:{}},$s={},Om={};Om.byteLength=B$;Om.toByteArray=O$;Om.fromByteArray=V$;var Hi=[],Yn=[],P$=typeof Uint8Array<"u"?Uint8Array:Array,_g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ml=0,N$=_g.length;ml<N$;++ml)Hi[ml]=_g[ml],Yn[_g.charCodeAt(ml)]=ml;Yn[45]=62;Yn[95]=63;function YI(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function B$(t){var e=YI(t),r=e[0],n=e[1];return(r+n)*3/4-n}function D$(t,e,r){return(e+r)*3/4-r}function O$(t){var e,r=YI(t),n=r[0],s=r[1],i=new P$(D$(t,n,s)),u=0,c=s>0?n-4:n,v;for(v=0;v<c;v+=4)e=Yn[t.charCodeAt(v)]<<18|Yn[t.charCodeAt(v+1)]<<12|Yn[t.charCodeAt(v+2)]<<6|Yn[t.charCodeAt(v+3)],i[u++]=e>>16&255,i[u++]=e>>8&255,i[u++]=e&255;return s===2&&(e=Yn[t.charCodeAt(v)]<<2|Yn[t.charCodeAt(v+1)]>>4,i[u++]=e&255),s===1&&(e=Yn[t.charCodeAt(v)]<<10|Yn[t.charCodeAt(v+1)]<<4|Yn[t.charCodeAt(v+2)]>>2,i[u++]=e>>8&255,i[u++]=e&255),i}function L$(t){return Hi[t>>18&63]+Hi[t>>12&63]+Hi[t>>6&63]+Hi[t&63]}function F$(t,e,r){for(var n,s=[],i=e;i<r;i+=3)n=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(t[i+2]&255),s.push(L$(n));return s.join("")}function V$(t){for(var e,r=t.length,n=r%3,s=[],i=16383,u=0,c=r-n;u<c;u+=i)s.push(F$(t,u,u+i>c?c:u+i));return n===1?(e=t[r-1],s.push(Hi[e>>2]+Hi[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],s.push(Hi[e>>10]+Hi[e>>4&63]+Hi[e<<2&63]+"=")),s.join("")}var k_={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */k_.read=function(t,e,r,n,s){var i,u,c=s*8-n-1,v=(1<<c)-1,b=v>>1,w=-7,x=r?s-1:0,E=r?-1:1,A=t[e+x];for(x+=E,i=A&(1<<-w)-1,A>>=-w,w+=c;w>0;i=i*256+t[e+x],x+=E,w-=8);for(u=i&(1<<-w)-1,i>>=-w,w+=n;w>0;u=u*256+t[e+x],x+=E,w-=8);if(i===0)i=1-b;else{if(i===v)return u?NaN:(A?-1:1)*(1/0);u=u+Math.pow(2,n),i=i-b}return(A?-1:1)*u*Math.pow(2,i-n)};k_.write=function(t,e,r,n,s,i){var u,c,v,b=i*8-s-1,w=(1<<b)-1,x=w>>1,E=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=n?0:i-1,N=n?1:-1,D=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,u=w):(u=Math.floor(Math.log(e)/Math.LN2),e*(v=Math.pow(2,-u))<1&&(u--,v*=2),u+x>=1?e+=E/v:e+=E*Math.pow(2,1-x),e*v>=2&&(u++,v/=2),u+x>=w?(c=0,u=w):u+x>=1?(c=(e*v-1)*Math.pow(2,s),u=u+x):(c=e*Math.pow(2,x-1)*Math.pow(2,s),u=0));s>=8;t[r+A]=c&255,A+=N,c/=256,s-=8);for(u=u<<s|c,b+=s;b>0;t[r+A]=u&255,A+=N,u/=256,b-=8);t[r+A-N]|=D*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Om,r=k_,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=C,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=i(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const V=new Uint8Array(1),R={foo:function(){return 42}};return Object.setPrototypeOf(R,Uint8Array.prototype),Object.setPrototypeOf(V,R),V.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function u(V){if(V>s)throw new RangeError('The value "'+V+'" is invalid for option "size"');const R=new Uint8Array(V);return Object.setPrototypeOf(R,c.prototype),R}function c(V,R,L){if(typeof V=="number"){if(typeof R=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(V)}return v(V,R,L)}c.poolSize=8192;function v(V,R,L){if(typeof V=="string")return E(V,R);if(ArrayBuffer.isView(V))return N(V);if(V==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof V);if(Be(V,ArrayBuffer)||V&&Be(V.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Be(V,SharedArrayBuffer)||V&&Be(V.buffer,SharedArrayBuffer)))return D(V,R,L);if(typeof V=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const T=V.valueOf&&V.valueOf();if(T!=null&&T!==V)return c.from(T,R,L);const I=W(V);if(I)return I;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof V[Symbol.toPrimitive]=="function")return c.from(V[Symbol.toPrimitive]("string"),R,L);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof V)}c.from=function(V,R,L){return v(V,R,L)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function b(V){if(typeof V!="number")throw new TypeError('"size" argument must be of type number');if(V<0)throw new RangeError('The value "'+V+'" is invalid for option "size"')}function w(V,R,L){return b(V),V<=0?u(V):R!==void 0?typeof L=="string"?u(V).fill(R,L):u(V).fill(R):u(V)}c.alloc=function(V,R,L){return w(V,R,L)};function x(V){return b(V),u(V<0?0:P(V)|0)}c.allocUnsafe=function(V){return x(V)},c.allocUnsafeSlow=function(V){return x(V)};function E(V,R){if((typeof R!="string"||R==="")&&(R="utf8"),!c.isEncoding(R))throw new TypeError("Unknown encoding: "+R);const L=z(V,R)|0;let T=u(L);const I=T.write(V,R);return I!==L&&(T=T.slice(0,I)),T}function A(V){const R=V.length<0?0:P(V.length)|0,L=u(R);for(let T=0;T<R;T+=1)L[T]=V[T]&255;return L}function N(V){if(Be(V,Uint8Array)){const R=new Uint8Array(V);return D(R.buffer,R.byteOffset,R.byteLength)}return A(V)}function D(V,R,L){if(R<0||V.byteLength<R)throw new RangeError('"offset" is outside of buffer bounds');if(V.byteLength<R+(L||0))throw new RangeError('"length" is outside of buffer bounds');let T;return R===void 0&&L===void 0?T=new Uint8Array(V):L===void 0?T=new Uint8Array(V,R):T=new Uint8Array(V,R,L),Object.setPrototypeOf(T,c.prototype),T}function W(V){if(c.isBuffer(V)){const R=P(V.length)|0,L=u(R);return L.length===0||V.copy(L,0,0,R),L}if(V.length!==void 0)return typeof V.length!="number"||ft(V.length)?u(0):A(V);if(V.type==="Buffer"&&Array.isArray(V.data))return A(V.data)}function P(V){if(V>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return V|0}function C(V){return+V!=V&&(V=0),c.alloc(+V)}c.isBuffer=function(R){return R!=null&&R._isBuffer===!0&&R!==c.prototype},c.compare=function(R,L){if(Be(R,Uint8Array)&&(R=c.from(R,R.offset,R.byteLength)),Be(L,Uint8Array)&&(L=c.from(L,L.offset,L.byteLength)),!c.isBuffer(R)||!c.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(R===L)return 0;let T=R.length,I=L.length;for(let k=0,F=Math.min(T,I);k<F;++k)if(R[k]!==L[k]){T=R[k],I=L[k];break}return T<I?-1:I<T?1:0},c.isEncoding=function(R){switch(String(R).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(R,L){if(!Array.isArray(R))throw new TypeError('"list" argument must be an Array of Buffers');if(R.length===0)return c.alloc(0);let T;if(L===void 0)for(L=0,T=0;T<R.length;++T)L+=R[T].length;const I=c.allocUnsafe(L);let k=0;for(T=0;T<R.length;++T){let F=R[T];if(Be(F,Uint8Array))k+F.length>I.length?(c.isBuffer(F)||(F=c.from(F)),F.copy(I,k)):Uint8Array.prototype.set.call(I,F,k);else if(c.isBuffer(F))F.copy(I,k);else throw new TypeError('"list" argument must be an Array of Buffers');k+=F.length}return I};function z(V,R){if(c.isBuffer(V))return V.length;if(ArrayBuffer.isView(V)||Be(V,ArrayBuffer))return V.byteLength;if(typeof V!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof V);const L=V.length,T=arguments.length>2&&arguments[2]===!0;if(!T&&L===0)return 0;let I=!1;for(;;)switch(R){case"ascii":case"latin1":case"binary":return L;case"utf8":case"utf-8":return st(V).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L*2;case"hex":return L>>>1;case"base64":return it(V).length;default:if(I)return T?-1:st(V).length;R=(""+R).toLowerCase(),I=!0}}c.byteLength=z;function K(V,R,L){let T=!1;if((R===void 0||R<0)&&(R=0),R>this.length||((L===void 0||L>this.length)&&(L=this.length),L<=0)||(L>>>=0,R>>>=0,L<=R))return"";for(V||(V="utf8");;)switch(V){case"hex":return d(this,R,L);case"utf8":case"utf-8":return f(this,R,L);case"ascii":return y(this,R,L);case"latin1":case"binary":return _(this,R,L);case"base64":return l(this,R,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a(this,R,L);default:if(T)throw new TypeError("Unknown encoding: "+V);V=(V+"").toLowerCase(),T=!0}}c.prototype._isBuffer=!0;function ne(V,R,L){const T=V[R];V[R]=V[L],V[L]=T}c.prototype.swap16=function(){const R=this.length;if(R%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let L=0;L<R;L+=2)ne(this,L,L+1);return this},c.prototype.swap32=function(){const R=this.length;if(R%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let L=0;L<R;L+=4)ne(this,L,L+3),ne(this,L+1,L+2);return this},c.prototype.swap64=function(){const R=this.length;if(R%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let L=0;L<R;L+=8)ne(this,L,L+7),ne(this,L+1,L+6),ne(this,L+2,L+5),ne(this,L+3,L+4);return this},c.prototype.toString=function(){const R=this.length;return R===0?"":arguments.length===0?f(this,0,R):K.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(R){if(!c.isBuffer(R))throw new TypeError("Argument must be a Buffer");return this===R?!0:c.compare(this,R)===0},c.prototype.inspect=function(){let R="";const L=t.INSPECT_MAX_BYTES;return R=this.toString("hex",0,L).replace(/(.{2})/g,"$1 ").trim(),this.length>L&&(R+=" ... "),"<Buffer "+R+">"},n&&(c.prototype[n]=c.prototype.inspect),c.prototype.compare=function(R,L,T,I,k){if(Be(R,Uint8Array)&&(R=c.from(R,R.offset,R.byteLength)),!c.isBuffer(R))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof R);if(L===void 0&&(L=0),T===void 0&&(T=R?R.length:0),I===void 0&&(I=0),k===void 0&&(k=this.length),L<0||T>R.length||I<0||k>this.length)throw new RangeError("out of range index");if(I>=k&&L>=T)return 0;if(I>=k)return-1;if(L>=T)return 1;if(L>>>=0,T>>>=0,I>>>=0,k>>>=0,this===R)return 0;let F=k-I,Y=T-L;const pe=Math.min(F,Y),ie=this.slice(I,k),ge=R.slice(L,T);for(let qe=0;qe<pe;++qe)if(ie[qe]!==ge[qe]){F=ie[qe],Y=ge[qe];break}return F<Y?-1:Y<F?1:0};function ue(V,R,L,T,I){if(V.length===0)return-1;if(typeof L=="string"?(T=L,L=0):L>2147483647?L=2147483647:L<-2147483648&&(L=-2147483648),L=+L,ft(L)&&(L=I?0:V.length-1),L<0&&(L=V.length+L),L>=V.length){if(I)return-1;L=V.length-1}else if(L<0)if(I)L=0;else return-1;if(typeof R=="string"&&(R=c.from(R,T)),c.isBuffer(R))return R.length===0?-1:G(V,R,L,T,I);if(typeof R=="number")return R=R&255,typeof Uint8Array.prototype.indexOf=="function"?I?Uint8Array.prototype.indexOf.call(V,R,L):Uint8Array.prototype.lastIndexOf.call(V,R,L):G(V,[R],L,T,I);throw new TypeError("val must be string, number or Buffer")}function G(V,R,L,T,I){let k=1,F=V.length,Y=R.length;if(T!==void 0&&(T=String(T).toLowerCase(),T==="ucs2"||T==="ucs-2"||T==="utf16le"||T==="utf-16le")){if(V.length<2||R.length<2)return-1;k=2,F/=2,Y/=2,L/=2}function pe(ge,qe){return k===1?ge[qe]:ge.readUInt16BE(qe*k)}let ie;if(I){let ge=-1;for(ie=L;ie<F;ie++)if(pe(V,ie)===pe(R,ge===-1?0:ie-ge)){if(ge===-1&&(ge=ie),ie-ge+1===Y)return ge*k}else ge!==-1&&(ie-=ie-ge),ge=-1}else for(L+Y>F&&(L=F-Y),ie=L;ie>=0;ie--){let ge=!0;for(let qe=0;qe<Y;qe++)if(pe(V,ie+qe)!==pe(R,qe)){ge=!1;break}if(ge)return ie}return-1}c.prototype.includes=function(R,L,T){return this.indexOf(R,L,T)!==-1},c.prototype.indexOf=function(R,L,T){return ue(this,R,L,T,!0)},c.prototype.lastIndexOf=function(R,L,T){return ue(this,R,L,T,!1)};function q(V,R,L,T){L=Number(L)||0;const I=V.length-L;T?(T=Number(T),T>I&&(T=I)):T=I;const k=R.length;T>k/2&&(T=k/2);let F;for(F=0;F<T;++F){const Y=parseInt(R.substr(F*2,2),16);if(ft(Y))return F;V[L+F]=Y}return F}function j(V,R,L,T){return Ie(st(R,V.length-L),V,L,T)}function Q(V,R,L,T){return Ie(Te(R),V,L,T)}function g(V,R,L,T){return Ie(it(R),V,L,T)}function o(V,R,L,T){return Ie(ke(R,V.length-L),V,L,T)}c.prototype.write=function(R,L,T,I){if(L===void 0)I="utf8",T=this.length,L=0;else if(T===void 0&&typeof L=="string")I=L,T=this.length,L=0;else if(isFinite(L))L=L>>>0,isFinite(T)?(T=T>>>0,I===void 0&&(I="utf8")):(I=T,T=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const k=this.length-L;if((T===void 0||T>k)&&(T=k),R.length>0&&(T<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");I||(I="utf8");let F=!1;for(;;)switch(I){case"hex":return q(this,R,L,T);case"utf8":case"utf-8":return j(this,R,L,T);case"ascii":case"latin1":case"binary":return Q(this,R,L,T);case"base64":return g(this,R,L,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return o(this,R,L,T);default:if(F)throw new TypeError("Unknown encoding: "+I);I=(""+I).toLowerCase(),F=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function l(V,R,L){return R===0&&L===V.length?e.fromByteArray(V):e.fromByteArray(V.slice(R,L))}function f(V,R,L){L=Math.min(V.length,L);const T=[];let I=R;for(;I<L;){const k=V[I];let F=null,Y=k>239?4:k>223?3:k>191?2:1;if(I+Y<=L){let pe,ie,ge,qe;switch(Y){case 1:k<128&&(F=k);break;case 2:pe=V[I+1],(pe&192)===128&&(qe=(k&31)<<6|pe&63,qe>127&&(F=qe));break;case 3:pe=V[I+1],ie=V[I+2],(pe&192)===128&&(ie&192)===128&&(qe=(k&15)<<12|(pe&63)<<6|ie&63,qe>2047&&(qe<55296||qe>57343)&&(F=qe));break;case 4:pe=V[I+1],ie=V[I+2],ge=V[I+3],(pe&192)===128&&(ie&192)===128&&(ge&192)===128&&(qe=(k&15)<<18|(pe&63)<<12|(ie&63)<<6|ge&63,qe>65535&&qe<1114112&&(F=qe))}}F===null?(F=65533,Y=1):F>65535&&(F-=65536,T.push(F>>>10&1023|55296),F=56320|F&1023),T.push(F),I+=Y}return m(T)}const h=4096;function m(V){const R=V.length;if(R<=h)return String.fromCharCode.apply(String,V);let L="",T=0;for(;T<R;)L+=String.fromCharCode.apply(String,V.slice(T,T+=h));return L}function y(V,R,L){let T="";L=Math.min(V.length,L);for(let I=R;I<L;++I)T+=String.fromCharCode(V[I]&127);return T}function _(V,R,L){let T="";L=Math.min(V.length,L);for(let I=R;I<L;++I)T+=String.fromCharCode(V[I]);return T}function d(V,R,L){const T=V.length;(!R||R<0)&&(R=0),(!L||L<0||L>T)&&(L=T);let I="";for(let k=R;k<L;++k)I+=Ee[V[k]];return I}function a(V,R,L){const T=V.slice(R,L);let I="";for(let k=0;k<T.length-1;k+=2)I+=String.fromCharCode(T[k]+T[k+1]*256);return I}c.prototype.slice=function(R,L){const T=this.length;R=~~R,L=L===void 0?T:~~L,R<0?(R+=T,R<0&&(R=0)):R>T&&(R=T),L<0?(L+=T,L<0&&(L=0)):L>T&&(L=T),L<R&&(L=R);const I=this.subarray(R,L);return Object.setPrototypeOf(I,c.prototype),I};function p(V,R,L){if(V%1!==0||V<0)throw new RangeError("offset is not uint");if(V+R>L)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(R,L,T){R=R>>>0,L=L>>>0,T||p(R,L,this.length);let I=this[R],k=1,F=0;for(;++F<L&&(k*=256);)I+=this[R+F]*k;return I},c.prototype.readUintBE=c.prototype.readUIntBE=function(R,L,T){R=R>>>0,L=L>>>0,T||p(R,L,this.length);let I=this[R+--L],k=1;for(;L>0&&(k*=256);)I+=this[R+--L]*k;return I},c.prototype.readUint8=c.prototype.readUInt8=function(R,L){return R=R>>>0,L||p(R,1,this.length),this[R]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(R,L){return R=R>>>0,L||p(R,2,this.length),this[R]|this[R+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(R,L){return R=R>>>0,L||p(R,2,this.length),this[R]<<8|this[R+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(R,L){return R=R>>>0,L||p(R,4,this.length),(this[R]|this[R+1]<<8|this[R+2]<<16)+this[R+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(R,L){return R=R>>>0,L||p(R,4,this.length),this[R]*16777216+(this[R+1]<<16|this[R+2]<<8|this[R+3])},c.prototype.readBigUInt64LE=Me(function(R){R=R>>>0,de(R,"offset");const L=this[R],T=this[R+7];(L===void 0||T===void 0)&&Ye(R,this.length-8);const I=L+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24,k=this[++R]+this[++R]*2**8+this[++R]*2**16+T*2**24;return BigInt(I)+(BigInt(k)<<BigInt(32))}),c.prototype.readBigUInt64BE=Me(function(R){R=R>>>0,de(R,"offset");const L=this[R],T=this[R+7];(L===void 0||T===void 0)&&Ye(R,this.length-8);const I=L*2**24+this[++R]*2**16+this[++R]*2**8+this[++R],k=this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+T;return(BigInt(I)<<BigInt(32))+BigInt(k)}),c.prototype.readIntLE=function(R,L,T){R=R>>>0,L=L>>>0,T||p(R,L,this.length);let I=this[R],k=1,F=0;for(;++F<L&&(k*=256);)I+=this[R+F]*k;return k*=128,I>=k&&(I-=Math.pow(2,8*L)),I},c.prototype.readIntBE=function(R,L,T){R=R>>>0,L=L>>>0,T||p(R,L,this.length);let I=L,k=1,F=this[R+--I];for(;I>0&&(k*=256);)F+=this[R+--I]*k;return k*=128,F>=k&&(F-=Math.pow(2,8*L)),F},c.prototype.readInt8=function(R,L){return R=R>>>0,L||p(R,1,this.length),this[R]&128?(255-this[R]+1)*-1:this[R]},c.prototype.readInt16LE=function(R,L){R=R>>>0,L||p(R,2,this.length);const T=this[R]|this[R+1]<<8;return T&32768?T|4294901760:T},c.prototype.readInt16BE=function(R,L){R=R>>>0,L||p(R,2,this.length);const T=this[R+1]|this[R]<<8;return T&32768?T|4294901760:T},c.prototype.readInt32LE=function(R,L){return R=R>>>0,L||p(R,4,this.length),this[R]|this[R+1]<<8|this[R+2]<<16|this[R+3]<<24},c.prototype.readInt32BE=function(R,L){return R=R>>>0,L||p(R,4,this.length),this[R]<<24|this[R+1]<<16|this[R+2]<<8|this[R+3]},c.prototype.readBigInt64LE=Me(function(R){R=R>>>0,de(R,"offset");const L=this[R],T=this[R+7];(L===void 0||T===void 0)&&Ye(R,this.length-8);const I=this[R+4]+this[R+5]*2**8+this[R+6]*2**16+(T<<24);return(BigInt(I)<<BigInt(32))+BigInt(L+this[++R]*2**8+this[++R]*2**16+this[++R]*2**24)}),c.prototype.readBigInt64BE=Me(function(R){R=R>>>0,de(R,"offset");const L=this[R],T=this[R+7];(L===void 0||T===void 0)&&Ye(R,this.length-8);const I=(L<<24)+this[++R]*2**16+this[++R]*2**8+this[++R];return(BigInt(I)<<BigInt(32))+BigInt(this[++R]*2**24+this[++R]*2**16+this[++R]*2**8+T)}),c.prototype.readFloatLE=function(R,L){return R=R>>>0,L||p(R,4,this.length),r.read(this,R,!0,23,4)},c.prototype.readFloatBE=function(R,L){return R=R>>>0,L||p(R,4,this.length),r.read(this,R,!1,23,4)},c.prototype.readDoubleLE=function(R,L){return R=R>>>0,L||p(R,8,this.length),r.read(this,R,!0,52,8)},c.prototype.readDoubleBE=function(R,L){return R=R>>>0,L||p(R,8,this.length),r.read(this,R,!1,52,8)};function S(V,R,L,T,I,k){if(!c.isBuffer(V))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>I||R<k)throw new RangeError('"value" argument is out of bounds');if(L+T>V.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(R,L,T,I){if(R=+R,L=L>>>0,T=T>>>0,!I){const Y=Math.pow(2,8*T)-1;S(this,R,L,T,Y,0)}let k=1,F=0;for(this[L]=R&255;++F<T&&(k*=256);)this[L+F]=R/k&255;return L+T},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(R,L,T,I){if(R=+R,L=L>>>0,T=T>>>0,!I){const Y=Math.pow(2,8*T)-1;S(this,R,L,T,Y,0)}let k=T-1,F=1;for(this[L+k]=R&255;--k>=0&&(F*=256);)this[L+k]=R/F&255;return L+T},c.prototype.writeUint8=c.prototype.writeUInt8=function(R,L,T){return R=+R,L=L>>>0,T||S(this,R,L,1,255,0),this[L]=R&255,L+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(R,L,T){return R=+R,L=L>>>0,T||S(this,R,L,2,65535,0),this[L]=R&255,this[L+1]=R>>>8,L+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(R,L,T){return R=+R,L=L>>>0,T||S(this,R,L,2,65535,0),this[L]=R>>>8,this[L+1]=R&255,L+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(R,L,T){return R=+R,L=L>>>0,T||S(this,R,L,4,4294967295,0),this[L+3]=R>>>24,this[L+2]=R>>>16,this[L+1]=R>>>8,this[L]=R&255,L+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(R,L,T){return R=+R,L=L>>>0,T||S(this,R,L,4,4294967295,0),this[L]=R>>>24,this[L+1]=R>>>16,this[L+2]=R>>>8,this[L+3]=R&255,L+4};function B(V,R,L,T,I){he(R,T,I,V,L,7);let k=Number(R&BigInt(4294967295));V[L++]=k,k=k>>8,V[L++]=k,k=k>>8,V[L++]=k,k=k>>8,V[L++]=k;let F=Number(R>>BigInt(32)&BigInt(4294967295));return V[L++]=F,F=F>>8,V[L++]=F,F=F>>8,V[L++]=F,F=F>>8,V[L++]=F,L}function Z(V,R,L,T,I){he(R,T,I,V,L,7);let k=Number(R&BigInt(4294967295));V[L+7]=k,k=k>>8,V[L+6]=k,k=k>>8,V[L+5]=k,k=k>>8,V[L+4]=k;let F=Number(R>>BigInt(32)&BigInt(4294967295));return V[L+3]=F,F=F>>8,V[L+2]=F,F=F>>8,V[L+1]=F,F=F>>8,V[L]=F,L+8}c.prototype.writeBigUInt64LE=Me(function(R,L=0){return B(this,R,L,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=Me(function(R,L=0){return Z(this,R,L,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(R,L,T,I){if(R=+R,L=L>>>0,!I){const pe=Math.pow(2,8*T-1);S(this,R,L,T,pe-1,-pe)}let k=0,F=1,Y=0;for(this[L]=R&255;++k<T&&(F*=256);)R<0&&Y===0&&this[L+k-1]!==0&&(Y=1),this[L+k]=(R/F>>0)-Y&255;return L+T},c.prototype.writeIntBE=function(R,L,T,I){if(R=+R,L=L>>>0,!I){const pe=Math.pow(2,8*T-1);S(this,R,L,T,pe-1,-pe)}let k=T-1,F=1,Y=0;for(this[L+k]=R&255;--k>=0&&(F*=256);)R<0&&Y===0&&this[L+k+1]!==0&&(Y=1),this[L+k]=(R/F>>0)-Y&255;return L+T},c.prototype.writeInt8=function(R,L,T){return R=+R,L=L>>>0,T||S(this,R,L,1,127,-128),R<0&&(R=255+R+1),this[L]=R&255,L+1},c.prototype.writeInt16LE=function(R,L,T){return R=+R,L=L>>>0,T||S(this,R,L,2,32767,-32768),this[L]=R&255,this[L+1]=R>>>8,L+2},c.prototype.writeInt16BE=function(R,L,T){return R=+R,L=L>>>0,T||S(this,R,L,2,32767,-32768),this[L]=R>>>8,this[L+1]=R&255,L+2},c.prototype.writeInt32LE=function(R,L,T){return R=+R,L=L>>>0,T||S(this,R,L,4,2147483647,-2147483648),this[L]=R&255,this[L+1]=R>>>8,this[L+2]=R>>>16,this[L+3]=R>>>24,L+4},c.prototype.writeInt32BE=function(R,L,T){return R=+R,L=L>>>0,T||S(this,R,L,4,2147483647,-2147483648),R<0&&(R=4294967295+R+1),this[L]=R>>>24,this[L+1]=R>>>16,this[L+2]=R>>>8,this[L+3]=R&255,L+4},c.prototype.writeBigInt64LE=Me(function(R,L=0){return B(this,R,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=Me(function(R,L=0){return Z(this,R,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function X(V,R,L,T,I,k){if(L+T>V.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("Index out of range")}function oe(V,R,L,T,I){return R=+R,L=L>>>0,I||X(V,R,L,4),r.write(V,R,L,T,23,4),L+4}c.prototype.writeFloatLE=function(R,L,T){return oe(this,R,L,!0,T)},c.prototype.writeFloatBE=function(R,L,T){return oe(this,R,L,!1,T)};function H(V,R,L,T,I){return R=+R,L=L>>>0,I||X(V,R,L,8),r.write(V,R,L,T,52,8),L+8}c.prototype.writeDoubleLE=function(R,L,T){return H(this,R,L,!0,T)},c.prototype.writeDoubleBE=function(R,L,T){return H(this,R,L,!1,T)},c.prototype.copy=function(R,L,T,I){if(!c.isBuffer(R))throw new TypeError("argument should be a Buffer");if(T||(T=0),!I&&I!==0&&(I=this.length),L>=R.length&&(L=R.length),L||(L=0),I>0&&I<T&&(I=T),I===T||R.length===0||this.length===0)return 0;if(L<0)throw new RangeError("targetStart out of bounds");if(T<0||T>=this.length)throw new RangeError("Index out of range");if(I<0)throw new RangeError("sourceEnd out of bounds");I>this.length&&(I=this.length),R.length-L<I-T&&(I=R.length-L+T);const k=I-T;return this===R&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(L,T,I):Uint8Array.prototype.set.call(R,this.subarray(T,I),L),k},c.prototype.fill=function(R,L,T,I){if(typeof R=="string"){if(typeof L=="string"?(I=L,L=0,T=this.length):typeof T=="string"&&(I=T,T=this.length),I!==void 0&&typeof I!="string")throw new TypeError("encoding must be a string");if(typeof I=="string"&&!c.isEncoding(I))throw new TypeError("Unknown encoding: "+I);if(R.length===1){const F=R.charCodeAt(0);(I==="utf8"&&F<128||I==="latin1")&&(R=F)}}else typeof R=="number"?R=R&255:typeof R=="boolean"&&(R=Number(R));if(L<0||this.length<L||this.length<T)throw new RangeError("Out of range index");if(T<=L)return this;L=L>>>0,T=T===void 0?this.length:T>>>0,R||(R=0);let k;if(typeof R=="number")for(k=L;k<T;++k)this[k]=R;else{const F=c.isBuffer(R)?R:c.from(R,I),Y=F.length;if(Y===0)throw new TypeError('The value "'+R+'" is invalid for argument "value"');for(k=0;k<T-L;++k)this[k+L]=F[k%Y]}return this};const ee={};function se(V,R,L){ee[V]=class extends L{constructor(){super(),Object.defineProperty(this,"message",{value:R.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${V}]`,this.stack,delete this.name}get code(){return V}set code(I){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:I,writable:!0})}toString(){return`${this.name} [${V}]: ${this.message}`}}}se("ERR_BUFFER_OUT_OF_BOUNDS",function(V){return V?`${V} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),se("ERR_INVALID_ARG_TYPE",function(V,R){return`The "${V}" argument must be of type number. Received type ${typeof R}`},TypeError),se("ERR_OUT_OF_RANGE",function(V,R,L){let T=`The value of "${V}" is out of range.`,I=L;return Number.isInteger(L)&&Math.abs(L)>2**32?I=le(String(L)):typeof L=="bigint"&&(I=String(L),(L>BigInt(2)**BigInt(32)||L<-(BigInt(2)**BigInt(32)))&&(I=le(I)),I+="n"),T+=` It must be ${R}. Received ${I}`,T},RangeError);function le(V){let R="",L=V.length;const T=V[0]==="-"?1:0;for(;L>=T+4;L-=3)R=`_${V.slice(L-3,L)}${R}`;return`${V.slice(0,L)}${R}`}function Ge(V,R,L){de(R,"offset"),(V[R]===void 0||V[R+L]===void 0)&&Ye(R,V.length-(L+1))}function he(V,R,L,T,I,k){if(V>L||V<R){const F=typeof R=="bigint"?"n":"";let Y;throw R===0||R===BigInt(0)?Y=`>= 0${F} and < 2${F} ** ${(k+1)*8}${F}`:Y=`>= -(2${F} ** ${(k+1)*8-1}${F}) and < 2 ** ${(k+1)*8-1}${F}`,new ee.ERR_OUT_OF_RANGE("value",Y,V)}Ge(T,I,k)}function de(V,R){if(typeof V!="number")throw new ee.ERR_INVALID_ARG_TYPE(R,"number",V)}function Ye(V,R,L){throw Math.floor(V)!==V?(de(V,L),new ee.ERR_OUT_OF_RANGE("offset","an integer",V)):R<0?new ee.ERR_BUFFER_OUT_OF_BOUNDS:new ee.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${R}`,V)}const xe=/[^+/0-9A-Za-z-_]/g;function Se(V){if(V=V.split("=")[0],V=V.trim().replace(xe,""),V.length<2)return"";for(;V.length%4!==0;)V=V+"=";return V}function st(V,R){R=R||1/0;let L;const T=V.length;let I=null;const k=[];for(let F=0;F<T;++F){if(L=V.charCodeAt(F),L>55295&&L<57344){if(!I){if(L>56319){(R-=3)>-1&&k.push(239,191,189);continue}else if(F+1===T){(R-=3)>-1&&k.push(239,191,189);continue}I=L;continue}if(L<56320){(R-=3)>-1&&k.push(239,191,189),I=L;continue}L=(I-55296<<10|L-56320)+65536}else I&&(R-=3)>-1&&k.push(239,191,189);if(I=null,L<128){if((R-=1)<0)break;k.push(L)}else if(L<2048){if((R-=2)<0)break;k.push(L>>6|192,L&63|128)}else if(L<65536){if((R-=3)<0)break;k.push(L>>12|224,L>>6&63|128,L&63|128)}else if(L<1114112){if((R-=4)<0)break;k.push(L>>18|240,L>>12&63|128,L>>6&63|128,L&63|128)}else throw new Error("Invalid code point")}return k}function Te(V){const R=[];for(let L=0;L<V.length;++L)R.push(V.charCodeAt(L)&255);return R}function ke(V,R){let L,T,I;const k=[];for(let F=0;F<V.length&&!((R-=2)<0);++F)L=V.charCodeAt(F),T=L>>8,I=L%256,k.push(I),k.push(T);return k}function it(V){return e.toByteArray(Se(V))}function Ie(V,R,L,T){let I;for(I=0;I<T&&!(I+L>=R.length||I>=V.length);++I)R[I+L]=V[I];return I}function Be(V,R){return V instanceof R||V!=null&&V.constructor!=null&&V.constructor.name!=null&&V.constructor.name===R.name}function ft(V){return V!==V}const Ee=function(){const V="0123456789abcdef",R=new Array(256);for(let L=0;L<16;++L){const T=L*16;for(let I=0;I<16;++I)R[T+I]=V[L]+V[I]}return R}();function Me(V){return typeof BigInt>"u"?rt:V}function rt(){throw new Error("BigInt not supported")}})($s);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=$s,n=r.Buffer;function s(u,c){for(var v in u)c[v]=u[v]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(s(r,e),e.Buffer=i);function i(u,c,v){return n(u,c,v)}i.prototype=Object.create(n.prototype),s(n,i),i.from=function(u,c,v){if(typeof u=="number")throw new TypeError("Argument must not be a number");return n(u,c,v)},i.alloc=function(u,c,v){if(typeof u!="number")throw new TypeError("Argument must be a number");var b=n(u);return c!==void 0?typeof v=="string"?b.fill(c,v):b.fill(c):b.fill(0),b},i.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return n(u)},i.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(u)}})(a2,a2.exports);var At=a2.exports,bg=65536,U$=4294967295;function j$(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var z$=At.Buffer,Sp=Vt.crypto||Vt.msCrypto;Sp&&Sp.getRandomValues?o2.exports=$$:o2.exports=j$;function $$(t,e){if(t>U$)throw new RangeError("requested too many random bytes");var r=z$.allocUnsafe(t);if(t>0)if(t>bg)for(var n=0;n<t;n+=bg)Sp.getRandomValues(r.slice(n,n+bg));else Sp.getRandomValues(r);return typeof e=="function"?pr.nextTick(function(){e(null,r)}):r}var Hu=o2.exports,l2={exports:{}};typeof Object.create=="function"?l2.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:l2.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var kt=l2.exports,Ui=At.Buffer,JI=ui.Transform,q$=kt;function Ho(t){JI.call(this),this._block=Ui.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}q$(Ho,JI);Ho.prototype._transform=function(t,e,r){var n=null;try{this.update(t,e)}catch(s){n=s}r(n)};Ho.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(r){e=r}t(e)};var H$=typeof Uint8Array<"u",K$=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(Ui.prototype instanceof Uint8Array||Ui.TYPED_ARRAY_SUPPORT);function W$(t,e){if(t instanceof Ui)return t;if(typeof t=="string")return Ui.from(t,e);if(K$&&ArrayBuffer.isView(t)){if(t.byteLength===0)return Ui.alloc(0);var r=Ui.from(t.buffer,t.byteOffset,t.byteLength);if(r.byteLength===t.byteLength)return r}if(H$&&t instanceof Uint8Array||Ui.isBuffer(t)&&t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t))return Ui.from(t);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}Ho.prototype.update=function(t,e){if(this._finalized)throw new Error("Digest already called");t=W$(t,e);for(var r=this._block,n=0;this._blockOffset+t.length-n>=this._blockSize;){for(var s=this._blockOffset;s<this._blockSize;)r[s++]=t[n++];this._update(),this._blockOffset=0}for(;n<t.length;)r[this._blockOffset++]=t[n++];for(var i=0,u=t.length*8;u>0;++i)this._length[i]+=u,u=this._length[i]/4294967296|0,u>0&&(this._length[i]-=4294967296*u);return this};Ho.prototype._update=function(){throw new Error("_update is not implemented")};Ho.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();t!==void 0&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return e};Ho.prototype._digest=function(){throw new Error("_digest is not implemented")};var XI=Ho,G$=kt,eA=XI,Z$=At.Buffer,Q$=new Array(16);function Lm(){eA.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}G$(Lm,eA);Lm.prototype._update=function(){for(var t=Q$,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);var r=this._a,n=this._b,s=this._c,i=this._d;r=nn(r,n,s,i,t[0],3614090360,7),i=nn(i,r,n,s,t[1],3905402710,12),s=nn(s,i,r,n,t[2],606105819,17),n=nn(n,s,i,r,t[3],3250441966,22),r=nn(r,n,s,i,t[4],4118548399,7),i=nn(i,r,n,s,t[5],1200080426,12),s=nn(s,i,r,n,t[6],2821735955,17),n=nn(n,s,i,r,t[7],4249261313,22),r=nn(r,n,s,i,t[8],1770035416,7),i=nn(i,r,n,s,t[9],2336552879,12),s=nn(s,i,r,n,t[10],4294925233,17),n=nn(n,s,i,r,t[11],2304563134,22),r=nn(r,n,s,i,t[12],1804603682,7),i=nn(i,r,n,s,t[13],4254626195,12),s=nn(s,i,r,n,t[14],2792965006,17),n=nn(n,s,i,r,t[15],1236535329,22),r=sn(r,n,s,i,t[1],4129170786,5),i=sn(i,r,n,s,t[6],3225465664,9),s=sn(s,i,r,n,t[11],643717713,14),n=sn(n,s,i,r,t[0],3921069994,20),r=sn(r,n,s,i,t[5],3593408605,5),i=sn(i,r,n,s,t[10],38016083,9),s=sn(s,i,r,n,t[15],3634488961,14),n=sn(n,s,i,r,t[4],3889429448,20),r=sn(r,n,s,i,t[9],568446438,5),i=sn(i,r,n,s,t[14],3275163606,9),s=sn(s,i,r,n,t[3],4107603335,14),n=sn(n,s,i,r,t[8],1163531501,20),r=sn(r,n,s,i,t[13],2850285829,5),i=sn(i,r,n,s,t[2],4243563512,9),s=sn(s,i,r,n,t[7],1735328473,14),n=sn(n,s,i,r,t[12],2368359562,20),r=on(r,n,s,i,t[5],4294588738,4),i=on(i,r,n,s,t[8],2272392833,11),s=on(s,i,r,n,t[11],1839030562,16),n=on(n,s,i,r,t[14],4259657740,23),r=on(r,n,s,i,t[1],2763975236,4),i=on(i,r,n,s,t[4],1272893353,11),s=on(s,i,r,n,t[7],4139469664,16),n=on(n,s,i,r,t[10],3200236656,23),r=on(r,n,s,i,t[13],681279174,4),i=on(i,r,n,s,t[0],3936430074,11),s=on(s,i,r,n,t[3],3572445317,16),n=on(n,s,i,r,t[6],76029189,23),r=on(r,n,s,i,t[9],3654602809,4),i=on(i,r,n,s,t[12],3873151461,11),s=on(s,i,r,n,t[15],530742520,16),n=on(n,s,i,r,t[2],3299628645,23),r=an(r,n,s,i,t[0],4096336452,6),i=an(i,r,n,s,t[7],1126891415,10),s=an(s,i,r,n,t[14],2878612391,15),n=an(n,s,i,r,t[5],4237533241,21),r=an(r,n,s,i,t[12],1700485571,6),i=an(i,r,n,s,t[3],2399980690,10),s=an(s,i,r,n,t[10],4293915773,15),n=an(n,s,i,r,t[1],2240044497,21),r=an(r,n,s,i,t[8],1873313359,6),i=an(i,r,n,s,t[15],4264355552,10),s=an(s,i,r,n,t[6],2734768916,15),n=an(n,s,i,r,t[13],1309151649,21),r=an(r,n,s,i,t[4],4149444226,6),i=an(i,r,n,s,t[11],3174756917,10),s=an(s,i,r,n,t[2],718787259,15),n=an(n,s,i,r,t[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+s|0,this._d=this._d+i|0};Lm.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=Z$.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t};function Fm(t,e){return t<<e|t>>>32-e}function nn(t,e,r,n,s,i,u){return Fm(t+(e&r|~e&n)+s+i|0,u)+e|0}function sn(t,e,r,n,s,i,u){return Fm(t+(e&n|r&~n)+s+i|0,u)+e|0}function on(t,e,r,n,s,i,u){return Fm(t+(e^r^n)+s+i|0,u)+e|0}function an(t,e,r,n,s,i,u){return Fm(t+(r^(e|~n))+s+i|0,u)+e|0}var C_=Lm,xg=$s.Buffer,Y$=kt,tA=XI,J$=new Array(16),kf=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Cf=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Pf=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Nf=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Bf=[0,1518500249,1859775393,2400959708,2840853838],Df=[1352829926,1548603684,1836072691,2053994217,0];function Vm(){tA.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}Y$(Vm,tA);Vm.prototype._update=function(){for(var t=J$,e=0;e<16;++e)t[e]=this._block.readInt32LE(e*4);for(var r=this._a|0,n=this._b|0,s=this._c|0,i=this._d|0,u=this._e|0,c=this._a|0,v=this._b|0,b=this._c|0,w=this._d|0,x=this._e|0,E=0;E<80;E+=1){var A,N;E<16?(A=C4(r,n,s,i,u,t[kf[E]],Bf[0],Pf[E]),N=D4(c,v,b,w,x,t[Cf[E]],Df[0],Nf[E])):E<32?(A=P4(r,n,s,i,u,t[kf[E]],Bf[1],Pf[E]),N=B4(c,v,b,w,x,t[Cf[E]],Df[1],Nf[E])):E<48?(A=N4(r,n,s,i,u,t[kf[E]],Bf[2],Pf[E]),N=N4(c,v,b,w,x,t[Cf[E]],Df[2],Nf[E])):E<64?(A=B4(r,n,s,i,u,t[kf[E]],Bf[3],Pf[E]),N=P4(c,v,b,w,x,t[Cf[E]],Df[3],Nf[E])):(A=D4(r,n,s,i,u,t[kf[E]],Bf[4],Pf[E]),N=C4(c,v,b,w,x,t[Cf[E]],Df[4],Nf[E])),r=u,u=i,i=qa(s,10),s=n,n=A,c=x,x=w,w=qa(b,10),b=v,v=N}var D=this._b+s+w|0;this._b=this._c+i+x|0,this._c=this._d+u+c|0,this._d=this._e+r+v|0,this._e=this._a+n+b|0,this._a=D};Vm.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=xg.alloc?xg.alloc(20):new xg(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t};function qa(t,e){return t<<e|t>>>32-e}function C4(t,e,r,n,s,i,u,c){return qa(t+(e^r^n)+i+u|0,c)+s|0}function P4(t,e,r,n,s,i,u,c){return qa(t+(e&r|~e&n)+i+u|0,c)+s|0}function N4(t,e,r,n,s,i,u,c){return qa(t+((e|~r)^n)+i+u|0,c)+s|0}function B4(t,e,r,n,s,i,u,c){return qa(t+(e&n|r&~n)+i+u|0,c)+s|0}function D4(t,e,r,n,s,i,u,c){return qa(t+(e^(r|~n))+i+u|0,c)+s|0}var P_=Vm,rA={exports:{}},nA=At.Buffer;function Um(t,e){this._block=nA.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}Um.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=nA.from(t,e));for(var r=this._block,n=this._blockSize,s=t.length,i=this._len,u=0;u<s;){for(var c=i%n,v=Math.min(s-u,n-c),b=0;b<v;b++)r[c+b]=t[u+b];i+=v,u+=v,i%n===0&&this._update(r)}return this._len+=s,this};Um.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,s=(r-n)/4294967296;this._block.writeUInt32BE(s,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var i=this._hash();return t?i.toString(t):i};Um.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var Ku=Um,X$=kt,iA=Ku,eq=At.Buffer,tq=[1518500249,1859775393,-1894007588,-899497514],rq=new Array(80);function kc(){this.init(),this._w=rq,iA.call(this,64,56)}X$(kc,iA);kc.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function nq(t){return t<<5|t>>>27}function iq(t){return t<<30|t>>>2}function sq(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}kc.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,s=this._c|0,i=this._d|0,u=this._e|0,c=0;c<16;++c)e[c]=t.readInt32BE(c*4);for(;c<80;++c)e[c]=e[c-3]^e[c-8]^e[c-14]^e[c-16];for(var v=0;v<80;++v){var b=~~(v/20),w=nq(r)+sq(b,n,s,i)+u+e[v]+tq[b]|0;u=i,i=s,s=iq(n),n=r,r=w}this._a=r+this._a|0,this._b=n+this._b|0,this._c=s+this._c|0,this._d=i+this._d|0,this._e=u+this._e|0};kc.prototype._hash=function(){var t=eq.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var oq=kc,aq=kt,sA=Ku,lq=At.Buffer,uq=[1518500249,1859775393,-1894007588,-899497514],fq=new Array(80);function Cc(){this.init(),this._w=fq,sA.call(this,64,56)}aq(Cc,sA);Cc.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function hq(t){return t<<1|t>>>31}function cq(t){return t<<5|t>>>27}function dq(t){return t<<30|t>>>2}function pq(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}Cc.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,s=this._c|0,i=this._d|0,u=this._e|0,c=0;c<16;++c)e[c]=t.readInt32BE(c*4);for(;c<80;++c)e[c]=hq(e[c-3]^e[c-8]^e[c-14]^e[c-16]);for(var v=0;v<80;++v){var b=~~(v/20),w=cq(r)+pq(b,n,s,i)+u+e[v]+uq[b]|0;u=i,i=s,s=dq(n),n=r,r=w}this._a=r+this._a|0,this._b=n+this._b|0,this._c=s+this._c|0,this._d=i+this._d|0,this._e=u+this._e|0};Cc.prototype._hash=function(){var t=lq.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var mq=Cc,vq=kt,oA=Ku,gq=At.Buffer,yq=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],wq=new Array(64);function Pc(){this.init(),this._w=wq,oA.call(this,64,56)}vq(Pc,oA);Pc.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function _q(t,e,r){return r^t&(e^r)}function bq(t,e,r){return t&e|r&(t|e)}function xq(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function Mq(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function Eq(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function Sq(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}Pc.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,s=this._c|0,i=this._d|0,u=this._e|0,c=this._f|0,v=this._g|0,b=this._h|0,w=0;w<16;++w)e[w]=t.readInt32BE(w*4);for(;w<64;++w)e[w]=Sq(e[w-2])+e[w-7]+Eq(e[w-15])+e[w-16]|0;for(var x=0;x<64;++x){var E=b+Mq(u)+_q(u,c,v)+yq[x]+e[x]|0,A=xq(r)+bq(r,n,s)|0;b=v,v=c,c=u,u=i+E|0,i=s,s=n,n=r,r=E+A|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=s+this._c|0,this._d=i+this._d|0,this._e=u+this._e|0,this._f=c+this._f|0,this._g=v+this._g|0,this._h=b+this._h|0};Pc.prototype._hash=function(){var t=gq.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var aA=Pc,Iq=kt,Aq=aA,Tq=Ku,Rq=At.Buffer,kq=new Array(64);function jm(){this.init(),this._w=kq,Tq.call(this,64,56)}Iq(jm,Aq);jm.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};jm.prototype._hash=function(){var t=Rq.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var Cq=jm,Pq=kt,lA=Ku,Nq=At.Buffer,O4=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Bq=new Array(160);function Nc(){this.init(),this._w=Bq,lA.call(this,128,112)}Pq(Nc,lA);Nc.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function L4(t,e,r){return r^t&(e^r)}function F4(t,e,r){return t&e|r&(t|e)}function V4(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function U4(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function Dq(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function Oq(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function Lq(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function Fq(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function Or(t,e){return t>>>0<e>>>0?1:0}Nc.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,s=this._ch|0,i=this._dh|0,u=this._eh|0,c=this._fh|0,v=this._gh|0,b=this._hh|0,w=this._al|0,x=this._bl|0,E=this._cl|0,A=this._dl|0,N=this._el|0,D=this._fl|0,W=this._gl|0,P=this._hl|0,C=0;C<32;C+=2)e[C]=t.readInt32BE(C*4),e[C+1]=t.readInt32BE(C*4+4);for(;C<160;C+=2){var z=e[C-30],K=e[C-15*2+1],ne=Dq(z,K),ue=Oq(K,z);z=e[C-2*2],K=e[C-2*2+1];var G=Lq(z,K),q=Fq(K,z),j=e[C-7*2],Q=e[C-7*2+1],g=e[C-16*2],o=e[C-16*2+1],l=ue+Q|0,f=ne+j+Or(l,ue)|0;l=l+q|0,f=f+G+Or(l,q)|0,l=l+o|0,f=f+g+Or(l,o)|0,e[C]=f,e[C+1]=l}for(var h=0;h<160;h+=2){f=e[h],l=e[h+1];var m=F4(r,n,s),y=F4(w,x,E),_=V4(r,w),d=V4(w,r),a=U4(u,N),p=U4(N,u),S=O4[h],B=O4[h+1],Z=L4(u,c,v),X=L4(N,D,W),oe=P+p|0,H=b+a+Or(oe,P)|0;oe=oe+X|0,H=H+Z+Or(oe,X)|0,oe=oe+B|0,H=H+S+Or(oe,B)|0,oe=oe+l|0,H=H+f+Or(oe,l)|0;var ee=d+y|0,se=_+m+Or(ee,d)|0;b=v,P=W,v=c,W=D,c=u,D=N,N=A+oe|0,u=i+H+Or(N,A)|0,i=s,A=E,s=n,E=x,n=r,x=w,w=oe+ee|0,r=H+se+Or(w,oe)|0}this._al=this._al+w|0,this._bl=this._bl+x|0,this._cl=this._cl+E|0,this._dl=this._dl+A|0,this._el=this._el+N|0,this._fl=this._fl+D|0,this._gl=this._gl+W|0,this._hl=this._hl+P|0,this._ah=this._ah+r+Or(this._al,w)|0,this._bh=this._bh+n+Or(this._bl,x)|0,this._ch=this._ch+s+Or(this._cl,E)|0,this._dh=this._dh+i+Or(this._dl,A)|0,this._eh=this._eh+u+Or(this._el,N)|0,this._fh=this._fh+c+Or(this._fl,D)|0,this._gh=this._gh+v+Or(this._gl,W)|0,this._hh=this._hh+b+Or(this._hl,P)|0};Nc.prototype._hash=function(){var t=Nq.allocUnsafe(64);function e(r,n,s){t.writeInt32BE(r,s),t.writeInt32BE(n,s+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var uA=Nc,Vq=kt,Uq=uA,jq=Ku,zq=At.Buffer,$q=new Array(160);function zm(){this.init(),this._w=$q,jq.call(this,128,112)}Vq(zm,Uq);zm.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};zm.prototype._hash=function(){var t=zq.allocUnsafe(48);function e(r,n,s){t.writeInt32BE(r,s),t.writeInt32BE(n,s+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var qq=zm,qs=rA.exports=function(e){e=e.toLowerCase();var r=qs[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};qs.sha=oq;qs.sha1=mq;qs.sha224=Cq;qs.sha256=aA;qs.sha384=qq;qs.sha512=uA;var N_=rA.exports,fA={},B_=At.Buffer,j4=B_.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Hq(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function Kq(t){var e=Hq(t);if(typeof e!="string"&&(B_.isEncoding===j4||!j4(t)))throw new Error("Unknown encoding: "+t);return e||t}fA.StringDecoder=Bc;function Bc(t){this.encoding=Kq(t);var e;switch(this.encoding){case"utf16le":this.text=Jq,this.end=Xq,e=4;break;case"utf8":this.fillLast=Zq,e=4;break;case"base64":this.text=eH,this.end=tH,e=3;break;default:this.write=rH,this.end=nH;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=B_.allocUnsafe(e)}Bc.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Bc.prototype.end=Yq;Bc.prototype.text=Qq;Bc.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function Mg(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Wq(t,e,r){var n=e.length-1;if(n<r)return 0;var s=Mg(e[n]);return s>=0?(s>0&&(t.lastNeed=s-1),s):--n<r||s===-2?0:(s=Mg(e[n]),s>=0?(s>0&&(t.lastNeed=s-2),s):--n<r||s===-2?0:(s=Mg(e[n]),s>=0?(s>0&&(s===2?s=0:t.lastNeed=s-3),s):0))}function Gq(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,""}}function Zq(t){var e=this.lastTotal-this.lastNeed,r=Gq(this,t);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function Qq(t,e){var r=Wq(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function Yq(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e}function Jq(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Xq(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function eH(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function tH(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function rH(t){return t.toString(this.encoding)}function nH(t){return t&&t.length?this.write(t):""}var ji=At.Buffer,hA=ui.Transform,iH=fA.StringDecoder,sH=kt;function Ci(t){hA.call(this),this.hashMode=typeof t=="string",this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}sH(Ci,hA);var oH=typeof Uint8Array<"u",aH=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(ji.prototype instanceof Uint8Array||ji.TYPED_ARRAY_SUPPORT);function lH(t,e){if(t instanceof ji)return t;if(typeof t=="string")return ji.from(t,e);if(aH&&ArrayBuffer.isView(t)){if(t.byteLength===0)return ji.alloc(0);var r=ji.from(t.buffer,t.byteOffset,t.byteLength);if(r.byteLength===t.byteLength)return r}if(oH&&t instanceof Uint8Array||ji.isBuffer(t)&&t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t))return ji.from(t);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}Ci.prototype.update=function(t,e,r){var n=lH(t,e),s=this._update(n);return this.hashMode?this:(r&&(s=this._toString(s,r)),s)};Ci.prototype.setAutoPadding=function(){};Ci.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};Ci.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};Ci.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};Ci.prototype._transform=function(t,e,r){var n;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(s){n=s}finally{r(n)}};Ci.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(r){e=r}t(e)};Ci.prototype._finalOrDigest=function(t){var e=this.__final()||ji.alloc(0);return t&&(e=this._toString(e,t,!0)),e};Ci.prototype._toString=function(t,e,r){if(this._decoder||(this._decoder=new iH(e),this._encoding=e),this._encoding!==e)throw new Error("cant switch encodings");var n=this._decoder.write(t);return r&&(n+=this._decoder.end()),n};var Ko=Ci,uH=kt,fH=C_,hH=P_,cH=N_,cA=Ko;function $m(t){cA.call(this,"digest"),this._hash=t}uH($m,cA);$m.prototype._update=function(t){this._hash.update(t)};$m.prototype._final=function(){return this._hash.digest()};var Dc=function(e){return e=e.toLowerCase(),e==="md5"?new fH:e==="rmd160"||e==="ripemd160"?new hH:new $m(cH(e))},dH=kt,ba=At.Buffer,dA=Ko,pH=ba.alloc(128),vl=64;function qm(t,e){dA.call(this,"digest"),typeof e=="string"&&(e=ba.from(e)),this._alg=t,this._key=e,e.length>vl?e=t(e):e.length<vl&&(e=ba.concat([e,pH],vl));for(var r=this._ipad=ba.allocUnsafe(vl),n=this._opad=ba.allocUnsafe(vl),s=0;s<vl;s++)r[s]=e[s]^54,n[s]=e[s]^92;this._hash=[r]}dH(qm,dA);qm.prototype._update=function(t){this._hash.push(t)};qm.prototype._final=function(){var t=this._alg(ba.concat(this._hash));return this._alg(ba.concat([this._opad,t]))};var mH=qm,vH=C_,pA=function(t){return new vH().update(t).digest()},gH=kt,yH=mH,mA=Ko,Zf=At.Buffer,wH=pA,u2=P_,f2=N_,_H=Zf.alloc(128);function ic(t,e){mA.call(this,"digest"),typeof e=="string"&&(e=Zf.from(e));var r=t==="sha512"||t==="sha384"?128:64;if(this._alg=t,this._key=e,e.length>r){var n=t==="rmd160"?new u2:f2(t);e=n.update(e).digest()}else e.length<r&&(e=Zf.concat([e,_H],r));for(var s=this._ipad=Zf.allocUnsafe(r),i=this._opad=Zf.allocUnsafe(r),u=0;u<r;u++)s[u]=e[u]^54,i[u]=e[u]^92;this._hash=t==="rmd160"?new u2:f2(t),this._hash.update(s)}gH(ic,mA);ic.prototype._update=function(t){this._hash.update(t)};ic.prototype._final=function(){var t=this._hash.digest(),e=this._alg==="rmd160"?new u2:f2(this._alg);return e.update(this._opad).update(t).digest()};var vA=function(e,r){return e=e.toLowerCase(),e==="rmd160"||e==="ripemd160"?new ic("rmd160",r):e==="md5"?new yH(wH,r):new ic(e,r)};const bH={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},xH={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},MH={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},EH={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},SH={sign:"ecdsa",hash:"sha256",id:""},IH={sign:"ecdsa",hash:"sha224",id:""},AH={sign:"ecdsa",hash:"sha384",id:""},TH={sign:"ecdsa",hash:"sha512",id:""},RH={sign:"dsa",hash:"sha1",id:""},kH={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},CH={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},gA={sha224WithRSAEncryption:bH,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:xH,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:MH,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:EH,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:SH,sha224:IH,sha384:AH,sha512:TH,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:RH,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:kH,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:CH,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var PH=gA,Hm={},NH=Math.pow(2,30)-1,yA=function(t,e){if(typeof t!="number")throw new TypeError("Iterations not a number");if(t<0)throw new TypeError("Bad iterations");if(typeof e!="number")throw new TypeError("Key length not a number");if(e<0||e>NH||e!==e)throw new TypeError("Bad key length")},g0;if(Vt.process&&Vt.process.browser)g0="utf-8";else if(Vt.process&&Vt.process.version){var BH=parseInt(pr.version.split(".")[0].slice(1),10);g0=BH>=6?"utf-8":"binary"}else g0="utf-8";var wA=g0,Eg=At.Buffer,_A=function(t,e,r){if(Eg.isBuffer(t))return t;if(typeof t=="string")return Eg.from(t,e);if(ArrayBuffer.isView(t))return Eg.from(t.buffer);throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")},DH=pA,OH=P_,LH=N_,xa=At.Buffer,FH=yA,z4=wA,$4=_A,VH=xa.alloc(128),y0={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function bA(t,e,r){var n=UH(t),s=t==="sha512"||t==="sha384"?128:64;e.length>s?e=n(e):e.length<s&&(e=xa.concat([e,VH],s));for(var i=xa.allocUnsafe(s+y0[t]),u=xa.allocUnsafe(s+y0[t]),c=0;c<s;c++)i[c]=e[c]^54,u[c]=e[c]^92;var v=xa.allocUnsafe(s+r+4);i.copy(v,0,0,s),this.ipad1=v,this.ipad2=i,this.opad=u,this.alg=t,this.blocksize=s,this.hash=n,this.size=y0[t]}bA.prototype.run=function(t,e){t.copy(e,this.blocksize);var r=this.hash(e);return r.copy(this.opad,this.blocksize),this.hash(this.opad)};function UH(t){function e(n){return LH(t).update(n).digest()}function r(n){return new OH().update(n).digest()}return t==="rmd160"||t==="ripemd160"?r:t==="md5"?DH:e}function jH(t,e,r,n,s){FH(r,n),t=$4(t,z4,"Password"),e=$4(e,z4,"Salt"),s=s||"sha1";var i=new bA(s,t,e.length),u=xa.allocUnsafe(n),c=xa.allocUnsafe(e.length+4);e.copy(c,0,0,e.length);for(var v=0,b=y0[s],w=Math.ceil(n/b),x=1;x<=w;x++){c.writeUInt32BE(x,e.length);for(var E=i.run(c,i.ipad1),A=E,N=1;N<r;N++){A=i.run(A,i.ipad2);for(var D=0;D<b;D++)E[D]^=A[D]}E.copy(u,v),v+=b}return u}var xA=jH,MA=At.Buffer,zH=yA,q4=wA,H4=xA,K4=_A,Bd,wh=Vt.crypto&&Vt.crypto.subtle,$H={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},Sg=[];function qH(t){if(Vt.process&&!Vt.process.browser||!wh||!wh.importKey||!wh.deriveBits)return Promise.resolve(!1);if(Sg[t]!==void 0)return Sg[t];Bd=Bd||MA.alloc(8);var e=EA(Bd,Bd,10,128,t).then(function(){return!0}).catch(function(){return!1});return Sg[t]=e,e}var Jo;function h2(){return Jo||(Vt.process&&Vt.process.nextTick?Jo=Vt.process.nextTick:Vt.queueMicrotask?Jo=Vt.queueMicrotask:Vt.setImmediate?Jo=Vt.setImmediate:Jo=Vt.setTimeout,Jo)}function EA(t,e,r,n,s){return wh.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(i){return wh.deriveBits({name:"PBKDF2",salt:e,iterations:r,hash:{name:s}},i,n<<3)}).then(function(i){return MA.from(i)})}function HH(t,e){t.then(function(r){h2()(function(){e(null,r)})},function(r){h2()(function(){e(r)})})}var KH=function(t,e,r,n,s,i){typeof s=="function"&&(i=s,s=void 0),s=s||"sha1";var u=$H[s.toLowerCase()];if(!u||typeof Vt.Promise!="function"){h2()(function(){var c;try{c=H4(t,e,r,n,s)}catch(v){return i(v)}i(null,c)});return}if(zH(r,n),t=K4(t,q4,"Password"),e=K4(e,q4,"Salt"),typeof i!="function")throw new Error("No callback provided to pbkdf2");HH(qH(u).then(function(c){return c?EA(t,e,r,n,u):H4(t,e,r,n,s)}),i)};Hm.pbkdf2=KH;Hm.pbkdf2Sync=xA;var Ri={},Wu={},Gn={};Gn.readUInt32BE=function(e,r){var n=e[0+r]<<24|e[1+r]<<16|e[2+r]<<8|e[3+r];return n>>>0};Gn.writeUInt32BE=function(e,r,n){e[0+n]=r>>>24,e[1+n]=r>>>16&255,e[2+n]=r>>>8&255,e[3+n]=r&255};Gn.ip=function(e,r,n,s){for(var i=0,u=0,c=6;c>=0;c-=2){for(var v=0;v<=24;v+=8)i<<=1,i|=r>>>v+c&1;for(var v=0;v<=24;v+=8)i<<=1,i|=e>>>v+c&1}for(var c=6;c>=0;c-=2){for(var v=1;v<=25;v+=8)u<<=1,u|=r>>>v+c&1;for(var v=1;v<=25;v+=8)u<<=1,u|=e>>>v+c&1}n[s+0]=i>>>0,n[s+1]=u>>>0};Gn.rip=function(e,r,n,s){for(var i=0,u=0,c=0;c<4;c++)for(var v=24;v>=0;v-=8)i<<=1,i|=r>>>v+c&1,i<<=1,i|=e>>>v+c&1;for(var c=4;c<8;c++)for(var v=24;v>=0;v-=8)u<<=1,u|=r>>>v+c&1,u<<=1,u|=e>>>v+c&1;n[s+0]=i>>>0,n[s+1]=u>>>0};Gn.pc1=function(e,r,n,s){for(var i=0,u=0,c=7;c>=5;c--){for(var v=0;v<=24;v+=8)i<<=1,i|=r>>v+c&1;for(var v=0;v<=24;v+=8)i<<=1,i|=e>>v+c&1}for(var v=0;v<=24;v+=8)i<<=1,i|=r>>v+c&1;for(var c=1;c<=3;c++){for(var v=0;v<=24;v+=8)u<<=1,u|=r>>v+c&1;for(var v=0;v<=24;v+=8)u<<=1,u|=e>>v+c&1}for(var v=0;v<=24;v+=8)u<<=1,u|=e>>v+c&1;n[s+0]=i>>>0,n[s+1]=u>>>0};Gn.r28shl=function(e,r){return e<<r&268435455|e>>>28-r};var Dd=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];Gn.pc2=function(e,r,n,s){for(var i=0,u=0,c=Dd.length>>>1,v=0;v<c;v++)i<<=1,i|=e>>>Dd[v]&1;for(var v=c;v<Dd.length;v++)u<<=1,u|=r>>>Dd[v]&1;n[s+0]=i>>>0,n[s+1]=u>>>0};Gn.expand=function(e,r,n){var s=0,i=0;s=(e&1)<<5|e>>>27;for(var u=23;u>=15;u-=4)s<<=6,s|=e>>>u&63;for(var u=11;u>=3;u-=4)i|=e>>>u&63,i<<=6;i|=(e&31)<<1|e>>>31,r[n+0]=s>>>0,r[n+1]=i>>>0};var W4=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];Gn.substitute=function(e,r){for(var n=0,s=0;s<4;s++){var i=e>>>18-s*6&63,u=W4[s*64+i];n<<=4,n|=u}for(var s=0;s<4;s++){var i=r>>>18-s*6&63,u=W4[4*64+s*64+i];n<<=4,n|=u}return n>>>0};var G4=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];Gn.permute=function(e){for(var r=0,n=0;n<G4.length;n++)r<<=1,r|=e>>>G4[n]&1;return r>>>0};Gn.padSplit=function(e,r,n){for(var s=e.toString(2);s.length<r;)s="0"+s;for(var i=[],u=0;u<r;u+=n)i.push(s.slice(u,u+n));return i.join(" ")};var fi=SA;function SA(t,e){if(!t)throw new Error(e||"Assertion failed")}SA.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var WH=fi;function hi(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=t.padding!==!1}var D_=hi;hi.prototype._init=function(){};hi.prototype.update=function(e){return e.length===0?[]:this.type==="decrypt"?this._updateDecrypt(e):this._updateEncrypt(e)};hi.prototype._buffer=function(e,r){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-r),s=0;s<n;s++)this.buffer[this.bufferOff+s]=e[r+s];return this.bufferOff+=n,n};hi.prototype._flushBuffer=function(e,r){return this._update(this.buffer,0,e,r),this.bufferOff=0,this.blockSize};hi.prototype._updateEncrypt=function(e){var r=0,n=0,s=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(s*this.blockSize);this.bufferOff!==0&&(r+=this._buffer(e,r),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(i,n)));for(var u=e.length-(e.length-r)%this.blockSize;r<u;r+=this.blockSize)this._update(e,r,i,n),n+=this.blockSize;for(;r<e.length;r++,this.bufferOff++)this.buffer[this.bufferOff]=e[r];return i};hi.prototype._updateDecrypt=function(e){for(var r=0,n=0,s=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(s*this.blockSize);s>0;s--)r+=this._buffer(e,r),n+=this._flushBuffer(i,n);return r+=this._buffer(e,r),i};hi.prototype.final=function(e){var r;e&&(r=this.update(e));var n;return this.type==="encrypt"?n=this._finalEncrypt():n=this._finalDecrypt(),r?r.concat(n):n};hi.prototype._pad=function(e,r){if(r===0)return!1;for(;r<e.length;)e[r++]=0;return!0};hi.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e};hi.prototype._unpad=function(e){return e};hi.prototype._finalDecrypt=function(){WH.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)};var IA=fi,GH=kt,Nr=Gn,AA=D_;function ZH(){this.tmp=new Array(2),this.keys=null}function ns(t){AA.call(this,t);var e=new ZH;this._desState=e,this.deriveKeys(e,t.key)}GH(ns,AA);var TA=ns;ns.create=function(e){return new ns(e)};var QH=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];ns.prototype.deriveKeys=function(e,r){e.keys=new Array(16*2),IA.equal(r.length,this.blockSize,"Invalid key length");var n=Nr.readUInt32BE(r,0),s=Nr.readUInt32BE(r,4);Nr.pc1(n,s,e.tmp,0),n=e.tmp[0],s=e.tmp[1];for(var i=0;i<e.keys.length;i+=2){var u=QH[i>>>1];n=Nr.r28shl(n,u),s=Nr.r28shl(s,u),Nr.pc2(n,s,e.keys,i)}};ns.prototype._update=function(e,r,n,s){var i=this._desState,u=Nr.readUInt32BE(e,r),c=Nr.readUInt32BE(e,r+4);Nr.ip(u,c,i.tmp,0),u=i.tmp[0],c=i.tmp[1],this.type==="encrypt"?this._encrypt(i,u,c,i.tmp,0):this._decrypt(i,u,c,i.tmp,0),u=i.tmp[0],c=i.tmp[1],Nr.writeUInt32BE(n,u,s),Nr.writeUInt32BE(n,c,s+4)};ns.prototype._pad=function(e,r){if(this.padding===!1)return!1;for(var n=e.length-r,s=r;s<e.length;s++)e[s]=n;return!0};ns.prototype._unpad=function(e){if(this.padding===!1)return e;for(var r=e[e.length-1],n=e.length-r;n<e.length;n++)IA.equal(e[n],r);return e.slice(0,e.length-r)};ns.prototype._encrypt=function(e,r,n,s,i){for(var u=r,c=n,v=0;v<e.keys.length;v+=2){var b=e.keys[v],w=e.keys[v+1];Nr.expand(c,e.tmp,0),b^=e.tmp[0],w^=e.tmp[1];var x=Nr.substitute(b,w),E=Nr.permute(x),A=c;c=(u^E)>>>0,u=A}Nr.rip(c,u,s,i)};ns.prototype._decrypt=function(e,r,n,s,i){for(var u=n,c=r,v=e.keys.length-2;v>=0;v-=2){var b=e.keys[v],w=e.keys[v+1];Nr.expand(u,e.tmp,0),b^=e.tmp[0],w^=e.tmp[1];var x=Nr.substitute(b,w),E=Nr.permute(x),A=u;u=(c^E)>>>0,c=A}Nr.rip(u,c,s,i)};var RA={},YH=fi,JH=kt,Ip={};function XH(t){YH.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}function eK(t){function e(i){t.call(this,i),this._cbcInit()}JH(e,t);for(var r=Object.keys(Ip),n=0;n<r.length;n++){var s=r[n];e.prototype[s]=Ip[s]}return e.create=function(u){return new e(u)},e}RA.instantiate=eK;Ip._cbcInit=function(){var e=new XH(this.options.iv);this._cbcState=e};Ip._update=function(e,r,n,s){var i=this._cbcState,u=this.constructor.super_.prototype,c=i.iv;if(this.type==="encrypt"){for(var v=0;v<this.blockSize;v++)c[v]^=e[r+v];u._update.call(this,c,0,n,s);for(var v=0;v<this.blockSize;v++)c[v]=n[s+v]}else{u._update.call(this,e,r,n,s);for(var v=0;v<this.blockSize;v++)n[s+v]^=c[v];for(var v=0;v<this.blockSize;v++)c[v]=e[r+v]}};var tK=fi,rK=kt,kA=D_,so=TA;function nK(t,e){tK.equal(e.length,24,"Invalid key length");var r=e.slice(0,8),n=e.slice(8,16),s=e.slice(16,24);t==="encrypt"?this.ciphers=[so.create({type:"encrypt",key:r}),so.create({type:"decrypt",key:n}),so.create({type:"encrypt",key:s})]:this.ciphers=[so.create({type:"decrypt",key:s}),so.create({type:"encrypt",key:n}),so.create({type:"decrypt",key:r})]}function Ha(t){kA.call(this,t);var e=new nK(this.type,this.options.key);this._edeState=e}rK(Ha,kA);var iK=Ha;Ha.create=function(e){return new Ha(e)};Ha.prototype._update=function(e,r,n,s){var i=this._edeState;i.ciphers[0]._update(e,r,n,s),i.ciphers[1]._update(n,s,n,s),i.ciphers[2]._update(n,s,n,s)};Ha.prototype._pad=so.prototype._pad;Ha.prototype._unpad=so.prototype._unpad;Wu.utils=Gn;Wu.Cipher=D_;Wu.DES=TA;Wu.CBC=RA;Wu.EDE=iK;var CA=Ko,ds=Wu,sK=kt,da=At.Buffer,sc={"des-ede3-cbc":ds.CBC.instantiate(ds.EDE),"des-ede3":ds.EDE,"des-ede-cbc":ds.CBC.instantiate(ds.EDE),"des-ede":ds.EDE,"des-cbc":ds.CBC.instantiate(ds.DES),"des-ecb":ds.DES};sc.des=sc["des-cbc"];sc.des3=sc["des-ede3-cbc"];var oK=Km;sK(Km,CA);function Km(t){CA.call(this);var e=t.mode.toLowerCase(),r=sc[e],n;t.decrypt?n="decrypt":n="encrypt";var s=t.key;da.isBuffer(s)||(s=da.from(s)),(e==="des-ede"||e==="des-ede-cbc")&&(s=da.concat([s,s.slice(0,8)]));var i=t.iv;da.isBuffer(i)||(i=da.from(i)),this._des=r.create({key:s,iv:i,type:n})}Km.prototype._update=function(t){return da.from(this._des.update(t))};Km.prototype._final=function(){return da.from(this._des.final())};var Hn={},O_={},L_={};L_.encrypt=function(t,e){return t._cipher.encryptBlock(e)};L_.decrypt=function(t,e){return t._cipher.decryptBlock(e)};var F_={},Oc=function(e,r){for(var n=Math.min(e.length,r.length),s=new Wt(n),i=0;i<n;++i)s[i]=e[i]^r[i];return s},PA=Oc;F_.encrypt=function(t,e){var r=PA(e,t._prev);return t._prev=t._cipher.encryptBlock(r),t._prev};F_.decrypt=function(t,e){var r=t._prev;t._prev=e;var n=t._cipher.decryptBlock(e);return PA(n,r)};var NA={},Qf=At.Buffer,aK=Oc;function Z4(t,e,r){var n=e.length,s=aK(e,t._cache);return t._cache=t._cache.slice(n),t._prev=Qf.concat([t._prev,r?e:s]),s}NA.encrypt=function(t,e,r){for(var n=Qf.allocUnsafe(0),s;e.length;)if(t._cache.length===0&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=Qf.allocUnsafe(0)),t._cache.length<=e.length)s=t._cache.length,n=Qf.concat([n,Z4(t,e.slice(0,s),r)]),e=e.slice(s);else{n=Qf.concat([n,Z4(t,e,r)]);break}return n};var BA={},c2=At.Buffer;function lK(t,e,r){var n=t._cipher.encryptBlock(t._prev),s=n[0]^e;return t._prev=c2.concat([t._prev.slice(1),c2.from([r?e:s])]),s}BA.encrypt=function(t,e,r){for(var n=e.length,s=c2.allocUnsafe(n),i=-1;++i<n;)s[i]=lK(t,e[i],r);return s};var DA={},w0=At.Buffer;function uK(t,e,r){for(var n,s=-1,i=8,u=0,c,v;++s<i;)n=t._cipher.encryptBlock(t._prev),c=e&1<<7-s?128:0,v=n[0]^c,u+=(v&128)>>s%8,t._prev=fK(t._prev,r?c:v);return u}function fK(t,e){var r=t.length,n=-1,s=w0.allocUnsafe(t.length);for(t=w0.concat([t,w0.from([e])]);++n<r;)s[n]=t[n]<<1|t[n+1]>>7;return s}DA.encrypt=function(t,e,r){for(var n=e.length,s=w0.allocUnsafe(n),i=-1;++i<n;)s[i]=uK(t,e[i],r);return s};var OA={},hK=Oc;function cK(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}OA.encrypt=function(t,e){for(;t._cache.length<e.length;)t._cache=Wt.concat([t._cache,cK(t)]);var r=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),hK(e,r)};var d2={};function dK(t){for(var e=t.length,r;e--;)if(r=t.readUInt8(e),r===255)t.writeUInt8(0,e);else{r++,t.writeUInt8(r,e);break}}var LA=dK,pK=Oc,Q4=At.Buffer,mK=LA;function vK(t){var e=t._cipher.encryptBlockRaw(t._prev);return mK(t._prev),e}var Ig=16;d2.encrypt=function(t,e){var r=Math.ceil(e.length/Ig),n=t._cache.length;t._cache=Q4.concat([t._cache,Q4.allocUnsafe(r*Ig)]);for(var s=0;s<r;s++){var i=vK(t),u=n+s*Ig;t._cache.writeUInt32BE(i[0],u+0),t._cache.writeUInt32BE(i[1],u+4),t._cache.writeUInt32BE(i[2],u+8),t._cache.writeUInt32BE(i[3],u+12)}var c=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),pK(e,c)};const gK={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},yK={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},wK={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},FA={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:gK,aes192:yK,aes256:wK,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var _K={ECB:L_,CBC:F_,CFB:NA,CFB8:BA,CFB1:DA,OFB:OA,CTR:d2,GCM:d2},_0=FA;for(var Y4 in _0)_0[Y4].module=_K[_0[Y4].mode];var V_=_0,Lc={},Ap=At.Buffer;function U_(t){Ap.isBuffer(t)||(t=Ap.from(t));for(var e=t.length/4|0,r=new Array(e),n=0;n<e;n++)r[n]=t.readUInt32BE(n*4);return r}function Ag(t){for(var e=0;e<t.length;t++)t[e]=0}function VA(t,e,r,n,s){for(var i=r[0],u=r[1],c=r[2],v=r[3],b=t[0]^e[0],w=t[1]^e[1],x=t[2]^e[2],E=t[3]^e[3],A,N,D,W,P=4,C=1;C<s;C++)A=i[b>>>24]^u[w>>>16&255]^c[x>>>8&255]^v[E&255]^e[P++],N=i[w>>>24]^u[x>>>16&255]^c[E>>>8&255]^v[b&255]^e[P++],D=i[x>>>24]^u[E>>>16&255]^c[b>>>8&255]^v[w&255]^e[P++],W=i[E>>>24]^u[b>>>16&255]^c[w>>>8&255]^v[x&255]^e[P++],b=A,w=N,x=D,E=W;return A=(n[b>>>24]<<24|n[w>>>16&255]<<16|n[x>>>8&255]<<8|n[E&255])^e[P++],N=(n[w>>>24]<<24|n[x>>>16&255]<<16|n[E>>>8&255]<<8|n[b&255])^e[P++],D=(n[x>>>24]<<24|n[E>>>16&255]<<16|n[b>>>8&255]<<8|n[w&255])^e[P++],W=(n[E>>>24]<<24|n[b>>>16&255]<<16|n[w>>>8&255]<<8|n[x&255])^e[P++],A=A>>>0,N=N>>>0,D=D>>>0,W=W>>>0,[A,N,D,W]}var bK=[0,1,2,4,8,16,32,64,128,27,54],Sr=function(){for(var t=new Array(256),e=0;e<256;e++)e<128?t[e]=e<<1:t[e]=e<<1^283;for(var r=[],n=[],s=[[],[],[],[]],i=[[],[],[],[]],u=0,c=0,v=0;v<256;++v){var b=c^c<<1^c<<2^c<<3^c<<4;b=b>>>8^b&255^99,r[u]=b,n[b]=u;var w=t[u],x=t[w],E=t[x],A=t[b]*257^b*16843008;s[0][u]=A<<24|A>>>8,s[1][u]=A<<16|A>>>16,s[2][u]=A<<8|A>>>24,s[3][u]=A,A=E*16843009^x*65537^w*257^u*16843008,i[0][b]=A<<24|A>>>8,i[1][b]=A<<16|A>>>16,i[2][b]=A<<8|A>>>24,i[3][b]=A,u===0?u=c=1:(u=w^t[t[t[E^w]]],c^=t[t[c]])}return{SBOX:r,INV_SBOX:n,SUB_MIX:s,INV_SUB_MIX:i}}();function ai(t){this._key=U_(t),this._reset()}ai.blockSize=4*4;ai.keySize=256/8;ai.prototype.blockSize=ai.blockSize;ai.prototype.keySize=ai.keySize;ai.prototype._reset=function(){for(var t=this._key,e=t.length,r=e+6,n=(r+1)*4,s=[],i=0;i<e;i++)s[i]=t[i];for(i=e;i<n;i++){var u=s[i-1];i%e===0?(u=u<<8|u>>>24,u=Sr.SBOX[u>>>24]<<24|Sr.SBOX[u>>>16&255]<<16|Sr.SBOX[u>>>8&255]<<8|Sr.SBOX[u&255],u^=bK[i/e|0]<<24):e>6&&i%e===4&&(u=Sr.SBOX[u>>>24]<<24|Sr.SBOX[u>>>16&255]<<16|Sr.SBOX[u>>>8&255]<<8|Sr.SBOX[u&255]),s[i]=s[i-e]^u}for(var c=[],v=0;v<n;v++){var b=n-v,w=s[b-(v%4?0:4)];v<4||b<=4?c[v]=w:c[v]=Sr.INV_SUB_MIX[0][Sr.SBOX[w>>>24]]^Sr.INV_SUB_MIX[1][Sr.SBOX[w>>>16&255]]^Sr.INV_SUB_MIX[2][Sr.SBOX[w>>>8&255]]^Sr.INV_SUB_MIX[3][Sr.SBOX[w&255]]}this._nRounds=r,this._keySchedule=s,this._invKeySchedule=c};ai.prototype.encryptBlockRaw=function(t){return t=U_(t),VA(t,this._keySchedule,Sr.SUB_MIX,Sr.SBOX,this._nRounds)};ai.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),r=Ap.allocUnsafe(16);return r.writeUInt32BE(e[0],0),r.writeUInt32BE(e[1],4),r.writeUInt32BE(e[2],8),r.writeUInt32BE(e[3],12),r};ai.prototype.decryptBlock=function(t){t=U_(t);var e=t[1];t[1]=t[3],t[3]=e;var r=VA(t,this._invKeySchedule,Sr.INV_SUB_MIX,Sr.INV_SBOX,this._nRounds),n=Ap.allocUnsafe(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[3],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[1],12),n};ai.prototype.scrub=function(){Ag(this._keySchedule),Ag(this._invKeySchedule),Ag(this._key)};Lc.AES=ai;var Su=At.Buffer,xK=Su.alloc(16,0);function MK(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}function UA(t){var e=Su.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function Fc(t){this.h=t,this.state=Su.alloc(16,0),this.cache=Su.allocUnsafe(0)}Fc.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()};Fc.prototype._multiply=function(){for(var t=MK(this.h),e=[0,0,0,0],r,n,s,i=-1;++i<128;){for(n=(this.state[~~(i/8)]&1<<7-i%8)!==0,n&&(e[0]^=t[0],e[1]^=t[1],e[2]^=t[2],e[3]^=t[3]),s=(t[3]&1)!==0,r=3;r>0;r--)t[r]=t[r]>>>1|(t[r-1]&1)<<31;t[0]=t[0]>>>1,s&&(t[0]=t[0]^225<<24)}this.state=UA(e)};Fc.prototype.update=function(t){this.cache=Su.concat([this.cache,t]);for(var e;this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)};Fc.prototype.final=function(t,e){return this.cache.length&&this.ghash(Su.concat([this.cache,xK],16)),this.ghash(UA([0,t,0,e])),this.state};var EK=Fc,SK=Lc,Sn=At.Buffer,jA=Ko,IK=kt,zA=EK,AK=Oc,TK=LA;function RK(t,e){var r=0;t.length!==e.length&&r++;for(var n=Math.min(t.length,e.length),s=0;s<n;++s)r+=t[s]^e[s];return r}function kK(t,e,r){if(e.length===12)return t._finID=Sn.concat([e,Sn.from([0,0,0,1])]),Sn.concat([e,Sn.from([0,0,0,2])]);var n=new zA(r),s=e.length,i=s%16;n.update(e),i&&(i=16-i,n.update(Sn.alloc(i,0))),n.update(Sn.alloc(8,0));var u=s*8,c=Sn.alloc(8);c.writeUIntBE(u,0,8),n.update(c),t._finID=n.state;var v=Sn.from(t._finID);return TK(v),v}function el(t,e,r,n){jA.call(this);var s=Sn.alloc(4,0);this._cipher=new SK.AES(e);var i=this._cipher.encryptBlock(s);this._ghash=new zA(i),r=kK(this,r,i),this._prev=Sn.from(r),this._cache=Sn.allocUnsafe(0),this._secCache=Sn.allocUnsafe(0),this._decrypt=n,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}IK(el,jA);el.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=Sn.alloc(e,0),this._ghash.update(e))}this._called=!0;var r=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(r),this._len+=t.length,r};el.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=AK(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&RK(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()};el.prototype.getAuthTag=function(){if(this._decrypt||!Sn.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag};el.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e};el.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length};var $A=el,CK=Lc,Tg=At.Buffer,qA=Ko,PK=kt;function Wm(t,e,r,n){qA.call(this),this._cipher=new CK.AES(e),this._prev=Tg.from(r),this._cache=Tg.allocUnsafe(0),this._secCache=Tg.allocUnsafe(0),this._decrypt=n,this._mode=t}PK(Wm,qA);Wm.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)};Wm.prototype._final=function(){this._cipher.scrub()};var HA=Wm,Xo=At.Buffer,NK=C_;function BK(t,e,r,n){if(Xo.isBuffer(t)||(t=Xo.from(t,"binary")),e&&(Xo.isBuffer(e)||(e=Xo.from(e,"binary")),e.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var s=r/8,i=Xo.alloc(s),u=Xo.alloc(n||0),c=Xo.alloc(0);s>0||n>0;){var v=new NK;v.update(c),v.update(t),e&&v.update(e),c=v.digest();var b=0;if(s>0){var w=i.length-s;b=Math.min(s,c.length),c.copy(i,w,0,b),s-=b}if(b<c.length&&n>0){var x=u.length-n,E=Math.min(n,c.length-b);c.copy(u,x,b,b+E),n-=E}}return c.fill(0),{key:i,iv:u}}var Gm=BK,KA=V_,DK=$A,Ns=At.Buffer,OK=HA,WA=Ko,LK=Lc,FK=Gm,VK=kt;function Vc(t,e,r){WA.call(this),this._cache=new Zm,this._cipher=new LK.AES(e),this._prev=Ns.from(r),this._mode=t,this._autopadding=!0}VK(Vc,WA);Vc.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get();)r=this._mode.encrypt(this,e),n.push(r);return Ns.concat(n)};var UK=Ns.alloc(16,16);Vc.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(UK))throw this._cipher.scrub(),new Error("data not multiple of block length")};Vc.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function Zm(){this.cache=Ns.allocUnsafe(0)}Zm.prototype.add=function(t){this.cache=Ns.concat([this.cache,t])};Zm.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null};Zm.prototype.flush=function(){for(var t=16-this.cache.length,e=Ns.allocUnsafe(t),r=-1;++r<t;)e.writeUInt8(t,r);return Ns.concat([this.cache,e])};function GA(t,e,r){var n=KA[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof e=="string"&&(e=Ns.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);if(typeof r=="string"&&(r=Ns.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);return n.type==="stream"?new OK(n.module,e,r):n.type==="auth"?new DK(n.module,e,r):new Vc(n.module,e,r)}function jK(t,e){var r=KA[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=FK(e,!1,r.key,r.iv);return GA(t,n.key,n.iv)}O_.createCipheriv=GA;O_.createCipher=jK;var j_={},zK=$A,Iu=At.Buffer,ZA=V_,$K=HA,QA=Ko,qK=Lc,HK=Gm,KK=kt;function Uc(t,e,r){QA.call(this),this._cache=new Qm,this._last=void 0,this._cipher=new qK.AES(e),this._prev=Iu.from(r),this._mode=t,this._autopadding=!0}KK(Uc,QA);Uc.prototype._update=function(t){this._cache.add(t);for(var e,r,n=[];e=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,e),n.push(r);return Iu.concat(n)};Uc.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return WK(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")};Uc.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this};function Qm(){this.cache=Iu.allocUnsafe(0)}Qm.prototype.add=function(t){this.cache=Iu.concat([this.cache,t])};Qm.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null};Qm.prototype.flush=function(){if(this.cache.length)return this.cache};function WK(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var r=-1;++r<e;)if(t[r+(16-e)]!==e)throw new Error("unable to decrypt data");if(e!==16)return t.slice(0,16-e)}function YA(t,e,r){var n=ZA[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");if(typeof r=="string"&&(r=Iu.from(r)),n.mode!=="GCM"&&r.length!==n.iv)throw new TypeError("invalid iv length "+r.length);if(typeof e=="string"&&(e=Iu.from(e)),e.length!==n.key/8)throw new TypeError("invalid key length "+e.length);return n.type==="stream"?new $K(n.module,e,r,!0):n.type==="auth"?new zK(n.module,e,r,!0):new Uc(n.module,e,r)}function GK(t,e){var r=ZA[t.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=HK(e,!1,r.key,r.iv);return YA(t,n.key,n.iv)}j_.createDecipher=GK;j_.createDecipheriv=YA;var JA=O_,XA=j_,ZK=FA;function QK(){return Object.keys(ZK)}Hn.createCipher=Hn.Cipher=JA.createCipher;Hn.createCipheriv=Hn.Cipheriv=JA.createCipheriv;Hn.createDecipher=Hn.Decipher=XA.createDecipher;Hn.createDecipheriv=Hn.Decipheriv=XA.createDecipheriv;Hn.listCiphers=Hn.getCiphers=QK;var eT={};(function(t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}})(eT);var tT=oK,z_=Hn,Ro=V_,Es=eT,rT=Gm;function YK(t,e){t=t.toLowerCase();var r,n;if(Ro[t])r=Ro[t].key,n=Ro[t].iv;else if(Es[t])r=Es[t].key*8,n=Es[t].iv;else throw new TypeError("invalid suite type");var s=rT(e,!1,r,n);return nT(t,s.key,s.iv)}function JK(t,e){t=t.toLowerCase();var r,n;if(Ro[t])r=Ro[t].key,n=Ro[t].iv;else if(Es[t])r=Es[t].key*8,n=Es[t].iv;else throw new TypeError("invalid suite type");var s=rT(e,!1,r,n);return iT(t,s.key,s.iv)}function nT(t,e,r){if(t=t.toLowerCase(),Ro[t])return z_.createCipheriv(t,e,r);if(Es[t])return new tT({key:e,iv:r,mode:t});throw new TypeError("invalid suite type")}function iT(t,e,r){if(t=t.toLowerCase(),Ro[t])return z_.createDecipheriv(t,e,r);if(Es[t])return new tT({key:e,iv:r,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}function XK(){return Object.keys(Es).concat(z_.getCiphers())}Ri.createCipher=Ri.Cipher=YK;Ri.createCipheriv=Ri.Cipheriv=nT;Ri.createDecipher=Ri.Decipher=JK;Ri.createDecipheriv=Ri.Decipheriv=iT;Ri.listCiphers=Ri.getCiphers=XK;var ea={},$_={exports:{}};$_.exports;(function(t){(function(e,r){function n(g,o){if(!g)throw new Error(o||"Assertion failed")}function s(g,o){g.super_=o;var l=function(){};l.prototype=o.prototype,g.prototype=new l,g.prototype.constructor=g}function i(g,o,l){if(i.isBN(g))return g;this.negative=0,this.words=null,this.length=0,this.red=null,g!==null&&((o==="le"||o==="be")&&(l=o,o=10),this._init(g||0,o||10,l||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=ui.Buffer}catch{}i.isBN=function(o){return o instanceof i?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===i.wordSize&&Array.isArray(o.words)},i.max=function(o,l){return o.cmp(l)>0?o:l},i.min=function(o,l){return o.cmp(l)<0?o:l},i.prototype._init=function(o,l,f){if(typeof o=="number")return this._initNumber(o,l,f);if(typeof o=="object")return this._initArray(o,l,f);l==="hex"&&(l=16),n(l===(l|0)&&l>=2&&l<=36),o=o.toString().replace(/\s+/g,"");var h=0;o[0]==="-"&&(h++,this.negative=1),h<o.length&&(l===16?this._parseHex(o,h,f):(this._parseBase(o,l,h),f==="le"&&this._initArray(this.toArray(),l,f)))},i.prototype._initNumber=function(o,l,f){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(n(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),l,f)},i.prototype._initArray=function(o,l,f){if(n(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var m,y,_=0;if(f==="be")for(h=o.length-1,m=0;h>=0;h-=3)y=o[h]|o[h-1]<<8|o[h-2]<<16,this.words[m]|=y<<_&67108863,this.words[m+1]=y>>>26-_&67108863,_+=24,_>=26&&(_-=26,m++);else if(f==="le")for(h=0,m=0;h<o.length;h+=3)y=o[h]|o[h+1]<<8|o[h+2]<<16,this.words[m]|=y<<_&67108863,this.words[m+1]=y>>>26-_&67108863,_+=24,_>=26&&(_-=26,m++);return this.strip()};function c(g,o){var l=g.charCodeAt(o);return l>=65&&l<=70?l-55:l>=97&&l<=102?l-87:l-48&15}function v(g,o,l){var f=c(g,l);return l-1>=o&&(f|=c(g,l-1)<<4),f}i.prototype._parseHex=function(o,l,f){this.length=Math.ceil((o.length-l)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var m=0,y=0,_;if(f==="be")for(h=o.length-1;h>=l;h-=2)_=v(o,l,h)<<m,this.words[y]|=_&67108863,m>=18?(m-=18,y+=1,this.words[y]|=_>>>26):m+=8;else{var d=o.length-l;for(h=d%2===0?l+1:l;h<o.length;h+=2)_=v(o,l,h)<<m,this.words[y]|=_&67108863,m>=18?(m-=18,y+=1,this.words[y]|=_>>>26):m+=8}this.strip()};function b(g,o,l,f){for(var h=0,m=Math.min(g.length,l),y=o;y<m;y++){var _=g.charCodeAt(y)-48;h*=f,_>=49?h+=_-49+10:_>=17?h+=_-17+10:h+=_}return h}i.prototype._parseBase=function(o,l,f){this.words=[0],this.length=1;for(var h=0,m=1;m<=67108863;m*=l)h++;h--,m=m/l|0;for(var y=o.length-f,_=y%h,d=Math.min(y,y-_)+f,a=0,p=f;p<d;p+=h)a=b(o,p,p+h,l),this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(_!==0){var S=1;for(a=b(o,p,o.length,l),p=0;p<_;p++)S*=l;this.imuln(S),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},i.prototype.copy=function(o){o.words=new Array(this.length);for(var l=0;l<this.length;l++)o.words[l]=this.words[l];o.length=this.length,o.negative=this.negative,o.red=this.red},i.prototype.clone=function(){var o=new i(null);return this.copy(o),o},i.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(o,l){o=o||10,l=l|0||1;var f;if(o===16||o==="hex"){f="";for(var h=0,m=0,y=0;y<this.length;y++){var _=this.words[y],d=((_<<h|m)&16777215).toString(16);m=_>>>24-h&16777215,h+=2,h>=26&&(h-=26,y--),m!==0||y!==this.length-1?f=w[6-d.length]+d+f:f=d+f}for(m!==0&&(f=m.toString(16)+f);f.length%l!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(o===(o|0)&&o>=2&&o<=36){var a=x[o],p=E[o];f="";var S=this.clone();for(S.negative=0;!S.isZero();){var B=S.modn(p).toString(o);S=S.idivn(p),S.isZero()?f=B+f:f=w[a-B.length]+B+f}for(this.isZero()&&(f="0"+f);f.length%l!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(o,l){return n(typeof u<"u"),this.toArrayLike(u,o,l)},i.prototype.toArray=function(o,l){return this.toArrayLike(Array,o,l)},i.prototype.toArrayLike=function(o,l,f){var h=this.byteLength(),m=f||Math.max(1,h);n(h<=m,"byte array longer than desired length"),n(m>0,"Requested array length <= 0"),this.strip();var y=l==="le",_=new o(m),d,a,p=this.clone();if(y){for(a=0;!p.isZero();a++)d=p.andln(255),p.iushrn(8),_[a]=d;for(;a<m;a++)_[a]=0}else{for(a=0;a<m-h;a++)_[a]=0;for(a=0;!p.isZero();a++)d=p.andln(255),p.iushrn(8),_[m-a-1]=d}return _},Math.clz32?i.prototype._countBits=function(o){return 32-Math.clz32(o)}:i.prototype._countBits=function(o){var l=o,f=0;return l>=4096&&(f+=13,l>>>=13),l>=64&&(f+=7,l>>>=7),l>=8&&(f+=4,l>>>=4),l>=2&&(f+=2,l>>>=2),f+l},i.prototype._zeroBits=function(o){if(o===0)return 26;var l=o,f=0;return l&8191||(f+=13,l>>>=13),l&127||(f+=7,l>>>=7),l&15||(f+=4,l>>>=4),l&3||(f+=2,l>>>=2),l&1||f++,f},i.prototype.bitLength=function(){var o=this.words[this.length-1],l=this._countBits(o);return(this.length-1)*26+l};function A(g){for(var o=new Array(g.bitLength()),l=0;l<o.length;l++){var f=l/26|0,h=l%26;o[l]=(g.words[f]&1<<h)>>>h}return o}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,l=0;l<this.length;l++){var f=this._zeroBits(this.words[l]);if(o+=f,f!==26)break}return o},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},i.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var l=0;l<o.length;l++)this.words[l]=this.words[l]|o.words[l];return this.strip()},i.prototype.ior=function(o){return n((this.negative|o.negative)===0),this.iuor(o)},i.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},i.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},i.prototype.iuand=function(o){var l;this.length>o.length?l=o:l=this;for(var f=0;f<l.length;f++)this.words[f]=this.words[f]&o.words[f];return this.length=l.length,this.strip()},i.prototype.iand=function(o){return n((this.negative|o.negative)===0),this.iuand(o)},i.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},i.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},i.prototype.iuxor=function(o){var l,f;this.length>o.length?(l=this,f=o):(l=o,f=this);for(var h=0;h<f.length;h++)this.words[h]=l.words[h]^f.words[h];if(this!==l)for(;h<l.length;h++)this.words[h]=l.words[h];return this.length=l.length,this.strip()},i.prototype.ixor=function(o){return n((this.negative|o.negative)===0),this.iuxor(o)},i.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},i.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},i.prototype.inotn=function(o){n(typeof o=="number"&&o>=0);var l=Math.ceil(o/26)|0,f=o%26;this._expand(l),f>0&&l--;for(var h=0;h<l;h++)this.words[h]=~this.words[h]&67108863;return f>0&&(this.words[h]=~this.words[h]&67108863>>26-f),this.strip()},i.prototype.notn=function(o){return this.clone().inotn(o)},i.prototype.setn=function(o,l){n(typeof o=="number"&&o>=0);var f=o/26|0,h=o%26;return this._expand(f+1),l?this.words[f]=this.words[f]|1<<h:this.words[f]=this.words[f]&~(1<<h),this.strip()},i.prototype.iadd=function(o){var l;if(this.negative!==0&&o.negative===0)return this.negative=0,l=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,l=this.isub(o),o.negative=1,l._normSign();var f,h;this.length>o.length?(f=this,h=o):(f=o,h=this);for(var m=0,y=0;y<h.length;y++)l=(f.words[y]|0)+(h.words[y]|0)+m,this.words[y]=l&67108863,m=l>>>26;for(;m!==0&&y<f.length;y++)l=(f.words[y]|0)+m,this.words[y]=l&67108863,m=l>>>26;if(this.length=f.length,m!==0)this.words[this.length]=m,this.length++;else if(f!==this)for(;y<f.length;y++)this.words[y]=f.words[y];return this},i.prototype.add=function(o){var l;return o.negative!==0&&this.negative===0?(o.negative=0,l=this.sub(o),o.negative^=1,l):o.negative===0&&this.negative!==0?(this.negative=0,l=o.sub(this),this.negative=1,l):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},i.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var l=this.iadd(o);return o.negative=1,l._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var f=this.cmp(o);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,m;f>0?(h=this,m=o):(h=o,m=this);for(var y=0,_=0;_<m.length;_++)l=(h.words[_]|0)-(m.words[_]|0)+y,y=l>>26,this.words[_]=l&67108863;for(;y!==0&&_<h.length;_++)l=(h.words[_]|0)+y,y=l>>26,this.words[_]=l&67108863;if(y===0&&_<h.length&&h!==this)for(;_<h.length;_++)this.words[_]=h.words[_];return this.length=Math.max(this.length,_),h!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(o){return this.clone().isub(o)};function N(g,o,l){l.negative=o.negative^g.negative;var f=g.length+o.length|0;l.length=f,f=f-1|0;var h=g.words[0]|0,m=o.words[0]|0,y=h*m,_=y&67108863,d=y/67108864|0;l.words[0]=_;for(var a=1;a<f;a++){for(var p=d>>>26,S=d&67108863,B=Math.min(a,o.length-1),Z=Math.max(0,a-g.length+1);Z<=B;Z++){var X=a-Z|0;h=g.words[X]|0,m=o.words[Z]|0,y=h*m+S,p+=y/67108864|0,S=y&67108863}l.words[a]=S|0,d=p|0}return d!==0?l.words[a]=d|0:l.length--,l.strip()}var D=function(o,l,f){var h=o.words,m=l.words,y=f.words,_=0,d,a,p,S=h[0]|0,B=S&8191,Z=S>>>13,X=h[1]|0,oe=X&8191,H=X>>>13,ee=h[2]|0,se=ee&8191,le=ee>>>13,Ge=h[3]|0,he=Ge&8191,de=Ge>>>13,Ye=h[4]|0,xe=Ye&8191,Se=Ye>>>13,st=h[5]|0,Te=st&8191,ke=st>>>13,it=h[6]|0,Ie=it&8191,Be=it>>>13,ft=h[7]|0,Ee=ft&8191,Me=ft>>>13,rt=h[8]|0,V=rt&8191,R=rt>>>13,L=h[9]|0,T=L&8191,I=L>>>13,k=m[0]|0,F=k&8191,Y=k>>>13,pe=m[1]|0,ie=pe&8191,ge=pe>>>13,qe=m[2]|0,be=qe&8191,Ce=qe>>>13,et=m[3]|0,Ne=et&8191,Fe=et>>>13,gt=m[4]|0,De=gt&8191,Oe=gt>>>13,_t=m[5]|0,Pe=_t&8191,Ve=_t>>>13,dt=m[6]|0,J=dt&8191,re=dt>>>13,_e=m[7]|0,ae=_e&8191,me=_e>>>13,$e=m[8]|0,ve=$e&8191,ye=$e>>>13,ze=m[9]|0,ce=ze&8191,we=ze>>>13;f.negative=o.negative^l.negative,f.length=19,d=Math.imul(B,F),a=Math.imul(B,Y),a=a+Math.imul(Z,F)|0,p=Math.imul(Z,Y);var We=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(We>>>26)|0,We&=67108863,d=Math.imul(oe,F),a=Math.imul(oe,Y),a=a+Math.imul(H,F)|0,p=Math.imul(H,Y),d=d+Math.imul(B,ie)|0,a=a+Math.imul(B,ge)|0,a=a+Math.imul(Z,ie)|0,p=p+Math.imul(Z,ge)|0;var Ze=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,d=Math.imul(se,F),a=Math.imul(se,Y),a=a+Math.imul(le,F)|0,p=Math.imul(le,Y),d=d+Math.imul(oe,ie)|0,a=a+Math.imul(oe,ge)|0,a=a+Math.imul(H,ie)|0,p=p+Math.imul(H,ge)|0,d=d+Math.imul(B,be)|0,a=a+Math.imul(B,Ce)|0,a=a+Math.imul(Z,be)|0,p=p+Math.imul(Z,Ce)|0;var yt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(yt>>>26)|0,yt&=67108863,d=Math.imul(he,F),a=Math.imul(he,Y),a=a+Math.imul(de,F)|0,p=Math.imul(de,Y),d=d+Math.imul(se,ie)|0,a=a+Math.imul(se,ge)|0,a=a+Math.imul(le,ie)|0,p=p+Math.imul(le,ge)|0,d=d+Math.imul(oe,be)|0,a=a+Math.imul(oe,Ce)|0,a=a+Math.imul(H,be)|0,p=p+Math.imul(H,Ce)|0,d=d+Math.imul(B,Ne)|0,a=a+Math.imul(B,Fe)|0,a=a+Math.imul(Z,Ne)|0,p=p+Math.imul(Z,Fe)|0;var ct=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(ct>>>26)|0,ct&=67108863,d=Math.imul(xe,F),a=Math.imul(xe,Y),a=a+Math.imul(Se,F)|0,p=Math.imul(Se,Y),d=d+Math.imul(he,ie)|0,a=a+Math.imul(he,ge)|0,a=a+Math.imul(de,ie)|0,p=p+Math.imul(de,ge)|0,d=d+Math.imul(se,be)|0,a=a+Math.imul(se,Ce)|0,a=a+Math.imul(le,be)|0,p=p+Math.imul(le,Ce)|0,d=d+Math.imul(oe,Ne)|0,a=a+Math.imul(oe,Fe)|0,a=a+Math.imul(H,Ne)|0,p=p+Math.imul(H,Fe)|0,d=d+Math.imul(B,De)|0,a=a+Math.imul(B,Oe)|0,a=a+Math.imul(Z,De)|0,p=p+Math.imul(Z,Oe)|0;var at=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(at>>>26)|0,at&=67108863,d=Math.imul(Te,F),a=Math.imul(Te,Y),a=a+Math.imul(ke,F)|0,p=Math.imul(ke,Y),d=d+Math.imul(xe,ie)|0,a=a+Math.imul(xe,ge)|0,a=a+Math.imul(Se,ie)|0,p=p+Math.imul(Se,ge)|0,d=d+Math.imul(he,be)|0,a=a+Math.imul(he,Ce)|0,a=a+Math.imul(de,be)|0,p=p+Math.imul(de,Ce)|0,d=d+Math.imul(se,Ne)|0,a=a+Math.imul(se,Fe)|0,a=a+Math.imul(le,Ne)|0,p=p+Math.imul(le,Fe)|0,d=d+Math.imul(oe,De)|0,a=a+Math.imul(oe,Oe)|0,a=a+Math.imul(H,De)|0,p=p+Math.imul(H,Oe)|0,d=d+Math.imul(B,Pe)|0,a=a+Math.imul(B,Ve)|0,a=a+Math.imul(Z,Pe)|0,p=p+Math.imul(Z,Ve)|0;var pt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(pt>>>26)|0,pt&=67108863,d=Math.imul(Ie,F),a=Math.imul(Ie,Y),a=a+Math.imul(Be,F)|0,p=Math.imul(Be,Y),d=d+Math.imul(Te,ie)|0,a=a+Math.imul(Te,ge)|0,a=a+Math.imul(ke,ie)|0,p=p+Math.imul(ke,ge)|0,d=d+Math.imul(xe,be)|0,a=a+Math.imul(xe,Ce)|0,a=a+Math.imul(Se,be)|0,p=p+Math.imul(Se,Ce)|0,d=d+Math.imul(he,Ne)|0,a=a+Math.imul(he,Fe)|0,a=a+Math.imul(de,Ne)|0,p=p+Math.imul(de,Fe)|0,d=d+Math.imul(se,De)|0,a=a+Math.imul(se,Oe)|0,a=a+Math.imul(le,De)|0,p=p+Math.imul(le,Oe)|0,d=d+Math.imul(oe,Pe)|0,a=a+Math.imul(oe,Ve)|0,a=a+Math.imul(H,Pe)|0,p=p+Math.imul(H,Ve)|0,d=d+Math.imul(B,J)|0,a=a+Math.imul(B,re)|0,a=a+Math.imul(Z,J)|0,p=p+Math.imul(Z,re)|0;var Ct=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,d=Math.imul(Ee,F),a=Math.imul(Ee,Y),a=a+Math.imul(Me,F)|0,p=Math.imul(Me,Y),d=d+Math.imul(Ie,ie)|0,a=a+Math.imul(Ie,ge)|0,a=a+Math.imul(Be,ie)|0,p=p+Math.imul(Be,ge)|0,d=d+Math.imul(Te,be)|0,a=a+Math.imul(Te,Ce)|0,a=a+Math.imul(ke,be)|0,p=p+Math.imul(ke,Ce)|0,d=d+Math.imul(xe,Ne)|0,a=a+Math.imul(xe,Fe)|0,a=a+Math.imul(Se,Ne)|0,p=p+Math.imul(Se,Fe)|0,d=d+Math.imul(he,De)|0,a=a+Math.imul(he,Oe)|0,a=a+Math.imul(de,De)|0,p=p+Math.imul(de,Oe)|0,d=d+Math.imul(se,Pe)|0,a=a+Math.imul(se,Ve)|0,a=a+Math.imul(le,Pe)|0,p=p+Math.imul(le,Ve)|0,d=d+Math.imul(oe,J)|0,a=a+Math.imul(oe,re)|0,a=a+Math.imul(H,J)|0,p=p+Math.imul(H,re)|0,d=d+Math.imul(B,ae)|0,a=a+Math.imul(B,me)|0,a=a+Math.imul(Z,ae)|0,p=p+Math.imul(Z,me)|0;var Ot=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,d=Math.imul(V,F),a=Math.imul(V,Y),a=a+Math.imul(R,F)|0,p=Math.imul(R,Y),d=d+Math.imul(Ee,ie)|0,a=a+Math.imul(Ee,ge)|0,a=a+Math.imul(Me,ie)|0,p=p+Math.imul(Me,ge)|0,d=d+Math.imul(Ie,be)|0,a=a+Math.imul(Ie,Ce)|0,a=a+Math.imul(Be,be)|0,p=p+Math.imul(Be,Ce)|0,d=d+Math.imul(Te,Ne)|0,a=a+Math.imul(Te,Fe)|0,a=a+Math.imul(ke,Ne)|0,p=p+Math.imul(ke,Fe)|0,d=d+Math.imul(xe,De)|0,a=a+Math.imul(xe,Oe)|0,a=a+Math.imul(Se,De)|0,p=p+Math.imul(Se,Oe)|0,d=d+Math.imul(he,Pe)|0,a=a+Math.imul(he,Ve)|0,a=a+Math.imul(de,Pe)|0,p=p+Math.imul(de,Ve)|0,d=d+Math.imul(se,J)|0,a=a+Math.imul(se,re)|0,a=a+Math.imul(le,J)|0,p=p+Math.imul(le,re)|0,d=d+Math.imul(oe,ae)|0,a=a+Math.imul(oe,me)|0,a=a+Math.imul(H,ae)|0,p=p+Math.imul(H,me)|0,d=d+Math.imul(B,ve)|0,a=a+Math.imul(B,ye)|0,a=a+Math.imul(Z,ve)|0,p=p+Math.imul(Z,ye)|0;var Tt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,d=Math.imul(T,F),a=Math.imul(T,Y),a=a+Math.imul(I,F)|0,p=Math.imul(I,Y),d=d+Math.imul(V,ie)|0,a=a+Math.imul(V,ge)|0,a=a+Math.imul(R,ie)|0,p=p+Math.imul(R,ge)|0,d=d+Math.imul(Ee,be)|0,a=a+Math.imul(Ee,Ce)|0,a=a+Math.imul(Me,be)|0,p=p+Math.imul(Me,Ce)|0,d=d+Math.imul(Ie,Ne)|0,a=a+Math.imul(Ie,Fe)|0,a=a+Math.imul(Be,Ne)|0,p=p+Math.imul(Be,Fe)|0,d=d+Math.imul(Te,De)|0,a=a+Math.imul(Te,Oe)|0,a=a+Math.imul(ke,De)|0,p=p+Math.imul(ke,Oe)|0,d=d+Math.imul(xe,Pe)|0,a=a+Math.imul(xe,Ve)|0,a=a+Math.imul(Se,Pe)|0,p=p+Math.imul(Se,Ve)|0,d=d+Math.imul(he,J)|0,a=a+Math.imul(he,re)|0,a=a+Math.imul(de,J)|0,p=p+Math.imul(de,re)|0,d=d+Math.imul(se,ae)|0,a=a+Math.imul(se,me)|0,a=a+Math.imul(le,ae)|0,p=p+Math.imul(le,me)|0,d=d+Math.imul(oe,ve)|0,a=a+Math.imul(oe,ye)|0,a=a+Math.imul(H,ve)|0,p=p+Math.imul(H,ye)|0,d=d+Math.imul(B,ce)|0,a=a+Math.imul(B,we)|0,a=a+Math.imul(Z,ce)|0,p=p+Math.imul(Z,we)|0;var xt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(xt>>>26)|0,xt&=67108863,d=Math.imul(T,ie),a=Math.imul(T,ge),a=a+Math.imul(I,ie)|0,p=Math.imul(I,ge),d=d+Math.imul(V,be)|0,a=a+Math.imul(V,Ce)|0,a=a+Math.imul(R,be)|0,p=p+Math.imul(R,Ce)|0,d=d+Math.imul(Ee,Ne)|0,a=a+Math.imul(Ee,Fe)|0,a=a+Math.imul(Me,Ne)|0,p=p+Math.imul(Me,Fe)|0,d=d+Math.imul(Ie,De)|0,a=a+Math.imul(Ie,Oe)|0,a=a+Math.imul(Be,De)|0,p=p+Math.imul(Be,Oe)|0,d=d+Math.imul(Te,Pe)|0,a=a+Math.imul(Te,Ve)|0,a=a+Math.imul(ke,Pe)|0,p=p+Math.imul(ke,Ve)|0,d=d+Math.imul(xe,J)|0,a=a+Math.imul(xe,re)|0,a=a+Math.imul(Se,J)|0,p=p+Math.imul(Se,re)|0,d=d+Math.imul(he,ae)|0,a=a+Math.imul(he,me)|0,a=a+Math.imul(de,ae)|0,p=p+Math.imul(de,me)|0,d=d+Math.imul(se,ve)|0,a=a+Math.imul(se,ye)|0,a=a+Math.imul(le,ve)|0,p=p+Math.imul(le,ye)|0,d=d+Math.imul(oe,ce)|0,a=a+Math.imul(oe,we)|0,a=a+Math.imul(H,ce)|0,p=p+Math.imul(H,we)|0;var zt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(zt>>>26)|0,zt&=67108863,d=Math.imul(T,be),a=Math.imul(T,Ce),a=a+Math.imul(I,be)|0,p=Math.imul(I,Ce),d=d+Math.imul(V,Ne)|0,a=a+Math.imul(V,Fe)|0,a=a+Math.imul(R,Ne)|0,p=p+Math.imul(R,Fe)|0,d=d+Math.imul(Ee,De)|0,a=a+Math.imul(Ee,Oe)|0,a=a+Math.imul(Me,De)|0,p=p+Math.imul(Me,Oe)|0,d=d+Math.imul(Ie,Pe)|0,a=a+Math.imul(Ie,Ve)|0,a=a+Math.imul(Be,Pe)|0,p=p+Math.imul(Be,Ve)|0,d=d+Math.imul(Te,J)|0,a=a+Math.imul(Te,re)|0,a=a+Math.imul(ke,J)|0,p=p+Math.imul(ke,re)|0,d=d+Math.imul(xe,ae)|0,a=a+Math.imul(xe,me)|0,a=a+Math.imul(Se,ae)|0,p=p+Math.imul(Se,me)|0,d=d+Math.imul(he,ve)|0,a=a+Math.imul(he,ye)|0,a=a+Math.imul(de,ve)|0,p=p+Math.imul(de,ye)|0,d=d+Math.imul(se,ce)|0,a=a+Math.imul(se,we)|0,a=a+Math.imul(le,ce)|0,p=p+Math.imul(le,we)|0;var Pt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,d=Math.imul(T,Ne),a=Math.imul(T,Fe),a=a+Math.imul(I,Ne)|0,p=Math.imul(I,Fe),d=d+Math.imul(V,De)|0,a=a+Math.imul(V,Oe)|0,a=a+Math.imul(R,De)|0,p=p+Math.imul(R,Oe)|0,d=d+Math.imul(Ee,Pe)|0,a=a+Math.imul(Ee,Ve)|0,a=a+Math.imul(Me,Pe)|0,p=p+Math.imul(Me,Ve)|0,d=d+Math.imul(Ie,J)|0,a=a+Math.imul(Ie,re)|0,a=a+Math.imul(Be,J)|0,p=p+Math.imul(Be,re)|0,d=d+Math.imul(Te,ae)|0,a=a+Math.imul(Te,me)|0,a=a+Math.imul(ke,ae)|0,p=p+Math.imul(ke,me)|0,d=d+Math.imul(xe,ve)|0,a=a+Math.imul(xe,ye)|0,a=a+Math.imul(Se,ve)|0,p=p+Math.imul(Se,ye)|0,d=d+Math.imul(he,ce)|0,a=a+Math.imul(he,we)|0,a=a+Math.imul(de,ce)|0,p=p+Math.imul(de,we)|0;var Mt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,d=Math.imul(T,De),a=Math.imul(T,Oe),a=a+Math.imul(I,De)|0,p=Math.imul(I,Oe),d=d+Math.imul(V,Pe)|0,a=a+Math.imul(V,Ve)|0,a=a+Math.imul(R,Pe)|0,p=p+Math.imul(R,Ve)|0,d=d+Math.imul(Ee,J)|0,a=a+Math.imul(Ee,re)|0,a=a+Math.imul(Me,J)|0,p=p+Math.imul(Me,re)|0,d=d+Math.imul(Ie,ae)|0,a=a+Math.imul(Ie,me)|0,a=a+Math.imul(Be,ae)|0,p=p+Math.imul(Be,me)|0,d=d+Math.imul(Te,ve)|0,a=a+Math.imul(Te,ye)|0,a=a+Math.imul(ke,ve)|0,p=p+Math.imul(ke,ye)|0,d=d+Math.imul(xe,ce)|0,a=a+Math.imul(xe,we)|0,a=a+Math.imul(Se,ce)|0,p=p+Math.imul(Se,we)|0;var St=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(St>>>26)|0,St&=67108863,d=Math.imul(T,Pe),a=Math.imul(T,Ve),a=a+Math.imul(I,Pe)|0,p=Math.imul(I,Ve),d=d+Math.imul(V,J)|0,a=a+Math.imul(V,re)|0,a=a+Math.imul(R,J)|0,p=p+Math.imul(R,re)|0,d=d+Math.imul(Ee,ae)|0,a=a+Math.imul(Ee,me)|0,a=a+Math.imul(Me,ae)|0,p=p+Math.imul(Me,me)|0,d=d+Math.imul(Ie,ve)|0,a=a+Math.imul(Ie,ye)|0,a=a+Math.imul(Be,ve)|0,p=p+Math.imul(Be,ye)|0,d=d+Math.imul(Te,ce)|0,a=a+Math.imul(Te,we)|0,a=a+Math.imul(ke,ce)|0,p=p+Math.imul(ke,we)|0;var Lt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,d=Math.imul(T,J),a=Math.imul(T,re),a=a+Math.imul(I,J)|0,p=Math.imul(I,re),d=d+Math.imul(V,ae)|0,a=a+Math.imul(V,me)|0,a=a+Math.imul(R,ae)|0,p=p+Math.imul(R,me)|0,d=d+Math.imul(Ee,ve)|0,a=a+Math.imul(Ee,ye)|0,a=a+Math.imul(Me,ve)|0,p=p+Math.imul(Me,ye)|0,d=d+Math.imul(Ie,ce)|0,a=a+Math.imul(Ie,we)|0,a=a+Math.imul(Be,ce)|0,p=p+Math.imul(Be,we)|0;var ut=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(ut>>>26)|0,ut&=67108863,d=Math.imul(T,ae),a=Math.imul(T,me),a=a+Math.imul(I,ae)|0,p=Math.imul(I,me),d=d+Math.imul(V,ve)|0,a=a+Math.imul(V,ye)|0,a=a+Math.imul(R,ve)|0,p=p+Math.imul(R,ye)|0,d=d+Math.imul(Ee,ce)|0,a=a+Math.imul(Ee,we)|0,a=a+Math.imul(Me,ce)|0,p=p+Math.imul(Me,we)|0;var vt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(vt>>>26)|0,vt&=67108863,d=Math.imul(T,ve),a=Math.imul(T,ye),a=a+Math.imul(I,ve)|0,p=Math.imul(I,ye),d=d+Math.imul(V,ce)|0,a=a+Math.imul(V,we)|0,a=a+Math.imul(R,ce)|0,p=p+Math.imul(R,we)|0;var Nt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,d=Math.imul(T,ce),a=Math.imul(T,we),a=a+Math.imul(I,ce)|0,p=Math.imul(I,we);var Ft=(_+d|0)+((a&8191)<<13)|0;return _=(p+(a>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,y[0]=We,y[1]=Ze,y[2]=yt,y[3]=ct,y[4]=at,y[5]=pt,y[6]=Ct,y[7]=Ot,y[8]=Tt,y[9]=xt,y[10]=zt,y[11]=Pt,y[12]=Mt,y[13]=St,y[14]=Lt,y[15]=ut,y[16]=vt,y[17]=Nt,y[18]=Ft,_!==0&&(y[19]=_,f.length++),f};Math.imul||(D=N);function W(g,o,l){l.negative=o.negative^g.negative,l.length=g.length+o.length;for(var f=0,h=0,m=0;m<l.length-1;m++){var y=h;h=0;for(var _=f&67108863,d=Math.min(m,o.length-1),a=Math.max(0,m-g.length+1);a<=d;a++){var p=m-a,S=g.words[p]|0,B=o.words[a]|0,Z=S*B,X=Z&67108863;y=y+(Z/67108864|0)|0,X=X+_|0,_=X&67108863,y=y+(X>>>26)|0,h+=y>>>26,y&=67108863}l.words[m]=_,f=y,y=h}return f!==0?l.words[m]=f:l.length--,l.strip()}function P(g,o,l){var f=new C;return f.mulp(g,o,l)}i.prototype.mulTo=function(o,l){var f,h=this.length+o.length;return this.length===10&&o.length===10?f=D(this,o,l):h<63?f=N(this,o,l):h<1024?f=W(this,o,l):f=P(this,o,l),f};function C(g,o){this.x=g,this.y=o}C.prototype.makeRBT=function(o){for(var l=new Array(o),f=i.prototype._countBits(o)-1,h=0;h<o;h++)l[h]=this.revBin(h,f,o);return l},C.prototype.revBin=function(o,l,f){if(o===0||o===f-1)return o;for(var h=0,m=0;m<l;m++)h|=(o&1)<<l-m-1,o>>=1;return h},C.prototype.permute=function(o,l,f,h,m,y){for(var _=0;_<y;_++)h[_]=l[o[_]],m[_]=f[o[_]]},C.prototype.transform=function(o,l,f,h,m,y){this.permute(y,o,l,f,h,m);for(var _=1;_<m;_<<=1)for(var d=_<<1,a=Math.cos(2*Math.PI/d),p=Math.sin(2*Math.PI/d),S=0;S<m;S+=d)for(var B=a,Z=p,X=0;X<_;X++){var oe=f[S+X],H=h[S+X],ee=f[S+X+_],se=h[S+X+_],le=B*ee-Z*se;se=B*se+Z*ee,ee=le,f[S+X]=oe+ee,h[S+X]=H+se,f[S+X+_]=oe-ee,h[S+X+_]=H-se,X!==d&&(le=a*B-p*Z,Z=a*Z+p*B,B=le)}},C.prototype.guessLen13b=function(o,l){var f=Math.max(l,o)|1,h=f&1,m=0;for(f=f/2|0;f;f=f>>>1)m++;return 1<<m+1+h},C.prototype.conjugate=function(o,l,f){if(!(f<=1))for(var h=0;h<f/2;h++){var m=o[h];o[h]=o[f-h-1],o[f-h-1]=m,m=l[h],l[h]=-l[f-h-1],l[f-h-1]=-m}},C.prototype.normalize13b=function(o,l){for(var f=0,h=0;h<l/2;h++){var m=Math.round(o[2*h+1]/l)*8192+Math.round(o[2*h]/l)+f;o[h]=m&67108863,m<67108864?f=0:f=m/67108864|0}return o},C.prototype.convert13b=function(o,l,f,h){for(var m=0,y=0;y<l;y++)m=m+(o[y]|0),f[2*y]=m&8191,m=m>>>13,f[2*y+1]=m&8191,m=m>>>13;for(y=2*l;y<h;++y)f[y]=0;n(m===0),n((m&-8192)===0)},C.prototype.stub=function(o){for(var l=new Array(o),f=0;f<o;f++)l[f]=0;return l},C.prototype.mulp=function(o,l,f){var h=2*this.guessLen13b(o.length,l.length),m=this.makeRBT(h),y=this.stub(h),_=new Array(h),d=new Array(h),a=new Array(h),p=new Array(h),S=new Array(h),B=new Array(h),Z=f.words;Z.length=h,this.convert13b(o.words,o.length,_,h),this.convert13b(l.words,l.length,p,h),this.transform(_,y,d,a,h,m),this.transform(p,y,S,B,h,m);for(var X=0;X<h;X++){var oe=d[X]*S[X]-a[X]*B[X];a[X]=d[X]*B[X]+a[X]*S[X],d[X]=oe}return this.conjugate(d,a,h),this.transform(d,a,Z,y,h,m),this.conjugate(Z,y,h),this.normalize13b(Z,h),f.negative=o.negative^l.negative,f.length=o.length+l.length,f.strip()},i.prototype.mul=function(o){var l=new i(null);return l.words=new Array(this.length+o.length),this.mulTo(o,l)},i.prototype.mulf=function(o){var l=new i(null);return l.words=new Array(this.length+o.length),P(this,o,l)},i.prototype.imul=function(o){return this.clone().mulTo(o,this)},i.prototype.imuln=function(o){n(typeof o=="number"),n(o<67108864);for(var l=0,f=0;f<this.length;f++){var h=(this.words[f]|0)*o,m=(h&67108863)+(l&67108863);l>>=26,l+=h/67108864|0,l+=m>>>26,this.words[f]=m&67108863}return l!==0&&(this.words[f]=l,this.length++),this},i.prototype.muln=function(o){return this.clone().imuln(o)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(o){var l=A(o);if(l.length===0)return new i(1);for(var f=this,h=0;h<l.length&&l[h]===0;h++,f=f.sqr());if(++h<l.length)for(var m=f.sqr();h<l.length;h++,m=m.sqr())l[h]!==0&&(f=f.mul(m));return f},i.prototype.iushln=function(o){n(typeof o=="number"&&o>=0);var l=o%26,f=(o-l)/26,h=67108863>>>26-l<<26-l,m;if(l!==0){var y=0;for(m=0;m<this.length;m++){var _=this.words[m]&h,d=(this.words[m]|0)-_<<l;this.words[m]=d|y,y=_>>>26-l}y&&(this.words[m]=y,this.length++)}if(f!==0){for(m=this.length-1;m>=0;m--)this.words[m+f]=this.words[m];for(m=0;m<f;m++)this.words[m]=0;this.length+=f}return this.strip()},i.prototype.ishln=function(o){return n(this.negative===0),this.iushln(o)},i.prototype.iushrn=function(o,l,f){n(typeof o=="number"&&o>=0);var h;l?h=(l-l%26)/26:h=0;var m=o%26,y=Math.min((o-m)/26,this.length),_=67108863^67108863>>>m<<m,d=f;if(h-=y,h=Math.max(0,h),d){for(var a=0;a<y;a++)d.words[a]=this.words[a];d.length=y}if(y!==0)if(this.length>y)for(this.length-=y,a=0;a<this.length;a++)this.words[a]=this.words[a+y];else this.words[0]=0,this.length=1;var p=0;for(a=this.length-1;a>=0&&(p!==0||a>=h);a--){var S=this.words[a]|0;this.words[a]=p<<26-m|S>>>m,p=S&_}return d&&p!==0&&(d.words[d.length++]=p),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(o,l,f){return n(this.negative===0),this.iushrn(o,l,f)},i.prototype.shln=function(o){return this.clone().ishln(o)},i.prototype.ushln=function(o){return this.clone().iushln(o)},i.prototype.shrn=function(o){return this.clone().ishrn(o)},i.prototype.ushrn=function(o){return this.clone().iushrn(o)},i.prototype.testn=function(o){n(typeof o=="number"&&o>=0);var l=o%26,f=(o-l)/26,h=1<<l;if(this.length<=f)return!1;var m=this.words[f];return!!(m&h)},i.prototype.imaskn=function(o){n(typeof o=="number"&&o>=0);var l=o%26,f=(o-l)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(l!==0&&f++,this.length=Math.min(f,this.length),l!==0){var h=67108863^67108863>>>l<<l;this.words[this.length-1]&=h}return this.strip()},i.prototype.maskn=function(o){return this.clone().imaskn(o)},i.prototype.iaddn=function(o){return n(typeof o=="number"),n(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},i.prototype._iaddn=function(o){this.words[0]+=o;for(var l=0;l<this.length&&this.words[l]>=67108864;l++)this.words[l]-=67108864,l===this.length-1?this.words[l+1]=1:this.words[l+1]++;return this.length=Math.max(this.length,l+1),this},i.prototype.isubn=function(o){if(n(typeof o=="number"),n(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var l=0;l<this.length&&this.words[l]<0;l++)this.words[l]+=67108864,this.words[l+1]-=1;return this.strip()},i.prototype.addn=function(o){return this.clone().iaddn(o)},i.prototype.subn=function(o){return this.clone().isubn(o)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(o,l,f){var h=o.length+f,m;this._expand(h);var y,_=0;for(m=0;m<o.length;m++){y=(this.words[m+f]|0)+_;var d=(o.words[m]|0)*l;y-=d&67108863,_=(y>>26)-(d/67108864|0),this.words[m+f]=y&67108863}for(;m<this.length-f;m++)y=(this.words[m+f]|0)+_,_=y>>26,this.words[m+f]=y&67108863;if(_===0)return this.strip();for(n(_===-1),_=0,m=0;m<this.length;m++)y=-(this.words[m]|0)+_,_=y>>26,this.words[m]=y&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(o,l){var f=this.length-o.length,h=this.clone(),m=o,y=m.words[m.length-1]|0,_=this._countBits(y);f=26-_,f!==0&&(m=m.ushln(f),h.iushln(f),y=m.words[m.length-1]|0);var d=h.length-m.length,a;if(l!=="mod"){a=new i(null),a.length=d+1,a.words=new Array(a.length);for(var p=0;p<a.length;p++)a.words[p]=0}var S=h.clone()._ishlnsubmul(m,1,d);S.negative===0&&(h=S,a&&(a.words[d]=1));for(var B=d-1;B>=0;B--){var Z=(h.words[m.length+B]|0)*67108864+(h.words[m.length+B-1]|0);for(Z=Math.min(Z/y|0,67108863),h._ishlnsubmul(m,Z,B);h.negative!==0;)Z--,h.negative=0,h._ishlnsubmul(m,1,B),h.isZero()||(h.negative^=1);a&&(a.words[B]=Z)}return a&&a.strip(),h.strip(),l!=="div"&&f!==0&&h.iushrn(f),{div:a||null,mod:h}},i.prototype.divmod=function(o,l,f){if(n(!o.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var h,m,y;return this.negative!==0&&o.negative===0?(y=this.neg().divmod(o,l),l!=="mod"&&(h=y.div.neg()),l!=="div"&&(m=y.mod.neg(),f&&m.negative!==0&&m.iadd(o)),{div:h,mod:m}):this.negative===0&&o.negative!==0?(y=this.divmod(o.neg(),l),l!=="mod"&&(h=y.div.neg()),{div:h,mod:y.mod}):this.negative&o.negative?(y=this.neg().divmod(o.neg(),l),l!=="div"&&(m=y.mod.neg(),f&&m.negative!==0&&m.isub(o)),{div:y.div,mod:m}):o.length>this.length||this.cmp(o)<0?{div:new i(0),mod:this}:o.length===1?l==="div"?{div:this.divn(o.words[0]),mod:null}:l==="mod"?{div:null,mod:new i(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new i(this.modn(o.words[0]))}:this._wordDiv(o,l)},i.prototype.div=function(o){return this.divmod(o,"div",!1).div},i.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},i.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},i.prototype.divRound=function(o){var l=this.divmod(o);if(l.mod.isZero())return l.div;var f=l.div.negative!==0?l.mod.isub(o):l.mod,h=o.ushrn(1),m=o.andln(1),y=f.cmp(h);return y<0||m===1&&y===0?l.div:l.div.negative!==0?l.div.isubn(1):l.div.iaddn(1)},i.prototype.modn=function(o){n(o<=67108863);for(var l=(1<<26)%o,f=0,h=this.length-1;h>=0;h--)f=(l*f+(this.words[h]|0))%o;return f},i.prototype.idivn=function(o){n(o<=67108863);for(var l=0,f=this.length-1;f>=0;f--){var h=(this.words[f]|0)+l*67108864;this.words[f]=h/o|0,l=h%o}return this.strip()},i.prototype.divn=function(o){return this.clone().idivn(o)},i.prototype.egcd=function(o){n(o.negative===0),n(!o.isZero());var l=this,f=o.clone();l.negative!==0?l=l.umod(o):l=l.clone();for(var h=new i(1),m=new i(0),y=new i(0),_=new i(1),d=0;l.isEven()&&f.isEven();)l.iushrn(1),f.iushrn(1),++d;for(var a=f.clone(),p=l.clone();!l.isZero();){for(var S=0,B=1;!(l.words[0]&B)&&S<26;++S,B<<=1);if(S>0)for(l.iushrn(S);S-- >0;)(h.isOdd()||m.isOdd())&&(h.iadd(a),m.isub(p)),h.iushrn(1),m.iushrn(1);for(var Z=0,X=1;!(f.words[0]&X)&&Z<26;++Z,X<<=1);if(Z>0)for(f.iushrn(Z);Z-- >0;)(y.isOdd()||_.isOdd())&&(y.iadd(a),_.isub(p)),y.iushrn(1),_.iushrn(1);l.cmp(f)>=0?(l.isub(f),h.isub(y),m.isub(_)):(f.isub(l),y.isub(h),_.isub(m))}return{a:y,b:_,gcd:f.iushln(d)}},i.prototype._invmp=function(o){n(o.negative===0),n(!o.isZero());var l=this,f=o.clone();l.negative!==0?l=l.umod(o):l=l.clone();for(var h=new i(1),m=new i(0),y=f.clone();l.cmpn(1)>0&&f.cmpn(1)>0;){for(var _=0,d=1;!(l.words[0]&d)&&_<26;++_,d<<=1);if(_>0)for(l.iushrn(_);_-- >0;)h.isOdd()&&h.iadd(y),h.iushrn(1);for(var a=0,p=1;!(f.words[0]&p)&&a<26;++a,p<<=1);if(a>0)for(f.iushrn(a);a-- >0;)m.isOdd()&&m.iadd(y),m.iushrn(1);l.cmp(f)>=0?(l.isub(f),h.isub(m)):(f.isub(l),m.isub(h))}var S;return l.cmpn(1)===0?S=h:S=m,S.cmpn(0)<0&&S.iadd(o),S},i.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var l=this.clone(),f=o.clone();l.negative=0,f.negative=0;for(var h=0;l.isEven()&&f.isEven();h++)l.iushrn(1),f.iushrn(1);do{for(;l.isEven();)l.iushrn(1);for(;f.isEven();)f.iushrn(1);var m=l.cmp(f);if(m<0){var y=l;l=f,f=y}else if(m===0||f.cmpn(1)===0)break;l.isub(f)}while(!0);return f.iushln(h)},i.prototype.invm=function(o){return this.egcd(o).a.umod(o)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(o){return this.words[0]&o},i.prototype.bincn=function(o){n(typeof o=="number");var l=o%26,f=(o-l)/26,h=1<<l;if(this.length<=f)return this._expand(f+1),this.words[f]|=h,this;for(var m=h,y=f;m!==0&&y<this.length;y++){var _=this.words[y]|0;_+=m,m=_>>>26,_&=67108863,this.words[y]=_}return m!==0&&(this.words[y]=m,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(o){var l=o<0;if(this.negative!==0&&!l)return-1;if(this.negative===0&&l)return 1;this.strip();var f;if(this.length>1)f=1;else{l&&(o=-o),n(o<=67108863,"Number is too big");var h=this.words[0]|0;f=h===o?0:h<o?-1:1}return this.negative!==0?-f|0:f},i.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var l=this.ucmp(o);return this.negative!==0?-l|0:l},i.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var l=0,f=this.length-1;f>=0;f--){var h=this.words[f]|0,m=o.words[f]|0;if(h!==m){h<m?l=-1:h>m&&(l=1);break}}return l},i.prototype.gtn=function(o){return this.cmpn(o)===1},i.prototype.gt=function(o){return this.cmp(o)===1},i.prototype.gten=function(o){return this.cmpn(o)>=0},i.prototype.gte=function(o){return this.cmp(o)>=0},i.prototype.ltn=function(o){return this.cmpn(o)===-1},i.prototype.lt=function(o){return this.cmp(o)===-1},i.prototype.lten=function(o){return this.cmpn(o)<=0},i.prototype.lte=function(o){return this.cmp(o)<=0},i.prototype.eqn=function(o){return this.cmpn(o)===0},i.prototype.eq=function(o){return this.cmp(o)===0},i.red=function(o){return new j(o)},i.prototype.toRed=function(o){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(o){return this.red=o,this},i.prototype.forceRed=function(o){return n(!this.red,"Already a number in reduction context"),this._forceRed(o)},i.prototype.redAdd=function(o){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},i.prototype.redIAdd=function(o){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},i.prototype.redSub=function(o){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},i.prototype.redISub=function(o){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},i.prototype.redShl=function(o){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},i.prototype.redMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},i.prototype.redIMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(o){return n(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var z={k256:null,p224:null,p192:null,p25519:null};function K(g,o){this.name=g,this.p=new i(o,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}K.prototype._tmp=function(){var o=new i(null);return o.words=new Array(Math.ceil(this.n/13)),o},K.prototype.ireduce=function(o){var l=o,f;do this.split(l,this.tmp),l=this.imulK(l),l=l.iadd(this.tmp),f=l.bitLength();while(f>this.n);var h=f<this.n?-1:l.ucmp(this.p);return h===0?(l.words[0]=0,l.length=1):h>0?l.isub(this.p):l.strip!==void 0?l.strip():l._strip(),l},K.prototype.split=function(o,l){o.iushrn(this.n,0,l)},K.prototype.imulK=function(o){return o.imul(this.k)};function ne(){K.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(ne,K),ne.prototype.split=function(o,l){for(var f=4194303,h=Math.min(o.length,9),m=0;m<h;m++)l.words[m]=o.words[m];if(l.length=h,o.length<=9){o.words[0]=0,o.length=1;return}var y=o.words[9];for(l.words[l.length++]=y&f,m=10;m<o.length;m++){var _=o.words[m]|0;o.words[m-10]=(_&f)<<4|y>>>22,y=_}y>>>=22,o.words[m-10]=y,y===0&&o.length>10?o.length-=10:o.length-=9},ne.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var l=0,f=0;f<o.length;f++){var h=o.words[f]|0;l+=h*977,o.words[f]=l&67108863,l=h*64+(l/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function ue(){K.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(ue,K);function G(){K.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(G,K);function q(){K.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(q,K),q.prototype.imulK=function(o){for(var l=0,f=0;f<o.length;f++){var h=(o.words[f]|0)*19+l,m=h&67108863;h>>>=26,o.words[f]=m,l=h}return l!==0&&(o.words[o.length++]=l),o},i._prime=function(o){if(z[o])return z[o];var l;if(o==="k256")l=new ne;else if(o==="p224")l=new ue;else if(o==="p192")l=new G;else if(o==="p25519")l=new q;else throw new Error("Unknown prime "+o);return z[o]=l,l};function j(g){if(typeof g=="string"){var o=i._prime(g);this.m=o.p,this.prime=o}else n(g.gtn(1),"modulus must be greater than 1"),this.m=g,this.prime=null}j.prototype._verify1=function(o){n(o.negative===0,"red works only with positives"),n(o.red,"red works only with red numbers")},j.prototype._verify2=function(o,l){n((o.negative|l.negative)===0,"red works only with positives"),n(o.red&&o.red===l.red,"red works only with red numbers")},j.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},j.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},j.prototype.add=function(o,l){this._verify2(o,l);var f=o.add(l);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},j.prototype.iadd=function(o,l){this._verify2(o,l);var f=o.iadd(l);return f.cmp(this.m)>=0&&f.isub(this.m),f},j.prototype.sub=function(o,l){this._verify2(o,l);var f=o.sub(l);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},j.prototype.isub=function(o,l){this._verify2(o,l);var f=o.isub(l);return f.cmpn(0)<0&&f.iadd(this.m),f},j.prototype.shl=function(o,l){return this._verify1(o),this.imod(o.ushln(l))},j.prototype.imul=function(o,l){return this._verify2(o,l),this.imod(o.imul(l))},j.prototype.mul=function(o,l){return this._verify2(o,l),this.imod(o.mul(l))},j.prototype.isqr=function(o){return this.imul(o,o.clone())},j.prototype.sqr=function(o){return this.mul(o,o)},j.prototype.sqrt=function(o){if(o.isZero())return o.clone();var l=this.m.andln(3);if(n(l%2===1),l===3){var f=this.m.add(new i(1)).iushrn(2);return this.pow(o,f)}for(var h=this.m.subn(1),m=0;!h.isZero()&&h.andln(1)===0;)m++,h.iushrn(1);n(!h.isZero());var y=new i(1).toRed(this),_=y.redNeg(),d=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new i(2*a*a).toRed(this);this.pow(a,d).cmp(_)!==0;)a.redIAdd(_);for(var p=this.pow(a,h),S=this.pow(o,h.addn(1).iushrn(1)),B=this.pow(o,h),Z=m;B.cmp(y)!==0;){for(var X=B,oe=0;X.cmp(y)!==0;oe++)X=X.redSqr();n(oe<Z);var H=this.pow(p,new i(1).iushln(Z-oe-1));S=S.redMul(H),p=H.redSqr(),B=B.redMul(p),Z=oe}return S},j.prototype.invm=function(o){var l=o._invmp(this.m);return l.negative!==0?(l.negative=0,this.imod(l).redNeg()):this.imod(l)},j.prototype.pow=function(o,l){if(l.isZero())return new i(1).toRed(this);if(l.cmpn(1)===0)return o.clone();var f=4,h=new Array(1<<f);h[0]=new i(1).toRed(this),h[1]=o;for(var m=2;m<h.length;m++)h[m]=this.mul(h[m-1],o);var y=h[0],_=0,d=0,a=l.bitLength()%26;for(a===0&&(a=26),m=l.length-1;m>=0;m--){for(var p=l.words[m],S=a-1;S>=0;S--){var B=p>>S&1;if(y!==h[0]&&(y=this.sqr(y)),B===0&&_===0){d=0;continue}_<<=1,_|=B,d++,!(d!==f&&(m!==0||S!==0))&&(y=this.mul(y,h[_]),d=0,_=0)}a=26}return y},j.prototype.convertTo=function(o){var l=o.umod(this.m);return l===o?l.clone():l},j.prototype.convertFrom=function(o){var l=o.clone();return l.red=null,l},i.mont=function(o){return new Q(o)};function Q(g){j.call(this,g),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(Q,j),Q.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},Q.prototype.convertFrom=function(o){var l=this.imod(o.mul(this.rinv));return l.red=null,l},Q.prototype.imul=function(o,l){if(o.isZero()||l.isZero())return o.words[0]=0,o.length=1,o;var f=o.imul(l),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=f.isub(h).iushrn(this.shift),y=m;return m.cmp(this.m)>=0?y=m.isub(this.m):m.cmpn(0)<0&&(y=m.iadd(this.m)),y._forceRed(this)},Q.prototype.mul=function(o,l){if(o.isZero()||l.isZero())return new i(0)._forceRed(this);var f=o.mul(l),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=f.isub(h).iushrn(this.shift),y=m;return m.cmp(this.m)>=0?y=m.isub(this.m):m.cmpn(0)<0&&(y=m.iadd(this.m)),y._forceRed(this)},Q.prototype.invm=function(o){var l=this.imod(o._invmp(this.m).mul(this.r2));return l._forceRed(this)}})(t,Vt)})($_);var sT=$_.exports,q_={exports:{}};q_.exports;(function(t){(function(e,r){function n(g,o){if(!g)throw new Error(o||"Assertion failed")}function s(g,o){g.super_=o;var l=function(){};l.prototype=o.prototype,g.prototype=new l,g.prototype.constructor=g}function i(g,o,l){if(i.isBN(g))return g;this.negative=0,this.words=null,this.length=0,this.red=null,g!==null&&((o==="le"||o==="be")&&(l=o,o=10),this._init(g||0,o||10,l||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=ui.Buffer}catch{}i.isBN=function(o){return o instanceof i?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===i.wordSize&&Array.isArray(o.words)},i.max=function(o,l){return o.cmp(l)>0?o:l},i.min=function(o,l){return o.cmp(l)<0?o:l},i.prototype._init=function(o,l,f){if(typeof o=="number")return this._initNumber(o,l,f);if(typeof o=="object")return this._initArray(o,l,f);l==="hex"&&(l=16),n(l===(l|0)&&l>=2&&l<=36),o=o.toString().replace(/\s+/g,"");var h=0;o[0]==="-"&&(h++,this.negative=1),h<o.length&&(l===16?this._parseHex(o,h,f):(this._parseBase(o,l,h),f==="le"&&this._initArray(this.toArray(),l,f)))},i.prototype._initNumber=function(o,l,f){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(n(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),l,f)},i.prototype._initArray=function(o,l,f){if(n(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var m,y,_=0;if(f==="be")for(h=o.length-1,m=0;h>=0;h-=3)y=o[h]|o[h-1]<<8|o[h-2]<<16,this.words[m]|=y<<_&67108863,this.words[m+1]=y>>>26-_&67108863,_+=24,_>=26&&(_-=26,m++);else if(f==="le")for(h=0,m=0;h<o.length;h+=3)y=o[h]|o[h+1]<<8|o[h+2]<<16,this.words[m]|=y<<_&67108863,this.words[m+1]=y>>>26-_&67108863,_+=24,_>=26&&(_-=26,m++);return this.strip()};function c(g,o){var l=g.charCodeAt(o);return l>=65&&l<=70?l-55:l>=97&&l<=102?l-87:l-48&15}function v(g,o,l){var f=c(g,l);return l-1>=o&&(f|=c(g,l-1)<<4),f}i.prototype._parseHex=function(o,l,f){this.length=Math.ceil((o.length-l)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var m=0,y=0,_;if(f==="be")for(h=o.length-1;h>=l;h-=2)_=v(o,l,h)<<m,this.words[y]|=_&67108863,m>=18?(m-=18,y+=1,this.words[y]|=_>>>26):m+=8;else{var d=o.length-l;for(h=d%2===0?l+1:l;h<o.length;h+=2)_=v(o,l,h)<<m,this.words[y]|=_&67108863,m>=18?(m-=18,y+=1,this.words[y]|=_>>>26):m+=8}this.strip()};function b(g,o,l,f){for(var h=0,m=Math.min(g.length,l),y=o;y<m;y++){var _=g.charCodeAt(y)-48;h*=f,_>=49?h+=_-49+10:_>=17?h+=_-17+10:h+=_}return h}i.prototype._parseBase=function(o,l,f){this.words=[0],this.length=1;for(var h=0,m=1;m<=67108863;m*=l)h++;h--,m=m/l|0;for(var y=o.length-f,_=y%h,d=Math.min(y,y-_)+f,a=0,p=f;p<d;p+=h)a=b(o,p,p+h,l),this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(_!==0){var S=1;for(a=b(o,p,o.length,l),p=0;p<_;p++)S*=l;this.imuln(S),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},i.prototype.copy=function(o){o.words=new Array(this.length);for(var l=0;l<this.length;l++)o.words[l]=this.words[l];o.length=this.length,o.negative=this.negative,o.red=this.red},i.prototype.clone=function(){var o=new i(null);return this.copy(o),o},i.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(o,l){o=o||10,l=l|0||1;var f;if(o===16||o==="hex"){f="";for(var h=0,m=0,y=0;y<this.length;y++){var _=this.words[y],d=((_<<h|m)&16777215).toString(16);m=_>>>24-h&16777215,h+=2,h>=26&&(h-=26,y--),m!==0||y!==this.length-1?f=w[6-d.length]+d+f:f=d+f}for(m!==0&&(f=m.toString(16)+f);f.length%l!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(o===(o|0)&&o>=2&&o<=36){var a=x[o],p=E[o];f="";var S=this.clone();for(S.negative=0;!S.isZero();){var B=S.modn(p).toString(o);S=S.idivn(p),S.isZero()?f=B+f:f=w[a-B.length]+B+f}for(this.isZero()&&(f="0"+f);f.length%l!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(o,l){return n(typeof u<"u"),this.toArrayLike(u,o,l)},i.prototype.toArray=function(o,l){return this.toArrayLike(Array,o,l)},i.prototype.toArrayLike=function(o,l,f){var h=this.byteLength(),m=f||Math.max(1,h);n(h<=m,"byte array longer than desired length"),n(m>0,"Requested array length <= 0"),this.strip();var y=l==="le",_=new o(m),d,a,p=this.clone();if(y){for(a=0;!p.isZero();a++)d=p.andln(255),p.iushrn(8),_[a]=d;for(;a<m;a++)_[a]=0}else{for(a=0;a<m-h;a++)_[a]=0;for(a=0;!p.isZero();a++)d=p.andln(255),p.iushrn(8),_[m-a-1]=d}return _},Math.clz32?i.prototype._countBits=function(o){return 32-Math.clz32(o)}:i.prototype._countBits=function(o){var l=o,f=0;return l>=4096&&(f+=13,l>>>=13),l>=64&&(f+=7,l>>>=7),l>=8&&(f+=4,l>>>=4),l>=2&&(f+=2,l>>>=2),f+l},i.prototype._zeroBits=function(o){if(o===0)return 26;var l=o,f=0;return l&8191||(f+=13,l>>>=13),l&127||(f+=7,l>>>=7),l&15||(f+=4,l>>>=4),l&3||(f+=2,l>>>=2),l&1||f++,f},i.prototype.bitLength=function(){var o=this.words[this.length-1],l=this._countBits(o);return(this.length-1)*26+l};function A(g){for(var o=new Array(g.bitLength()),l=0;l<o.length;l++){var f=l/26|0,h=l%26;o[l]=(g.words[f]&1<<h)>>>h}return o}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,l=0;l<this.length;l++){var f=this._zeroBits(this.words[l]);if(o+=f,f!==26)break}return o},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},i.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var l=0;l<o.length;l++)this.words[l]=this.words[l]|o.words[l];return this.strip()},i.prototype.ior=function(o){return n((this.negative|o.negative)===0),this.iuor(o)},i.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},i.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},i.prototype.iuand=function(o){var l;this.length>o.length?l=o:l=this;for(var f=0;f<l.length;f++)this.words[f]=this.words[f]&o.words[f];return this.length=l.length,this.strip()},i.prototype.iand=function(o){return n((this.negative|o.negative)===0),this.iuand(o)},i.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},i.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},i.prototype.iuxor=function(o){var l,f;this.length>o.length?(l=this,f=o):(l=o,f=this);for(var h=0;h<f.length;h++)this.words[h]=l.words[h]^f.words[h];if(this!==l)for(;h<l.length;h++)this.words[h]=l.words[h];return this.length=l.length,this.strip()},i.prototype.ixor=function(o){return n((this.negative|o.negative)===0),this.iuxor(o)},i.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},i.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},i.prototype.inotn=function(o){n(typeof o=="number"&&o>=0);var l=Math.ceil(o/26)|0,f=o%26;this._expand(l),f>0&&l--;for(var h=0;h<l;h++)this.words[h]=~this.words[h]&67108863;return f>0&&(this.words[h]=~this.words[h]&67108863>>26-f),this.strip()},i.prototype.notn=function(o){return this.clone().inotn(o)},i.prototype.setn=function(o,l){n(typeof o=="number"&&o>=0);var f=o/26|0,h=o%26;return this._expand(f+1),l?this.words[f]=this.words[f]|1<<h:this.words[f]=this.words[f]&~(1<<h),this.strip()},i.prototype.iadd=function(o){var l;if(this.negative!==0&&o.negative===0)return this.negative=0,l=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,l=this.isub(o),o.negative=1,l._normSign();var f,h;this.length>o.length?(f=this,h=o):(f=o,h=this);for(var m=0,y=0;y<h.length;y++)l=(f.words[y]|0)+(h.words[y]|0)+m,this.words[y]=l&67108863,m=l>>>26;for(;m!==0&&y<f.length;y++)l=(f.words[y]|0)+m,this.words[y]=l&67108863,m=l>>>26;if(this.length=f.length,m!==0)this.words[this.length]=m,this.length++;else if(f!==this)for(;y<f.length;y++)this.words[y]=f.words[y];return this},i.prototype.add=function(o){var l;return o.negative!==0&&this.negative===0?(o.negative=0,l=this.sub(o),o.negative^=1,l):o.negative===0&&this.negative!==0?(this.negative=0,l=o.sub(this),this.negative=1,l):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},i.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var l=this.iadd(o);return o.negative=1,l._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var f=this.cmp(o);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,m;f>0?(h=this,m=o):(h=o,m=this);for(var y=0,_=0;_<m.length;_++)l=(h.words[_]|0)-(m.words[_]|0)+y,y=l>>26,this.words[_]=l&67108863;for(;y!==0&&_<h.length;_++)l=(h.words[_]|0)+y,y=l>>26,this.words[_]=l&67108863;if(y===0&&_<h.length&&h!==this)for(;_<h.length;_++)this.words[_]=h.words[_];return this.length=Math.max(this.length,_),h!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(o){return this.clone().isub(o)};function N(g,o,l){l.negative=o.negative^g.negative;var f=g.length+o.length|0;l.length=f,f=f-1|0;var h=g.words[0]|0,m=o.words[0]|0,y=h*m,_=y&67108863,d=y/67108864|0;l.words[0]=_;for(var a=1;a<f;a++){for(var p=d>>>26,S=d&67108863,B=Math.min(a,o.length-1),Z=Math.max(0,a-g.length+1);Z<=B;Z++){var X=a-Z|0;h=g.words[X]|0,m=o.words[Z]|0,y=h*m+S,p+=y/67108864|0,S=y&67108863}l.words[a]=S|0,d=p|0}return d!==0?l.words[a]=d|0:l.length--,l.strip()}var D=function(o,l,f){var h=o.words,m=l.words,y=f.words,_=0,d,a,p,S=h[0]|0,B=S&8191,Z=S>>>13,X=h[1]|0,oe=X&8191,H=X>>>13,ee=h[2]|0,se=ee&8191,le=ee>>>13,Ge=h[3]|0,he=Ge&8191,de=Ge>>>13,Ye=h[4]|0,xe=Ye&8191,Se=Ye>>>13,st=h[5]|0,Te=st&8191,ke=st>>>13,it=h[6]|0,Ie=it&8191,Be=it>>>13,ft=h[7]|0,Ee=ft&8191,Me=ft>>>13,rt=h[8]|0,V=rt&8191,R=rt>>>13,L=h[9]|0,T=L&8191,I=L>>>13,k=m[0]|0,F=k&8191,Y=k>>>13,pe=m[1]|0,ie=pe&8191,ge=pe>>>13,qe=m[2]|0,be=qe&8191,Ce=qe>>>13,et=m[3]|0,Ne=et&8191,Fe=et>>>13,gt=m[4]|0,De=gt&8191,Oe=gt>>>13,_t=m[5]|0,Pe=_t&8191,Ve=_t>>>13,dt=m[6]|0,J=dt&8191,re=dt>>>13,_e=m[7]|0,ae=_e&8191,me=_e>>>13,$e=m[8]|0,ve=$e&8191,ye=$e>>>13,ze=m[9]|0,ce=ze&8191,we=ze>>>13;f.negative=o.negative^l.negative,f.length=19,d=Math.imul(B,F),a=Math.imul(B,Y),a=a+Math.imul(Z,F)|0,p=Math.imul(Z,Y);var We=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(We>>>26)|0,We&=67108863,d=Math.imul(oe,F),a=Math.imul(oe,Y),a=a+Math.imul(H,F)|0,p=Math.imul(H,Y),d=d+Math.imul(B,ie)|0,a=a+Math.imul(B,ge)|0,a=a+Math.imul(Z,ie)|0,p=p+Math.imul(Z,ge)|0;var Ze=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,d=Math.imul(se,F),a=Math.imul(se,Y),a=a+Math.imul(le,F)|0,p=Math.imul(le,Y),d=d+Math.imul(oe,ie)|0,a=a+Math.imul(oe,ge)|0,a=a+Math.imul(H,ie)|0,p=p+Math.imul(H,ge)|0,d=d+Math.imul(B,be)|0,a=a+Math.imul(B,Ce)|0,a=a+Math.imul(Z,be)|0,p=p+Math.imul(Z,Ce)|0;var yt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(yt>>>26)|0,yt&=67108863,d=Math.imul(he,F),a=Math.imul(he,Y),a=a+Math.imul(de,F)|0,p=Math.imul(de,Y),d=d+Math.imul(se,ie)|0,a=a+Math.imul(se,ge)|0,a=a+Math.imul(le,ie)|0,p=p+Math.imul(le,ge)|0,d=d+Math.imul(oe,be)|0,a=a+Math.imul(oe,Ce)|0,a=a+Math.imul(H,be)|0,p=p+Math.imul(H,Ce)|0,d=d+Math.imul(B,Ne)|0,a=a+Math.imul(B,Fe)|0,a=a+Math.imul(Z,Ne)|0,p=p+Math.imul(Z,Fe)|0;var ct=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(ct>>>26)|0,ct&=67108863,d=Math.imul(xe,F),a=Math.imul(xe,Y),a=a+Math.imul(Se,F)|0,p=Math.imul(Se,Y),d=d+Math.imul(he,ie)|0,a=a+Math.imul(he,ge)|0,a=a+Math.imul(de,ie)|0,p=p+Math.imul(de,ge)|0,d=d+Math.imul(se,be)|0,a=a+Math.imul(se,Ce)|0,a=a+Math.imul(le,be)|0,p=p+Math.imul(le,Ce)|0,d=d+Math.imul(oe,Ne)|0,a=a+Math.imul(oe,Fe)|0,a=a+Math.imul(H,Ne)|0,p=p+Math.imul(H,Fe)|0,d=d+Math.imul(B,De)|0,a=a+Math.imul(B,Oe)|0,a=a+Math.imul(Z,De)|0,p=p+Math.imul(Z,Oe)|0;var at=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(at>>>26)|0,at&=67108863,d=Math.imul(Te,F),a=Math.imul(Te,Y),a=a+Math.imul(ke,F)|0,p=Math.imul(ke,Y),d=d+Math.imul(xe,ie)|0,a=a+Math.imul(xe,ge)|0,a=a+Math.imul(Se,ie)|0,p=p+Math.imul(Se,ge)|0,d=d+Math.imul(he,be)|0,a=a+Math.imul(he,Ce)|0,a=a+Math.imul(de,be)|0,p=p+Math.imul(de,Ce)|0,d=d+Math.imul(se,Ne)|0,a=a+Math.imul(se,Fe)|0,a=a+Math.imul(le,Ne)|0,p=p+Math.imul(le,Fe)|0,d=d+Math.imul(oe,De)|0,a=a+Math.imul(oe,Oe)|0,a=a+Math.imul(H,De)|0,p=p+Math.imul(H,Oe)|0,d=d+Math.imul(B,Pe)|0,a=a+Math.imul(B,Ve)|0,a=a+Math.imul(Z,Pe)|0,p=p+Math.imul(Z,Ve)|0;var pt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(pt>>>26)|0,pt&=67108863,d=Math.imul(Ie,F),a=Math.imul(Ie,Y),a=a+Math.imul(Be,F)|0,p=Math.imul(Be,Y),d=d+Math.imul(Te,ie)|0,a=a+Math.imul(Te,ge)|0,a=a+Math.imul(ke,ie)|0,p=p+Math.imul(ke,ge)|0,d=d+Math.imul(xe,be)|0,a=a+Math.imul(xe,Ce)|0,a=a+Math.imul(Se,be)|0,p=p+Math.imul(Se,Ce)|0,d=d+Math.imul(he,Ne)|0,a=a+Math.imul(he,Fe)|0,a=a+Math.imul(de,Ne)|0,p=p+Math.imul(de,Fe)|0,d=d+Math.imul(se,De)|0,a=a+Math.imul(se,Oe)|0,a=a+Math.imul(le,De)|0,p=p+Math.imul(le,Oe)|0,d=d+Math.imul(oe,Pe)|0,a=a+Math.imul(oe,Ve)|0,a=a+Math.imul(H,Pe)|0,p=p+Math.imul(H,Ve)|0,d=d+Math.imul(B,J)|0,a=a+Math.imul(B,re)|0,a=a+Math.imul(Z,J)|0,p=p+Math.imul(Z,re)|0;var Ct=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,d=Math.imul(Ee,F),a=Math.imul(Ee,Y),a=a+Math.imul(Me,F)|0,p=Math.imul(Me,Y),d=d+Math.imul(Ie,ie)|0,a=a+Math.imul(Ie,ge)|0,a=a+Math.imul(Be,ie)|0,p=p+Math.imul(Be,ge)|0,d=d+Math.imul(Te,be)|0,a=a+Math.imul(Te,Ce)|0,a=a+Math.imul(ke,be)|0,p=p+Math.imul(ke,Ce)|0,d=d+Math.imul(xe,Ne)|0,a=a+Math.imul(xe,Fe)|0,a=a+Math.imul(Se,Ne)|0,p=p+Math.imul(Se,Fe)|0,d=d+Math.imul(he,De)|0,a=a+Math.imul(he,Oe)|0,a=a+Math.imul(de,De)|0,p=p+Math.imul(de,Oe)|0,d=d+Math.imul(se,Pe)|0,a=a+Math.imul(se,Ve)|0,a=a+Math.imul(le,Pe)|0,p=p+Math.imul(le,Ve)|0,d=d+Math.imul(oe,J)|0,a=a+Math.imul(oe,re)|0,a=a+Math.imul(H,J)|0,p=p+Math.imul(H,re)|0,d=d+Math.imul(B,ae)|0,a=a+Math.imul(B,me)|0,a=a+Math.imul(Z,ae)|0,p=p+Math.imul(Z,me)|0;var Ot=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,d=Math.imul(V,F),a=Math.imul(V,Y),a=a+Math.imul(R,F)|0,p=Math.imul(R,Y),d=d+Math.imul(Ee,ie)|0,a=a+Math.imul(Ee,ge)|0,a=a+Math.imul(Me,ie)|0,p=p+Math.imul(Me,ge)|0,d=d+Math.imul(Ie,be)|0,a=a+Math.imul(Ie,Ce)|0,a=a+Math.imul(Be,be)|0,p=p+Math.imul(Be,Ce)|0,d=d+Math.imul(Te,Ne)|0,a=a+Math.imul(Te,Fe)|0,a=a+Math.imul(ke,Ne)|0,p=p+Math.imul(ke,Fe)|0,d=d+Math.imul(xe,De)|0,a=a+Math.imul(xe,Oe)|0,a=a+Math.imul(Se,De)|0,p=p+Math.imul(Se,Oe)|0,d=d+Math.imul(he,Pe)|0,a=a+Math.imul(he,Ve)|0,a=a+Math.imul(de,Pe)|0,p=p+Math.imul(de,Ve)|0,d=d+Math.imul(se,J)|0,a=a+Math.imul(se,re)|0,a=a+Math.imul(le,J)|0,p=p+Math.imul(le,re)|0,d=d+Math.imul(oe,ae)|0,a=a+Math.imul(oe,me)|0,a=a+Math.imul(H,ae)|0,p=p+Math.imul(H,me)|0,d=d+Math.imul(B,ve)|0,a=a+Math.imul(B,ye)|0,a=a+Math.imul(Z,ve)|0,p=p+Math.imul(Z,ye)|0;var Tt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,d=Math.imul(T,F),a=Math.imul(T,Y),a=a+Math.imul(I,F)|0,p=Math.imul(I,Y),d=d+Math.imul(V,ie)|0,a=a+Math.imul(V,ge)|0,a=a+Math.imul(R,ie)|0,p=p+Math.imul(R,ge)|0,d=d+Math.imul(Ee,be)|0,a=a+Math.imul(Ee,Ce)|0,a=a+Math.imul(Me,be)|0,p=p+Math.imul(Me,Ce)|0,d=d+Math.imul(Ie,Ne)|0,a=a+Math.imul(Ie,Fe)|0,a=a+Math.imul(Be,Ne)|0,p=p+Math.imul(Be,Fe)|0,d=d+Math.imul(Te,De)|0,a=a+Math.imul(Te,Oe)|0,a=a+Math.imul(ke,De)|0,p=p+Math.imul(ke,Oe)|0,d=d+Math.imul(xe,Pe)|0,a=a+Math.imul(xe,Ve)|0,a=a+Math.imul(Se,Pe)|0,p=p+Math.imul(Se,Ve)|0,d=d+Math.imul(he,J)|0,a=a+Math.imul(he,re)|0,a=a+Math.imul(de,J)|0,p=p+Math.imul(de,re)|0,d=d+Math.imul(se,ae)|0,a=a+Math.imul(se,me)|0,a=a+Math.imul(le,ae)|0,p=p+Math.imul(le,me)|0,d=d+Math.imul(oe,ve)|0,a=a+Math.imul(oe,ye)|0,a=a+Math.imul(H,ve)|0,p=p+Math.imul(H,ye)|0,d=d+Math.imul(B,ce)|0,a=a+Math.imul(B,we)|0,a=a+Math.imul(Z,ce)|0,p=p+Math.imul(Z,we)|0;var xt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(xt>>>26)|0,xt&=67108863,d=Math.imul(T,ie),a=Math.imul(T,ge),a=a+Math.imul(I,ie)|0,p=Math.imul(I,ge),d=d+Math.imul(V,be)|0,a=a+Math.imul(V,Ce)|0,a=a+Math.imul(R,be)|0,p=p+Math.imul(R,Ce)|0,d=d+Math.imul(Ee,Ne)|0,a=a+Math.imul(Ee,Fe)|0,a=a+Math.imul(Me,Ne)|0,p=p+Math.imul(Me,Fe)|0,d=d+Math.imul(Ie,De)|0,a=a+Math.imul(Ie,Oe)|0,a=a+Math.imul(Be,De)|0,p=p+Math.imul(Be,Oe)|0,d=d+Math.imul(Te,Pe)|0,a=a+Math.imul(Te,Ve)|0,a=a+Math.imul(ke,Pe)|0,p=p+Math.imul(ke,Ve)|0,d=d+Math.imul(xe,J)|0,a=a+Math.imul(xe,re)|0,a=a+Math.imul(Se,J)|0,p=p+Math.imul(Se,re)|0,d=d+Math.imul(he,ae)|0,a=a+Math.imul(he,me)|0,a=a+Math.imul(de,ae)|0,p=p+Math.imul(de,me)|0,d=d+Math.imul(se,ve)|0,a=a+Math.imul(se,ye)|0,a=a+Math.imul(le,ve)|0,p=p+Math.imul(le,ye)|0,d=d+Math.imul(oe,ce)|0,a=a+Math.imul(oe,we)|0,a=a+Math.imul(H,ce)|0,p=p+Math.imul(H,we)|0;var zt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(zt>>>26)|0,zt&=67108863,d=Math.imul(T,be),a=Math.imul(T,Ce),a=a+Math.imul(I,be)|0,p=Math.imul(I,Ce),d=d+Math.imul(V,Ne)|0,a=a+Math.imul(V,Fe)|0,a=a+Math.imul(R,Ne)|0,p=p+Math.imul(R,Fe)|0,d=d+Math.imul(Ee,De)|0,a=a+Math.imul(Ee,Oe)|0,a=a+Math.imul(Me,De)|0,p=p+Math.imul(Me,Oe)|0,d=d+Math.imul(Ie,Pe)|0,a=a+Math.imul(Ie,Ve)|0,a=a+Math.imul(Be,Pe)|0,p=p+Math.imul(Be,Ve)|0,d=d+Math.imul(Te,J)|0,a=a+Math.imul(Te,re)|0,a=a+Math.imul(ke,J)|0,p=p+Math.imul(ke,re)|0,d=d+Math.imul(xe,ae)|0,a=a+Math.imul(xe,me)|0,a=a+Math.imul(Se,ae)|0,p=p+Math.imul(Se,me)|0,d=d+Math.imul(he,ve)|0,a=a+Math.imul(he,ye)|0,a=a+Math.imul(de,ve)|0,p=p+Math.imul(de,ye)|0,d=d+Math.imul(se,ce)|0,a=a+Math.imul(se,we)|0,a=a+Math.imul(le,ce)|0,p=p+Math.imul(le,we)|0;var Pt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,d=Math.imul(T,Ne),a=Math.imul(T,Fe),a=a+Math.imul(I,Ne)|0,p=Math.imul(I,Fe),d=d+Math.imul(V,De)|0,a=a+Math.imul(V,Oe)|0,a=a+Math.imul(R,De)|0,p=p+Math.imul(R,Oe)|0,d=d+Math.imul(Ee,Pe)|0,a=a+Math.imul(Ee,Ve)|0,a=a+Math.imul(Me,Pe)|0,p=p+Math.imul(Me,Ve)|0,d=d+Math.imul(Ie,J)|0,a=a+Math.imul(Ie,re)|0,a=a+Math.imul(Be,J)|0,p=p+Math.imul(Be,re)|0,d=d+Math.imul(Te,ae)|0,a=a+Math.imul(Te,me)|0,a=a+Math.imul(ke,ae)|0,p=p+Math.imul(ke,me)|0,d=d+Math.imul(xe,ve)|0,a=a+Math.imul(xe,ye)|0,a=a+Math.imul(Se,ve)|0,p=p+Math.imul(Se,ye)|0,d=d+Math.imul(he,ce)|0,a=a+Math.imul(he,we)|0,a=a+Math.imul(de,ce)|0,p=p+Math.imul(de,we)|0;var Mt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,d=Math.imul(T,De),a=Math.imul(T,Oe),a=a+Math.imul(I,De)|0,p=Math.imul(I,Oe),d=d+Math.imul(V,Pe)|0,a=a+Math.imul(V,Ve)|0,a=a+Math.imul(R,Pe)|0,p=p+Math.imul(R,Ve)|0,d=d+Math.imul(Ee,J)|0,a=a+Math.imul(Ee,re)|0,a=a+Math.imul(Me,J)|0,p=p+Math.imul(Me,re)|0,d=d+Math.imul(Ie,ae)|0,a=a+Math.imul(Ie,me)|0,a=a+Math.imul(Be,ae)|0,p=p+Math.imul(Be,me)|0,d=d+Math.imul(Te,ve)|0,a=a+Math.imul(Te,ye)|0,a=a+Math.imul(ke,ve)|0,p=p+Math.imul(ke,ye)|0,d=d+Math.imul(xe,ce)|0,a=a+Math.imul(xe,we)|0,a=a+Math.imul(Se,ce)|0,p=p+Math.imul(Se,we)|0;var St=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(St>>>26)|0,St&=67108863,d=Math.imul(T,Pe),a=Math.imul(T,Ve),a=a+Math.imul(I,Pe)|0,p=Math.imul(I,Ve),d=d+Math.imul(V,J)|0,a=a+Math.imul(V,re)|0,a=a+Math.imul(R,J)|0,p=p+Math.imul(R,re)|0,d=d+Math.imul(Ee,ae)|0,a=a+Math.imul(Ee,me)|0,a=a+Math.imul(Me,ae)|0,p=p+Math.imul(Me,me)|0,d=d+Math.imul(Ie,ve)|0,a=a+Math.imul(Ie,ye)|0,a=a+Math.imul(Be,ve)|0,p=p+Math.imul(Be,ye)|0,d=d+Math.imul(Te,ce)|0,a=a+Math.imul(Te,we)|0,a=a+Math.imul(ke,ce)|0,p=p+Math.imul(ke,we)|0;var Lt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,d=Math.imul(T,J),a=Math.imul(T,re),a=a+Math.imul(I,J)|0,p=Math.imul(I,re),d=d+Math.imul(V,ae)|0,a=a+Math.imul(V,me)|0,a=a+Math.imul(R,ae)|0,p=p+Math.imul(R,me)|0,d=d+Math.imul(Ee,ve)|0,a=a+Math.imul(Ee,ye)|0,a=a+Math.imul(Me,ve)|0,p=p+Math.imul(Me,ye)|0,d=d+Math.imul(Ie,ce)|0,a=a+Math.imul(Ie,we)|0,a=a+Math.imul(Be,ce)|0,p=p+Math.imul(Be,we)|0;var ut=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(ut>>>26)|0,ut&=67108863,d=Math.imul(T,ae),a=Math.imul(T,me),a=a+Math.imul(I,ae)|0,p=Math.imul(I,me),d=d+Math.imul(V,ve)|0,a=a+Math.imul(V,ye)|0,a=a+Math.imul(R,ve)|0,p=p+Math.imul(R,ye)|0,d=d+Math.imul(Ee,ce)|0,a=a+Math.imul(Ee,we)|0,a=a+Math.imul(Me,ce)|0,p=p+Math.imul(Me,we)|0;var vt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(vt>>>26)|0,vt&=67108863,d=Math.imul(T,ve),a=Math.imul(T,ye),a=a+Math.imul(I,ve)|0,p=Math.imul(I,ye),d=d+Math.imul(V,ce)|0,a=a+Math.imul(V,we)|0,a=a+Math.imul(R,ce)|0,p=p+Math.imul(R,we)|0;var Nt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,d=Math.imul(T,ce),a=Math.imul(T,we),a=a+Math.imul(I,ce)|0,p=Math.imul(I,we);var Ft=(_+d|0)+((a&8191)<<13)|0;return _=(p+(a>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,y[0]=We,y[1]=Ze,y[2]=yt,y[3]=ct,y[4]=at,y[5]=pt,y[6]=Ct,y[7]=Ot,y[8]=Tt,y[9]=xt,y[10]=zt,y[11]=Pt,y[12]=Mt,y[13]=St,y[14]=Lt,y[15]=ut,y[16]=vt,y[17]=Nt,y[18]=Ft,_!==0&&(y[19]=_,f.length++),f};Math.imul||(D=N);function W(g,o,l){l.negative=o.negative^g.negative,l.length=g.length+o.length;for(var f=0,h=0,m=0;m<l.length-1;m++){var y=h;h=0;for(var _=f&67108863,d=Math.min(m,o.length-1),a=Math.max(0,m-g.length+1);a<=d;a++){var p=m-a,S=g.words[p]|0,B=o.words[a]|0,Z=S*B,X=Z&67108863;y=y+(Z/67108864|0)|0,X=X+_|0,_=X&67108863,y=y+(X>>>26)|0,h+=y>>>26,y&=67108863}l.words[m]=_,f=y,y=h}return f!==0?l.words[m]=f:l.length--,l.strip()}function P(g,o,l){var f=new C;return f.mulp(g,o,l)}i.prototype.mulTo=function(o,l){var f,h=this.length+o.length;return this.length===10&&o.length===10?f=D(this,o,l):h<63?f=N(this,o,l):h<1024?f=W(this,o,l):f=P(this,o,l),f};function C(g,o){this.x=g,this.y=o}C.prototype.makeRBT=function(o){for(var l=new Array(o),f=i.prototype._countBits(o)-1,h=0;h<o;h++)l[h]=this.revBin(h,f,o);return l},C.prototype.revBin=function(o,l,f){if(o===0||o===f-1)return o;for(var h=0,m=0;m<l;m++)h|=(o&1)<<l-m-1,o>>=1;return h},C.prototype.permute=function(o,l,f,h,m,y){for(var _=0;_<y;_++)h[_]=l[o[_]],m[_]=f[o[_]]},C.prototype.transform=function(o,l,f,h,m,y){this.permute(y,o,l,f,h,m);for(var _=1;_<m;_<<=1)for(var d=_<<1,a=Math.cos(2*Math.PI/d),p=Math.sin(2*Math.PI/d),S=0;S<m;S+=d)for(var B=a,Z=p,X=0;X<_;X++){var oe=f[S+X],H=h[S+X],ee=f[S+X+_],se=h[S+X+_],le=B*ee-Z*se;se=B*se+Z*ee,ee=le,f[S+X]=oe+ee,h[S+X]=H+se,f[S+X+_]=oe-ee,h[S+X+_]=H-se,X!==d&&(le=a*B-p*Z,Z=a*Z+p*B,B=le)}},C.prototype.guessLen13b=function(o,l){var f=Math.max(l,o)|1,h=f&1,m=0;for(f=f/2|0;f;f=f>>>1)m++;return 1<<m+1+h},C.prototype.conjugate=function(o,l,f){if(!(f<=1))for(var h=0;h<f/2;h++){var m=o[h];o[h]=o[f-h-1],o[f-h-1]=m,m=l[h],l[h]=-l[f-h-1],l[f-h-1]=-m}},C.prototype.normalize13b=function(o,l){for(var f=0,h=0;h<l/2;h++){var m=Math.round(o[2*h+1]/l)*8192+Math.round(o[2*h]/l)+f;o[h]=m&67108863,m<67108864?f=0:f=m/67108864|0}return o},C.prototype.convert13b=function(o,l,f,h){for(var m=0,y=0;y<l;y++)m=m+(o[y]|0),f[2*y]=m&8191,m=m>>>13,f[2*y+1]=m&8191,m=m>>>13;for(y=2*l;y<h;++y)f[y]=0;n(m===0),n((m&-8192)===0)},C.prototype.stub=function(o){for(var l=new Array(o),f=0;f<o;f++)l[f]=0;return l},C.prototype.mulp=function(o,l,f){var h=2*this.guessLen13b(o.length,l.length),m=this.makeRBT(h),y=this.stub(h),_=new Array(h),d=new Array(h),a=new Array(h),p=new Array(h),S=new Array(h),B=new Array(h),Z=f.words;Z.length=h,this.convert13b(o.words,o.length,_,h),this.convert13b(l.words,l.length,p,h),this.transform(_,y,d,a,h,m),this.transform(p,y,S,B,h,m);for(var X=0;X<h;X++){var oe=d[X]*S[X]-a[X]*B[X];a[X]=d[X]*B[X]+a[X]*S[X],d[X]=oe}return this.conjugate(d,a,h),this.transform(d,a,Z,y,h,m),this.conjugate(Z,y,h),this.normalize13b(Z,h),f.negative=o.negative^l.negative,f.length=o.length+l.length,f.strip()},i.prototype.mul=function(o){var l=new i(null);return l.words=new Array(this.length+o.length),this.mulTo(o,l)},i.prototype.mulf=function(o){var l=new i(null);return l.words=new Array(this.length+o.length),P(this,o,l)},i.prototype.imul=function(o){return this.clone().mulTo(o,this)},i.prototype.imuln=function(o){n(typeof o=="number"),n(o<67108864);for(var l=0,f=0;f<this.length;f++){var h=(this.words[f]|0)*o,m=(h&67108863)+(l&67108863);l>>=26,l+=h/67108864|0,l+=m>>>26,this.words[f]=m&67108863}return l!==0&&(this.words[f]=l,this.length++),this},i.prototype.muln=function(o){return this.clone().imuln(o)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(o){var l=A(o);if(l.length===0)return new i(1);for(var f=this,h=0;h<l.length&&l[h]===0;h++,f=f.sqr());if(++h<l.length)for(var m=f.sqr();h<l.length;h++,m=m.sqr())l[h]!==0&&(f=f.mul(m));return f},i.prototype.iushln=function(o){n(typeof o=="number"&&o>=0);var l=o%26,f=(o-l)/26,h=67108863>>>26-l<<26-l,m;if(l!==0){var y=0;for(m=0;m<this.length;m++){var _=this.words[m]&h,d=(this.words[m]|0)-_<<l;this.words[m]=d|y,y=_>>>26-l}y&&(this.words[m]=y,this.length++)}if(f!==0){for(m=this.length-1;m>=0;m--)this.words[m+f]=this.words[m];for(m=0;m<f;m++)this.words[m]=0;this.length+=f}return this.strip()},i.prototype.ishln=function(o){return n(this.negative===0),this.iushln(o)},i.prototype.iushrn=function(o,l,f){n(typeof o=="number"&&o>=0);var h;l?h=(l-l%26)/26:h=0;var m=o%26,y=Math.min((o-m)/26,this.length),_=67108863^67108863>>>m<<m,d=f;if(h-=y,h=Math.max(0,h),d){for(var a=0;a<y;a++)d.words[a]=this.words[a];d.length=y}if(y!==0)if(this.length>y)for(this.length-=y,a=0;a<this.length;a++)this.words[a]=this.words[a+y];else this.words[0]=0,this.length=1;var p=0;for(a=this.length-1;a>=0&&(p!==0||a>=h);a--){var S=this.words[a]|0;this.words[a]=p<<26-m|S>>>m,p=S&_}return d&&p!==0&&(d.words[d.length++]=p),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(o,l,f){return n(this.negative===0),this.iushrn(o,l,f)},i.prototype.shln=function(o){return this.clone().ishln(o)},i.prototype.ushln=function(o){return this.clone().iushln(o)},i.prototype.shrn=function(o){return this.clone().ishrn(o)},i.prototype.ushrn=function(o){return this.clone().iushrn(o)},i.prototype.testn=function(o){n(typeof o=="number"&&o>=0);var l=o%26,f=(o-l)/26,h=1<<l;if(this.length<=f)return!1;var m=this.words[f];return!!(m&h)},i.prototype.imaskn=function(o){n(typeof o=="number"&&o>=0);var l=o%26,f=(o-l)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(l!==0&&f++,this.length=Math.min(f,this.length),l!==0){var h=67108863^67108863>>>l<<l;this.words[this.length-1]&=h}return this.strip()},i.prototype.maskn=function(o){return this.clone().imaskn(o)},i.prototype.iaddn=function(o){return n(typeof o=="number"),n(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},i.prototype._iaddn=function(o){this.words[0]+=o;for(var l=0;l<this.length&&this.words[l]>=67108864;l++)this.words[l]-=67108864,l===this.length-1?this.words[l+1]=1:this.words[l+1]++;return this.length=Math.max(this.length,l+1),this},i.prototype.isubn=function(o){if(n(typeof o=="number"),n(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var l=0;l<this.length&&this.words[l]<0;l++)this.words[l]+=67108864,this.words[l+1]-=1;return this.strip()},i.prototype.addn=function(o){return this.clone().iaddn(o)},i.prototype.subn=function(o){return this.clone().isubn(o)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(o,l,f){var h=o.length+f,m;this._expand(h);var y,_=0;for(m=0;m<o.length;m++){y=(this.words[m+f]|0)+_;var d=(o.words[m]|0)*l;y-=d&67108863,_=(y>>26)-(d/67108864|0),this.words[m+f]=y&67108863}for(;m<this.length-f;m++)y=(this.words[m+f]|0)+_,_=y>>26,this.words[m+f]=y&67108863;if(_===0)return this.strip();for(n(_===-1),_=0,m=0;m<this.length;m++)y=-(this.words[m]|0)+_,_=y>>26,this.words[m]=y&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(o,l){var f=this.length-o.length,h=this.clone(),m=o,y=m.words[m.length-1]|0,_=this._countBits(y);f=26-_,f!==0&&(m=m.ushln(f),h.iushln(f),y=m.words[m.length-1]|0);var d=h.length-m.length,a;if(l!=="mod"){a=new i(null),a.length=d+1,a.words=new Array(a.length);for(var p=0;p<a.length;p++)a.words[p]=0}var S=h.clone()._ishlnsubmul(m,1,d);S.negative===0&&(h=S,a&&(a.words[d]=1));for(var B=d-1;B>=0;B--){var Z=(h.words[m.length+B]|0)*67108864+(h.words[m.length+B-1]|0);for(Z=Math.min(Z/y|0,67108863),h._ishlnsubmul(m,Z,B);h.negative!==0;)Z--,h.negative=0,h._ishlnsubmul(m,1,B),h.isZero()||(h.negative^=1);a&&(a.words[B]=Z)}return a&&a.strip(),h.strip(),l!=="div"&&f!==0&&h.iushrn(f),{div:a||null,mod:h}},i.prototype.divmod=function(o,l,f){if(n(!o.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var h,m,y;return this.negative!==0&&o.negative===0?(y=this.neg().divmod(o,l),l!=="mod"&&(h=y.div.neg()),l!=="div"&&(m=y.mod.neg(),f&&m.negative!==0&&m.iadd(o)),{div:h,mod:m}):this.negative===0&&o.negative!==0?(y=this.divmod(o.neg(),l),l!=="mod"&&(h=y.div.neg()),{div:h,mod:y.mod}):this.negative&o.negative?(y=this.neg().divmod(o.neg(),l),l!=="div"&&(m=y.mod.neg(),f&&m.negative!==0&&m.isub(o)),{div:y.div,mod:m}):o.length>this.length||this.cmp(o)<0?{div:new i(0),mod:this}:o.length===1?l==="div"?{div:this.divn(o.words[0]),mod:null}:l==="mod"?{div:null,mod:new i(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new i(this.modn(o.words[0]))}:this._wordDiv(o,l)},i.prototype.div=function(o){return this.divmod(o,"div",!1).div},i.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},i.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},i.prototype.divRound=function(o){var l=this.divmod(o);if(l.mod.isZero())return l.div;var f=l.div.negative!==0?l.mod.isub(o):l.mod,h=o.ushrn(1),m=o.andln(1),y=f.cmp(h);return y<0||m===1&&y===0?l.div:l.div.negative!==0?l.div.isubn(1):l.div.iaddn(1)},i.prototype.modn=function(o){n(o<=67108863);for(var l=(1<<26)%o,f=0,h=this.length-1;h>=0;h--)f=(l*f+(this.words[h]|0))%o;return f},i.prototype.idivn=function(o){n(o<=67108863);for(var l=0,f=this.length-1;f>=0;f--){var h=(this.words[f]|0)+l*67108864;this.words[f]=h/o|0,l=h%o}return this.strip()},i.prototype.divn=function(o){return this.clone().idivn(o)},i.prototype.egcd=function(o){n(o.negative===0),n(!o.isZero());var l=this,f=o.clone();l.negative!==0?l=l.umod(o):l=l.clone();for(var h=new i(1),m=new i(0),y=new i(0),_=new i(1),d=0;l.isEven()&&f.isEven();)l.iushrn(1),f.iushrn(1),++d;for(var a=f.clone(),p=l.clone();!l.isZero();){for(var S=0,B=1;!(l.words[0]&B)&&S<26;++S,B<<=1);if(S>0)for(l.iushrn(S);S-- >0;)(h.isOdd()||m.isOdd())&&(h.iadd(a),m.isub(p)),h.iushrn(1),m.iushrn(1);for(var Z=0,X=1;!(f.words[0]&X)&&Z<26;++Z,X<<=1);if(Z>0)for(f.iushrn(Z);Z-- >0;)(y.isOdd()||_.isOdd())&&(y.iadd(a),_.isub(p)),y.iushrn(1),_.iushrn(1);l.cmp(f)>=0?(l.isub(f),h.isub(y),m.isub(_)):(f.isub(l),y.isub(h),_.isub(m))}return{a:y,b:_,gcd:f.iushln(d)}},i.prototype._invmp=function(o){n(o.negative===0),n(!o.isZero());var l=this,f=o.clone();l.negative!==0?l=l.umod(o):l=l.clone();for(var h=new i(1),m=new i(0),y=f.clone();l.cmpn(1)>0&&f.cmpn(1)>0;){for(var _=0,d=1;!(l.words[0]&d)&&_<26;++_,d<<=1);if(_>0)for(l.iushrn(_);_-- >0;)h.isOdd()&&h.iadd(y),h.iushrn(1);for(var a=0,p=1;!(f.words[0]&p)&&a<26;++a,p<<=1);if(a>0)for(f.iushrn(a);a-- >0;)m.isOdd()&&m.iadd(y),m.iushrn(1);l.cmp(f)>=0?(l.isub(f),h.isub(m)):(f.isub(l),m.isub(h))}var S;return l.cmpn(1)===0?S=h:S=m,S.cmpn(0)<0&&S.iadd(o),S},i.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var l=this.clone(),f=o.clone();l.negative=0,f.negative=0;for(var h=0;l.isEven()&&f.isEven();h++)l.iushrn(1),f.iushrn(1);do{for(;l.isEven();)l.iushrn(1);for(;f.isEven();)f.iushrn(1);var m=l.cmp(f);if(m<0){var y=l;l=f,f=y}else if(m===0||f.cmpn(1)===0)break;l.isub(f)}while(!0);return f.iushln(h)},i.prototype.invm=function(o){return this.egcd(o).a.umod(o)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(o){return this.words[0]&o},i.prototype.bincn=function(o){n(typeof o=="number");var l=o%26,f=(o-l)/26,h=1<<l;if(this.length<=f)return this._expand(f+1),this.words[f]|=h,this;for(var m=h,y=f;m!==0&&y<this.length;y++){var _=this.words[y]|0;_+=m,m=_>>>26,_&=67108863,this.words[y]=_}return m!==0&&(this.words[y]=m,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(o){var l=o<0;if(this.negative!==0&&!l)return-1;if(this.negative===0&&l)return 1;this.strip();var f;if(this.length>1)f=1;else{l&&(o=-o),n(o<=67108863,"Number is too big");var h=this.words[0]|0;f=h===o?0:h<o?-1:1}return this.negative!==0?-f|0:f},i.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var l=this.ucmp(o);return this.negative!==0?-l|0:l},i.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var l=0,f=this.length-1;f>=0;f--){var h=this.words[f]|0,m=o.words[f]|0;if(h!==m){h<m?l=-1:h>m&&(l=1);break}}return l},i.prototype.gtn=function(o){return this.cmpn(o)===1},i.prototype.gt=function(o){return this.cmp(o)===1},i.prototype.gten=function(o){return this.cmpn(o)>=0},i.prototype.gte=function(o){return this.cmp(o)>=0},i.prototype.ltn=function(o){return this.cmpn(o)===-1},i.prototype.lt=function(o){return this.cmp(o)===-1},i.prototype.lten=function(o){return this.cmpn(o)<=0},i.prototype.lte=function(o){return this.cmp(o)<=0},i.prototype.eqn=function(o){return this.cmpn(o)===0},i.prototype.eq=function(o){return this.cmp(o)===0},i.red=function(o){return new j(o)},i.prototype.toRed=function(o){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(o){return this.red=o,this},i.prototype.forceRed=function(o){return n(!this.red,"Already a number in reduction context"),this._forceRed(o)},i.prototype.redAdd=function(o){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},i.prototype.redIAdd=function(o){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},i.prototype.redSub=function(o){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},i.prototype.redISub=function(o){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},i.prototype.redShl=function(o){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},i.prototype.redMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},i.prototype.redIMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(o){return n(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var z={k256:null,p224:null,p192:null,p25519:null};function K(g,o){this.name=g,this.p=new i(o,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}K.prototype._tmp=function(){var o=new i(null);return o.words=new Array(Math.ceil(this.n/13)),o},K.prototype.ireduce=function(o){var l=o,f;do this.split(l,this.tmp),l=this.imulK(l),l=l.iadd(this.tmp),f=l.bitLength();while(f>this.n);var h=f<this.n?-1:l.ucmp(this.p);return h===0?(l.words[0]=0,l.length=1):h>0?l.isub(this.p):l.strip!==void 0?l.strip():l._strip(),l},K.prototype.split=function(o,l){o.iushrn(this.n,0,l)},K.prototype.imulK=function(o){return o.imul(this.k)};function ne(){K.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(ne,K),ne.prototype.split=function(o,l){for(var f=4194303,h=Math.min(o.length,9),m=0;m<h;m++)l.words[m]=o.words[m];if(l.length=h,o.length<=9){o.words[0]=0,o.length=1;return}var y=o.words[9];for(l.words[l.length++]=y&f,m=10;m<o.length;m++){var _=o.words[m]|0;o.words[m-10]=(_&f)<<4|y>>>22,y=_}y>>>=22,o.words[m-10]=y,y===0&&o.length>10?o.length-=10:o.length-=9},ne.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var l=0,f=0;f<o.length;f++){var h=o.words[f]|0;l+=h*977,o.words[f]=l&67108863,l=h*64+(l/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function ue(){K.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(ue,K);function G(){K.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(G,K);function q(){K.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(q,K),q.prototype.imulK=function(o){for(var l=0,f=0;f<o.length;f++){var h=(o.words[f]|0)*19+l,m=h&67108863;h>>>=26,o.words[f]=m,l=h}return l!==0&&(o.words[o.length++]=l),o},i._prime=function(o){if(z[o])return z[o];var l;if(o==="k256")l=new ne;else if(o==="p224")l=new ue;else if(o==="p192")l=new G;else if(o==="p25519")l=new q;else throw new Error("Unknown prime "+o);return z[o]=l,l};function j(g){if(typeof g=="string"){var o=i._prime(g);this.m=o.p,this.prime=o}else n(g.gtn(1),"modulus must be greater than 1"),this.m=g,this.prime=null}j.prototype._verify1=function(o){n(o.negative===0,"red works only with positives"),n(o.red,"red works only with red numbers")},j.prototype._verify2=function(o,l){n((o.negative|l.negative)===0,"red works only with positives"),n(o.red&&o.red===l.red,"red works only with red numbers")},j.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},j.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},j.prototype.add=function(o,l){this._verify2(o,l);var f=o.add(l);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},j.prototype.iadd=function(o,l){this._verify2(o,l);var f=o.iadd(l);return f.cmp(this.m)>=0&&f.isub(this.m),f},j.prototype.sub=function(o,l){this._verify2(o,l);var f=o.sub(l);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},j.prototype.isub=function(o,l){this._verify2(o,l);var f=o.isub(l);return f.cmpn(0)<0&&f.iadd(this.m),f},j.prototype.shl=function(o,l){return this._verify1(o),this.imod(o.ushln(l))},j.prototype.imul=function(o,l){return this._verify2(o,l),this.imod(o.imul(l))},j.prototype.mul=function(o,l){return this._verify2(o,l),this.imod(o.mul(l))},j.prototype.isqr=function(o){return this.imul(o,o.clone())},j.prototype.sqr=function(o){return this.mul(o,o)},j.prototype.sqrt=function(o){if(o.isZero())return o.clone();var l=this.m.andln(3);if(n(l%2===1),l===3){var f=this.m.add(new i(1)).iushrn(2);return this.pow(o,f)}for(var h=this.m.subn(1),m=0;!h.isZero()&&h.andln(1)===0;)m++,h.iushrn(1);n(!h.isZero());var y=new i(1).toRed(this),_=y.redNeg(),d=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new i(2*a*a).toRed(this);this.pow(a,d).cmp(_)!==0;)a.redIAdd(_);for(var p=this.pow(a,h),S=this.pow(o,h.addn(1).iushrn(1)),B=this.pow(o,h),Z=m;B.cmp(y)!==0;){for(var X=B,oe=0;X.cmp(y)!==0;oe++)X=X.redSqr();n(oe<Z);var H=this.pow(p,new i(1).iushln(Z-oe-1));S=S.redMul(H),p=H.redSqr(),B=B.redMul(p),Z=oe}return S},j.prototype.invm=function(o){var l=o._invmp(this.m);return l.negative!==0?(l.negative=0,this.imod(l).redNeg()):this.imod(l)},j.prototype.pow=function(o,l){if(l.isZero())return new i(1).toRed(this);if(l.cmpn(1)===0)return o.clone();var f=4,h=new Array(1<<f);h[0]=new i(1).toRed(this),h[1]=o;for(var m=2;m<h.length;m++)h[m]=this.mul(h[m-1],o);var y=h[0],_=0,d=0,a=l.bitLength()%26;for(a===0&&(a=26),m=l.length-1;m>=0;m--){for(var p=l.words[m],S=a-1;S>=0;S--){var B=p>>S&1;if(y!==h[0]&&(y=this.sqr(y)),B===0&&_===0){d=0;continue}_<<=1,_|=B,d++,!(d!==f&&(m!==0||S!==0))&&(y=this.mul(y,h[_]),d=0,_=0)}a=26}return y},j.prototype.convertTo=function(o){var l=o.umod(this.m);return l===o?l.clone():l},j.prototype.convertFrom=function(o){var l=o.clone();return l.red=null,l},i.mont=function(o){return new Q(o)};function Q(g){j.call(this,g),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(Q,j),Q.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},Q.prototype.convertFrom=function(o){var l=this.imod(o.mul(this.rinv));return l.red=null,l},Q.prototype.imul=function(o,l){if(o.isZero()||l.isZero())return o.words[0]=0,o.length=1,o;var f=o.imul(l),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=f.isub(h).iushrn(this.shift),y=m;return m.cmp(this.m)>=0?y=m.isub(this.m):m.cmpn(0)<0&&(y=m.iadd(this.m)),y._forceRed(this)},Q.prototype.mul=function(o,l){if(o.isZero()||l.isZero())return new i(0)._forceRed(this);var f=o.mul(l),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=f.isub(h).iushrn(this.shift),y=m;return m.cmp(this.m)>=0?y=m.isub(this.m):m.cmpn(0)<0&&(y=m.iadd(this.m)),y._forceRed(this)},Q.prototype.invm=function(o){var l=this.imod(o._invmp(this.m).mul(this.r2));return l._forceRed(this)}})(t,Vt)})(q_);var eW=q_.exports,Od={exports:{}},J4;function H_(){if(J4)return Od.exports;J4=1;var t;Od.exports=function(s){return t||(t=new e(null)),t.generate(s)};function e(n){this.rand=n}if(Od.exports.Rand=e,e.prototype.generate=function(s){return this._rand(s)},e.prototype._rand=function(s){if(this.rand.getBytes)return this.rand.getBytes(s);for(var i=new Uint8Array(s),u=0;u<i.length;u++)i[u]=this.rand.getByte();return i},typeof self=="object")self.crypto&&self.crypto.getRandomValues?e.prototype._rand=function(s){var i=new Uint8Array(s);return self.crypto.getRandomValues(i),i}:self.msCrypto&&self.msCrypto.getRandomValues?e.prototype._rand=function(s){var i=new Uint8Array(s);return self.msCrypto.getRandomValues(i),i}:typeof window=="object"&&(e.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var r=pR();if(typeof r.randomBytes!="function")throw new Error("Not supported");e.prototype._rand=function(s){return r.randomBytes(s)}}catch{}return Od.exports}var Rg,X4;function oT(){if(X4)return Rg;X4=1;var t=eW,e=H_();function r(n){this.rand=n||new e.Rand}return Rg=r,r.create=function(s){return new r(s)},r.prototype._randbelow=function(s){var i=s.bitLength(),u=Math.ceil(i/8);do var c=new t(this.rand.generate(u));while(c.cmp(s)>=0);return c},r.prototype._randrange=function(s,i){var u=i.sub(s);return s.add(this._randbelow(u))},r.prototype.test=function(s,i,u){var c=s.bitLength(),v=t.mont(s),b=new t(1).toRed(v);i||(i=Math.max(1,c/48|0));for(var w=s.subn(1),x=0;!w.testn(x);x++);for(var E=s.shrn(x),A=w.toRed(v),N=!0;i>0;i--){var D=this._randrange(new t(2),w);u&&u(D);var W=D.toRed(v).redPow(E);if(!(W.cmp(b)===0||W.cmp(A)===0)){for(var P=1;P<x;P++){if(W=W.redSqr(),W.cmp(b)===0)return!1;if(W.cmp(A)===0)break}if(P===x)return!1}}return N},r.prototype.getDivisor=function(s,i){var u=s.bitLength(),c=t.mont(s),v=new t(1).toRed(c);i||(i=Math.max(1,u/48|0));for(var b=s.subn(1),w=0;!b.testn(w);w++);for(var x=s.shrn(w),E=b.toRed(c);i>0;i--){var A=this._randrange(new t(2),b),N=s.gcd(A);if(N.cmpn(1)!==0)return N;var D=A.toRed(c).redPow(x);if(!(D.cmp(v)===0||D.cmp(E)===0)){for(var W=1;W<w;W++){if(D=D.redSqr(),D.cmp(v)===0)return D.fromRed().subn(1).gcd(s);if(D.cmp(E)===0)break}if(W===w)return D=D.redSqr(),D.fromRed().subn(1).gcd(s)}}return!1},Rg}var kg,eM;function aT(){if(eM)return kg;eM=1;var t=Hu;kg=W,W.simpleSieve=N,W.fermatTest=D;var e=sT,r=new e(24),n=oT(),s=new n,i=new e(1),u=new e(2),c=new e(5);new e(16),new e(8);var v=new e(10),b=new e(3);new e(7);var w=new e(11),x=new e(4);new e(12);var E=null;function A(){if(E!==null)return E;var P=1048576,C=[];C[0]=2;for(var z=1,K=3;K<P;K+=2){for(var ne=Math.ceil(Math.sqrt(K)),ue=0;ue<z&&C[ue]<=ne&&K%C[ue]!==0;ue++);z!==ue&&C[ue]<=ne||(C[z++]=K)}return E=C,C}function N(P){for(var C=A(),z=0;z<C.length;z++)if(P.modn(C[z])===0)return P.cmpn(C[z])===0;return!0}function D(P){var C=e.mont(P);return u.toRed(C).redPow(P.subn(1)).fromRed().cmpn(1)===0}function W(P,C){if(P<16)return C===2||C===5?new e([140,123]):new e([140,39]);C=new e(C);for(var z,K;;){for(z=new e(t(Math.ceil(P/8)));z.bitLength()>P;)z.ishrn(1);if(z.isEven()&&z.iadd(i),z.testn(1)||z.iadd(u),C.cmp(u)){if(!C.cmp(c))for(;z.mod(v).cmp(b);)z.iadd(x)}else for(;z.mod(r).cmp(w);)z.iadd(x);if(K=z.shrn(1),N(K)&&N(z)&&D(K)&&D(z)&&s.test(K)&&s.test(z))return z}}return kg}const tW={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},rW={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},nW={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},iW={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},sW={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},oW={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},aW={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},lW={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},uW={modp1:tW,modp2:rW,modp5:nW,modp14:iW,modp15:sW,modp16:oW,modp17:aW,modp18:lW};var Cg,tM;function fW(){if(tM)return Cg;tM=1;var t=sT,e=oT(),r=new e,n=new t(24),s=new t(11),i=new t(10),u=new t(3),c=new t(7),v=aT(),b=Hu;Cg=N;function w(W,P){return P=P||"utf8",Wt.isBuffer(W)||(W=new Wt(W,P)),this._pub=new t(W),this}function x(W,P){return P=P||"utf8",Wt.isBuffer(W)||(W=new Wt(W,P)),this._priv=new t(W),this}var E={};function A(W,P){var C=P.toString("hex"),z=[C,W.toString(16)].join("_");if(z in E)return E[z];var K=0;if(W.isEven()||!v.simpleSieve||!v.fermatTest(W)||!r.test(W))return K+=1,C==="02"||C==="05"?K+=8:K+=4,E[z]=K,K;r.test(W.shrn(1))||(K+=2);var ne;switch(C){case"02":W.mod(n).cmp(s)&&(K+=8);break;case"05":ne=W.mod(i),ne.cmp(u)&&ne.cmp(c)&&(K+=8);break;default:K+=4}return E[z]=K,K}function N(W,P,C){this.setGenerator(P),this.__prime=new t(W),this._prime=t.mont(this.__prime),this._primeLen=W.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,C?(this.setPublicKey=w,this.setPrivateKey=x):this._primeCode=8}Object.defineProperty(N.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=A(this.__prime,this.__gen)),this._primeCode}}),N.prototype.generateKeys=function(){return this._priv||(this._priv=new t(b(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},N.prototype.computeSecret=function(W){W=new t(W),W=W.toRed(this._prime);var P=W.redPow(this._priv).fromRed(),C=new Wt(P.toArray()),z=this.getPrime();if(C.length<z.length){var K=new Wt(z.length-C.length);K.fill(0),C=Wt.concat([K,C])}return C},N.prototype.getPublicKey=function(P){return D(this._pub,P)},N.prototype.getPrivateKey=function(P){return D(this._priv,P)},N.prototype.getPrime=function(W){return D(this.__prime,W)},N.prototype.getGenerator=function(W){return D(this._gen,W)},N.prototype.setGenerator=function(W,P){return P=P||"utf8",Wt.isBuffer(W)||(W=new Wt(W,P)),this.__gen=W,this._gen=new t(W),this};function D(W,P){var C=new Wt(W.toArray());return P?C.toString(P):C}return Cg}var rM;function hW(){if(rM)return ea;rM=1;var t=aT(),e=uW,r=fW();function n(u){var c=new Wt(e[u].prime,"hex"),v=new Wt(e[u].gen,"hex");return new r(c,v)}var s={binary:!0,hex:!0,base64:!0};function i(u,c,v,b){return Wt.isBuffer(c)||s[c]===void 0?i(u,"binary",c,v):(c=c||"binary",b=b||"binary",v=v||new Wt([2]),Wt.isBuffer(v)||(v=new Wt(v,b)),typeof u=="number"?new r(t(u,v),v,!0):(Wt.isBuffer(u)||(u=new Wt(u,c)),new r(u,v,!0)))}return ea.DiffieHellmanGroup=ea.createDiffieHellmanGroup=ea.getDiffieHellman=n,ea.createDiffieHellman=ea.DiffieHellman=i,ea}var p2={exports:{}},m2={exports:{}};typeof pr>"u"||!pr.version||pr.version.indexOf("v0.")===0||pr.version.indexOf("v1.")===0&&pr.version.indexOf("v1.8.")!==0?m2.exports={nextTick:cW}:m2.exports=pr;function cW(t,e,r,n){if(typeof t!="function")throw new TypeError('"callback" argument must be a function');var s=arguments.length,i,u;switch(s){case 0:case 1:return pr.nextTick(t);case 2:return pr.nextTick(function(){t.call(null,e)});case 3:return pr.nextTick(function(){t.call(null,e,r)});case 4:return pr.nextTick(function(){t.call(null,e,r,n)});default:for(i=new Array(s-1),u=0;u<i.length;)i[u++]=arguments[u];return pr.nextTick(function(){t.apply(null,i)})}}var Ym=m2.exports,dW={}.toString,pW=Array.isArray||function(t){return dW.call(t)=="[object Array]"},K_={exports:{}},Zl=typeof Reflect=="object"?Reflect:null,nM=Zl&&typeof Zl.apply=="function"?Zl.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},b0;Zl&&typeof Zl.ownKeys=="function"?b0=Zl.ownKeys:Object.getOwnPropertySymbols?b0=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:b0=function(e){return Object.getOwnPropertyNames(e)};function mW(t){console&&console.warn&&console.warn(t)}var lT=Number.isNaN||function(e){return e!==e};function tr(){tr.init.call(this)}K_.exports=tr;K_.exports.once=wW;tr.EventEmitter=tr;tr.prototype._events=void 0;tr.prototype._eventsCount=0;tr.prototype._maxListeners=void 0;var iM=10;function Jm(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(tr,"defaultMaxListeners",{enumerable:!0,get:function(){return iM},set:function(t){if(typeof t!="number"||t<0||lT(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");iM=t}});tr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};tr.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||lT(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function uT(t){return t._maxListeners===void 0?tr.defaultMaxListeners:t._maxListeners}tr.prototype.getMaxListeners=function(){return uT(this)};tr.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var s=e==="error",i=this._events;if(i!==void 0)s=s&&i.error===void 0;else if(!s)return!1;if(s){var u;if(r.length>0&&(u=r[0]),u instanceof Error)throw u;var c=new Error("Unhandled error."+(u?" ("+u.message+")":""));throw c.context=u,c}var v=i[e];if(v===void 0)return!1;if(typeof v=="function")nM(v,this,r);else for(var b=v.length,w=pT(v,b),n=0;n<b;++n)nM(w[n],this,r);return!0};function fT(t,e,r,n){var s,i,u;if(Jm(r),i=t._events,i===void 0?(i=t._events=Object.create(null),t._eventsCount=0):(i.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),i=t._events),u=i[e]),u===void 0)u=i[e]=r,++t._eventsCount;else if(typeof u=="function"?u=i[e]=n?[r,u]:[u,r]:n?u.unshift(r):u.push(r),s=uT(t),s>0&&u.length>s&&!u.warned){u.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=u.length,mW(c)}return t}tr.prototype.addListener=function(e,r){return fT(this,e,r,!1)};tr.prototype.on=tr.prototype.addListener;tr.prototype.prependListener=function(e,r){return fT(this,e,r,!0)};function vW(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function hT(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},s=vW.bind(n);return s.listener=r,n.wrapFn=s,s}tr.prototype.once=function(e,r){return Jm(r),this.on(e,hT(this,e,r)),this};tr.prototype.prependOnceListener=function(e,r){return Jm(r),this.prependListener(e,hT(this,e,r)),this};tr.prototype.removeListener=function(e,r){var n,s,i,u,c;if(Jm(r),s=this._events,s===void 0)return this;if(n=s[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(i=-1,u=n.length-1;u>=0;u--)if(n[u]===r||n[u].listener===r){c=n[u].listener,i=u;break}if(i<0)return this;i===0?n.shift():gW(n,i),n.length===1&&(s[e]=n[0]),s.removeListener!==void 0&&this.emit("removeListener",e,c||r)}return this};tr.prototype.off=tr.prototype.removeListener;tr.prototype.removeAllListeners=function(e){var r,n,s;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var i=Object.keys(n),u;for(s=0;s<i.length;++s)u=i[s],u!=="removeListener"&&this.removeAllListeners(u);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(s=r.length-1;s>=0;s--)this.removeListener(e,r[s]);return this};function cT(t,e,r){var n=t._events;if(n===void 0)return[];var s=n[e];return s===void 0?[]:typeof s=="function"?r?[s.listener||s]:[s]:r?yW(s):pT(s,s.length)}tr.prototype.listeners=function(e){return cT(this,e,!0)};tr.prototype.rawListeners=function(e){return cT(this,e,!1)};tr.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):dT.call(t,e)};tr.prototype.listenerCount=dT;function dT(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}tr.prototype.eventNames=function(){return this._eventsCount>0?b0(this._events):[]};function pT(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function gW(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function yW(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function wW(t,e){return new Promise(function(r,n){function s(u){t.removeListener(e,i),n(u)}function i(){typeof t.removeListener=="function"&&t.removeListener("error",s),r([].slice.call(arguments))}mT(t,e,i,{once:!0}),e!=="error"&&_W(t,s,{once:!0})})}function _W(t,e,r){typeof t.on=="function"&&mT(t,"error",e,r)}function mT(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function s(i){n.once&&t.removeEventListener(e,s),r(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var vT=K_.exports,gT=vT.EventEmitter,v2={exports:{}};(function(t,e){var r=$s,n=r.Buffer;function s(u,c){for(var v in u)c[v]=u[v]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(s(r,e),e.Buffer=i);function i(u,c,v){return n(u,c,v)}s(n,i),i.from=function(u,c,v){if(typeof u=="number")throw new TypeError("Argument must not be a number");return n(u,c,v)},i.alloc=function(u,c,v){if(typeof u!="number")throw new TypeError("Argument must be a number");var b=n(u);return c!==void 0?typeof v=="string"?b.fill(c,v):b.fill(c):b.fill(0),b},i.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return n(u)},i.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(u)}})(v2,v2.exports);var W_=v2.exports,kr={};function bW(t){return Array.isArray?Array.isArray(t):Xm(t)==="[object Array]"}kr.isArray=bW;function xW(t){return typeof t=="boolean"}kr.isBoolean=xW;function MW(t){return t===null}kr.isNull=MW;function EW(t){return t==null}kr.isNullOrUndefined=EW;function SW(t){return typeof t=="number"}kr.isNumber=SW;function IW(t){return typeof t=="string"}kr.isString=IW;function AW(t){return typeof t=="symbol"}kr.isSymbol=AW;function TW(t){return t===void 0}kr.isUndefined=TW;function RW(t){return Xm(t)==="[object RegExp]"}kr.isRegExp=RW;function kW(t){return typeof t=="object"&&t!==null}kr.isObject=kW;function CW(t){return Xm(t)==="[object Date]"}kr.isDate=CW;function PW(t){return Xm(t)==="[object Error]"||t instanceof Error}kr.isError=PW;function NW(t){return typeof t=="function"}kr.isFunction=NW;function BW(t){return t===null||typeof t=="boolean"||typeof t=="number"||typeof t=="string"||typeof t=="symbol"||typeof t>"u"}kr.isPrimitive=BW;kr.isBuffer=$s.Buffer.isBuffer;function Xm(t){return Object.prototype.toString.call(t)}var Pg={exports:{}},sM;function DW(){return sM||(sM=1,function(t){function e(i,u){if(!(i instanceof u))throw new TypeError("Cannot call a class as a function")}var r=W_.Buffer,n=ui;function s(i,u,c){i.copy(u,c)}t.exports=function(){function i(){e(this,i),this.head=null,this.tail=null,this.length=0}return i.prototype.push=function(c){var v={data:c,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length},i.prototype.unshift=function(c){var v={data:c,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length},i.prototype.shift=function(){if(this.length!==0){var c=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,c}},i.prototype.clear=function(){this.head=this.tail=null,this.length=0},i.prototype.join=function(c){if(this.length===0)return"";for(var v=this.head,b=""+v.data;v=v.next;)b+=c+v.data;return b},i.prototype.concat=function(c){if(this.length===0)return r.alloc(0);for(var v=r.allocUnsafe(c>>>0),b=this.head,w=0;b;)s(b.data,v,w),w+=b.data.length,b=b.next;return v},i}(),n&&n.inspect&&n.inspect.custom&&(t.exports.prototype[n.inspect.custom]=function(){var i=n.inspect({length:this.length});return this.constructor.name+" "+i})}(Pg)),Pg.exports}var Ld=Ym;function OW(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return n||s?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Ld.nextTick(Fd,this,t)):Ld.nextTick(Fd,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(i){!e&&i?r._writableState?r._writableState.errorEmitted||(r._writableState.errorEmitted=!0,Ld.nextTick(Fd,r,i)):Ld.nextTick(Fd,r,i):e&&e(i)}),this)}function LW(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Fd(t,e){t.emit("error",e)}var yT={destroy:OW,undestroy:LW},FW=VW;function VW(t,e){if(Ng("noDeprecation"))return t;var r=!1;function n(){if(!r){if(Ng("throwDeprecation"))throw new Error(e);Ng("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function Ng(t){try{if(!Vt.localStorage)return!1}catch{return!1}var e=Vt.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var Bg,oM;function wT(){if(oM)return Bg;oM=1;var t=Ym;Bg=D;function e(y){var _=this;this.next=null,this.entry=null,this.finish=function(){m(_,y)}}var r=!pr.browser&&["v0.10","v0.9."].indexOf(pr.version.slice(0,5))>-1?setImmediate:t.nextTick,n;D.WritableState=A;var s=Object.create(kr);s.inherits=kt;var i={deprecate:FW},u=gT,c=W_.Buffer,v=(typeof Vt<"u"?Vt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function b(y){return c.from(y)}function w(y){return c.isBuffer(y)||y instanceof v}var x=yT;s.inherits(D,u);function E(){}function A(y,_){n=n||Au(),y=y||{};var d=_ instanceof n;this.objectMode=!!y.objectMode,d&&(this.objectMode=this.objectMode||!!y.writableObjectMode);var a=y.highWaterMark,p=y.writableHighWaterMark,S=this.objectMode?16:16*1024;a||a===0?this.highWaterMark=a:d&&(p||p===0)?this.highWaterMark=p:this.highWaterMark=S,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var B=y.decodeStrings===!1;this.decodeStrings=!B,this.defaultEncoding=y.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Z){G(_,Z)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}A.prototype.getBuffer=function(){for(var _=this.bufferedRequest,d=[];_;)d.push(_),_=_.next;return d},function(){try{Object.defineProperty(A.prototype,"buffer",{get:i.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var N;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(N=Function.prototype[Symbol.hasInstance],Object.defineProperty(D,Symbol.hasInstance,{value:function(y){return N.call(this,y)?!0:this!==D?!1:y&&y._writableState instanceof A}})):N=function(y){return y instanceof this};function D(y){if(n=n||Au(),!N.call(D,this)&&!(this instanceof n))return new D(y);this._writableState=new A(y,this),this.writable=!0,y&&(typeof y.write=="function"&&(this._write=y.write),typeof y.writev=="function"&&(this._writev=y.writev),typeof y.destroy=="function"&&(this._destroy=y.destroy),typeof y.final=="function"&&(this._final=y.final)),u.call(this)}D.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function W(y,_){var d=new Error("write after end");y.emit("error",d),t.nextTick(_,d)}function P(y,_,d,a){var p=!0,S=!1;return d===null?S=new TypeError("May not write null values to stream"):typeof d!="string"&&d!==void 0&&!_.objectMode&&(S=new TypeError("Invalid non-string/buffer chunk")),S&&(y.emit("error",S),t.nextTick(a,S),p=!1),p}D.prototype.write=function(y,_,d){var a=this._writableState,p=!1,S=!a.objectMode&&w(y);return S&&!c.isBuffer(y)&&(y=b(y)),typeof _=="function"&&(d=_,_=null),S?_="buffer":_||(_=a.defaultEncoding),typeof d!="function"&&(d=E),a.ended?W(this,d):(S||P(this,a,y,d))&&(a.pendingcb++,p=z(this,a,S,y,_,d)),p},D.prototype.cork=function(){var y=this._writableState;y.corked++},D.prototype.uncork=function(){var y=this._writableState;y.corked&&(y.corked--,!y.writing&&!y.corked&&!y.bufferProcessing&&y.bufferedRequest&&Q(this,y))},D.prototype.setDefaultEncoding=function(_){if(typeof _=="string"&&(_=_.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((_+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+_);return this._writableState.defaultEncoding=_,this};function C(y,_,d){return!y.objectMode&&y.decodeStrings!==!1&&typeof _=="string"&&(_=c.from(_,d)),_}Object.defineProperty(D.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function z(y,_,d,a,p,S){if(!d){var B=C(_,a,p);a!==B&&(d=!0,p="buffer",a=B)}var Z=_.objectMode?1:a.length;_.length+=Z;var X=_.length<_.highWaterMark;if(X||(_.needDrain=!0),_.writing||_.corked){var oe=_.lastBufferedRequest;_.lastBufferedRequest={chunk:a,encoding:p,isBuf:d,callback:S,next:null},oe?oe.next=_.lastBufferedRequest:_.bufferedRequest=_.lastBufferedRequest,_.bufferedRequestCount+=1}else K(y,_,!1,Z,a,p,S);return X}function K(y,_,d,a,p,S,B){_.writelen=a,_.writecb=B,_.writing=!0,_.sync=!0,d?y._writev(p,_.onwrite):y._write(p,S,_.onwrite),_.sync=!1}function ne(y,_,d,a,p){--_.pendingcb,d?(t.nextTick(p,a),t.nextTick(f,y,_),y._writableState.errorEmitted=!0,y.emit("error",a)):(p(a),y._writableState.errorEmitted=!0,y.emit("error",a),f(y,_))}function ue(y){y.writing=!1,y.writecb=null,y.length-=y.writelen,y.writelen=0}function G(y,_){var d=y._writableState,a=d.sync,p=d.writecb;if(ue(d),_)ne(y,d,a,_,p);else{var S=g(d);!S&&!d.corked&&!d.bufferProcessing&&d.bufferedRequest&&Q(y,d),a?r(q,y,d,S,p):q(y,d,S,p)}}function q(y,_,d,a){d||j(y,_),_.pendingcb--,a(),f(y,_)}function j(y,_){_.length===0&&_.needDrain&&(_.needDrain=!1,y.emit("drain"))}function Q(y,_){_.bufferProcessing=!0;var d=_.bufferedRequest;if(y._writev&&d&&d.next){var a=_.bufferedRequestCount,p=new Array(a),S=_.corkedRequestsFree;S.entry=d;for(var B=0,Z=!0;d;)p[B]=d,d.isBuf||(Z=!1),d=d.next,B+=1;p.allBuffers=Z,K(y,_,!0,_.length,p,"",S.finish),_.pendingcb++,_.lastBufferedRequest=null,S.next?(_.corkedRequestsFree=S.next,S.next=null):_.corkedRequestsFree=new e(_),_.bufferedRequestCount=0}else{for(;d;){var X=d.chunk,oe=d.encoding,H=d.callback,ee=_.objectMode?1:X.length;if(K(y,_,!1,ee,X,oe,H),d=d.next,_.bufferedRequestCount--,_.writing)break}d===null&&(_.lastBufferedRequest=null)}_.bufferedRequest=d,_.bufferProcessing=!1}D.prototype._write=function(y,_,d){d(new Error("_write() is not implemented"))},D.prototype._writev=null,D.prototype.end=function(y,_,d){var a=this._writableState;typeof y=="function"?(d=y,y=null,_=null):typeof _=="function"&&(d=_,_=null),y!=null&&this.write(y,_),a.corked&&(a.corked=1,this.uncork()),a.ending||h(this,a,d)};function g(y){return y.ending&&y.length===0&&y.bufferedRequest===null&&!y.finished&&!y.writing}function o(y,_){y._final(function(d){_.pendingcb--,d&&y.emit("error",d),_.prefinished=!0,y.emit("prefinish"),f(y,_)})}function l(y,_){!_.prefinished&&!_.finalCalled&&(typeof y._final=="function"?(_.pendingcb++,_.finalCalled=!0,t.nextTick(o,y,_)):(_.prefinished=!0,y.emit("prefinish")))}function f(y,_){var d=g(_);return d&&(l(y,_),_.pendingcb===0&&(_.finished=!0,y.emit("finish"))),d}function h(y,_,d){_.ending=!0,f(y,_),d&&(_.finished?t.nextTick(d):y.once("finish",d)),_.ended=!0,y.writable=!1}function m(y,_,d){var a=y.entry;for(y.entry=null;a;){var p=a.callback;_.pendingcb--,p(d),a=a.next}_.corkedRequestsFree.next=y}return Object.defineProperty(D.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(y){this._writableState&&(this._writableState.destroyed=y)}}),D.prototype.destroy=x.destroy,D.prototype._undestroy=x.undestroy,D.prototype._destroy=function(y,_){this.end(),_(y)},Bg}var Dg,aM;function Au(){if(aM)return Dg;aM=1;var t=Ym,e=Object.keys||function(x){var E=[];for(var A in x)E.push(A);return E};Dg=v;var r=Object.create(kr);r.inherits=kt;var n=_T(),s=wT();r.inherits(v,n);for(var i=e(s.prototype),u=0;u<i.length;u++){var c=i[u];v.prototype[c]||(v.prototype[c]=s.prototype[c])}function v(x){if(!(this instanceof v))return new v(x);n.call(this,x),s.call(this,x),x&&x.readable===!1&&(this.readable=!1),x&&x.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,x&&x.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",b)}Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function b(){this.allowHalfOpen||this._writableState.ended||t.nextTick(w,this)}function w(x){x.end()}return Object.defineProperty(v.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(x){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=x,this._writableState.destroyed=x)}}),v.prototype._destroy=function(x,E){this.push(null),this.end(),t.nextTick(E,x)},Dg}var Og={},Vd={exports:{}},lM;function UW(){return lM||(lM=1,function(t,e){var r=$s,n=r.Buffer;function s(u,c){for(var v in u)c[v]=u[v]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(s(r,e),e.Buffer=i);function i(u,c,v){return n(u,c,v)}s(n,i),i.from=function(u,c,v){if(typeof u=="number")throw new TypeError("Argument must not be a number");return n(u,c,v)},i.alloc=function(u,c,v){if(typeof u!="number")throw new TypeError("Argument must be a number");var b=n(u);return c!==void 0?typeof v=="string"?b.fill(c,v):b.fill(c):b.fill(0),b},i.allocUnsafe=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return n(u)},i.allocUnsafeSlow=function(u){if(typeof u!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(u)}}(Vd,Vd.exports)),Vd.exports}var uM;function fM(){if(uM)return Og;uM=1;var t=UW().Buffer,e=t.isEncoding||function(P){switch(P=""+P,P&&P.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(P){if(!P)return"utf8";for(var C;;)switch(P){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return P;default:if(C)return;P=(""+P).toLowerCase(),C=!0}}function n(P){var C=r(P);if(typeof C!="string"&&(t.isEncoding===e||!e(P)))throw new Error("Unknown encoding: "+P);return C||P}Og.StringDecoder=s;function s(P){this.encoding=n(P);var C;switch(this.encoding){case"utf16le":this.text=x,this.end=E,C=4;break;case"utf8":this.fillLast=v,C=4;break;case"base64":this.text=A,this.end=N,C=3;break;default:this.write=D,this.end=W;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(C)}s.prototype.write=function(P){if(P.length===0)return"";var C,z;if(this.lastNeed){if(C=this.fillLast(P),C===void 0)return"";z=this.lastNeed,this.lastNeed=0}else z=0;return z<P.length?C?C+this.text(P,z):this.text(P,z):C||""},s.prototype.end=w,s.prototype.text=b,s.prototype.fillLast=function(P){if(this.lastNeed<=P.length)return P.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);P.copy(this.lastChar,this.lastTotal-this.lastNeed,0,P.length),this.lastNeed-=P.length};function i(P){return P<=127?0:P>>5===6?2:P>>4===14?3:P>>3===30?4:P>>6===2?-1:-2}function u(P,C,z){var K=C.length-1;if(K<z)return 0;var ne=i(C[K]);return ne>=0?(ne>0&&(P.lastNeed=ne-1),ne):--K<z||ne===-2?0:(ne=i(C[K]),ne>=0?(ne>0&&(P.lastNeed=ne-2),ne):--K<z||ne===-2?0:(ne=i(C[K]),ne>=0?(ne>0&&(ne===2?ne=0:P.lastNeed=ne-3),ne):0))}function c(P,C,z){if((C[0]&192)!==128)return P.lastNeed=0,"";if(P.lastNeed>1&&C.length>1){if((C[1]&192)!==128)return P.lastNeed=1,"";if(P.lastNeed>2&&C.length>2&&(C[2]&192)!==128)return P.lastNeed=2,""}}function v(P){var C=this.lastTotal-this.lastNeed,z=c(this,P);if(z!==void 0)return z;if(this.lastNeed<=P.length)return P.copy(this.lastChar,C,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);P.copy(this.lastChar,C,0,P.length),this.lastNeed-=P.length}function b(P,C){var z=u(this,P,C);if(!this.lastNeed)return P.toString("utf8",C);this.lastTotal=z;var K=P.length-(z-this.lastNeed);return P.copy(this.lastChar,0,K),P.toString("utf8",C,K)}function w(P){var C=P&&P.length?this.write(P):"";return this.lastNeed?C+"":C}function x(P,C){if((P.length-C)%2===0){var z=P.toString("utf16le",C);if(z){var K=z.charCodeAt(z.length-1);if(K>=55296&&K<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=P[P.length-2],this.lastChar[1]=P[P.length-1],z.slice(0,-1)}return z}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=P[P.length-1],P.toString("utf16le",C,P.length-1)}function E(P){var C=P&&P.length?this.write(P):"";if(this.lastNeed){var z=this.lastTotal-this.lastNeed;return C+this.lastChar.toString("utf16le",0,z)}return C}function A(P,C){var z=(P.length-C)%3;return z===0?P.toString("base64",C):(this.lastNeed=3-z,this.lastTotal=3,z===1?this.lastChar[0]=P[P.length-1]:(this.lastChar[0]=P[P.length-2],this.lastChar[1]=P[P.length-1]),P.toString("base64",C,P.length-z))}function N(P){var C=P&&P.length?this.write(P):"";return this.lastNeed?C+this.lastChar.toString("base64",0,3-this.lastNeed):C}function D(P){return P.toString(this.encoding)}function W(P){return P&&P.length?this.write(P):""}return Og}var Lg,hM;function _T(){if(hM)return Lg;hM=1;var t=Ym;Lg=C;var e=pW,r;C.ReadableState=P,vT.EventEmitter;var n=function(H,ee){return H.listeners(ee).length},s=gT,i=W_.Buffer,u=(typeof Vt<"u"?Vt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function c(H){return i.from(H)}function v(H){return i.isBuffer(H)||H instanceof u}var b=Object.create(kr);b.inherits=kt;var w=ui,x=void 0;w&&w.debuglog?x=w.debuglog("stream"):x=function(){};var E=DW(),A=yT,N;b.inherits(C,s);var D=["error","close","destroy","pause","resume"];function W(H,ee,se){if(typeof H.prependListener=="function")return H.prependListener(ee,se);!H._events||!H._events[ee]?H.on(ee,se):e(H._events[ee])?H._events[ee].unshift(se):H._events[ee]=[se,H._events[ee]]}function P(H,ee){r=r||Au(),H=H||{};var se=ee instanceof r;this.objectMode=!!H.objectMode,se&&(this.objectMode=this.objectMode||!!H.readableObjectMode);var le=H.highWaterMark,Ge=H.readableHighWaterMark,he=this.objectMode?16:16*1024;le||le===0?this.highWaterMark=le:se&&(Ge||Ge===0)?this.highWaterMark=Ge:this.highWaterMark=he,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new E,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=H.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,H.encoding&&(N||(N=fM().StringDecoder),this.decoder=new N(H.encoding),this.encoding=H.encoding)}function C(H){if(r=r||Au(),!(this instanceof C))return new C(H);this._readableState=new P(H,this),this.readable=!0,H&&(typeof H.read=="function"&&(this._read=H.read),typeof H.destroy=="function"&&(this._destroy=H.destroy)),s.call(this)}Object.defineProperty(C.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(H){this._readableState&&(this._readableState.destroyed=H)}}),C.prototype.destroy=A.destroy,C.prototype._undestroy=A.undestroy,C.prototype._destroy=function(H,ee){this.push(null),ee(H)},C.prototype.push=function(H,ee){var se=this._readableState,le;return se.objectMode?le=!0:typeof H=="string"&&(ee=ee||se.defaultEncoding,ee!==se.encoding&&(H=i.from(H,ee),ee=""),le=!0),z(this,H,ee,!1,le)},C.prototype.unshift=function(H){return z(this,H,null,!0,!1)};function z(H,ee,se,le,Ge){var he=H._readableState;if(ee===null)he.reading=!1,Q(H,he);else{var de;Ge||(de=ne(he,ee)),de?H.emit("error",de):he.objectMode||ee&&ee.length>0?(typeof ee!="string"&&!he.objectMode&&Object.getPrototypeOf(ee)!==i.prototype&&(ee=c(ee)),le?he.endEmitted?H.emit("error",new Error("stream.unshift() after end event")):K(H,he,ee,!0):he.ended?H.emit("error",new Error("stream.push() after EOF")):(he.reading=!1,he.decoder&&!se?(ee=he.decoder.write(ee),he.objectMode||ee.length!==0?K(H,he,ee,!1):l(H,he)):K(H,he,ee,!1))):le||(he.reading=!1)}return ue(he)}function K(H,ee,se,le){ee.flowing&&ee.length===0&&!ee.sync?(H.emit("data",se),H.read(0)):(ee.length+=ee.objectMode?1:se.length,le?ee.buffer.unshift(se):ee.buffer.push(se),ee.needReadable&&g(H)),l(H,ee)}function ne(H,ee){var se;return!v(ee)&&typeof ee!="string"&&ee!==void 0&&!H.objectMode&&(se=new TypeError("Invalid non-string/buffer chunk")),se}function ue(H){return!H.ended&&(H.needReadable||H.length<H.highWaterMark||H.length===0)}C.prototype.isPaused=function(){return this._readableState.flowing===!1},C.prototype.setEncoding=function(H){return N||(N=fM().StringDecoder),this._readableState.decoder=new N(H),this._readableState.encoding=H,this};var G=8388608;function q(H){return H>=G?H=G:(H--,H|=H>>>1,H|=H>>>2,H|=H>>>4,H|=H>>>8,H|=H>>>16,H++),H}function j(H,ee){return H<=0||ee.length===0&&ee.ended?0:ee.objectMode?1:H!==H?ee.flowing&&ee.length?ee.buffer.head.data.length:ee.length:(H>ee.highWaterMark&&(ee.highWaterMark=q(H)),H<=ee.length?H:ee.ended?ee.length:(ee.needReadable=!0,0))}C.prototype.read=function(H){x("read",H),H=parseInt(H,10);var ee=this._readableState,se=H;if(H!==0&&(ee.emittedReadable=!1),H===0&&ee.needReadable&&(ee.length>=ee.highWaterMark||ee.ended))return x("read: emitReadable",ee.length,ee.ended),ee.length===0&&ee.ended?Z(this):g(this),null;if(H=j(H,ee),H===0&&ee.ended)return ee.length===0&&Z(this),null;var le=ee.needReadable;x("need readable",le),(ee.length===0||ee.length-H<ee.highWaterMark)&&(le=!0,x("length less than watermark",le)),ee.ended||ee.reading?(le=!1,x("reading or ended",le)):le&&(x("do read"),ee.reading=!0,ee.sync=!0,ee.length===0&&(ee.needReadable=!0),this._read(ee.highWaterMark),ee.sync=!1,ee.reading||(H=j(se,ee)));var Ge;return H>0?Ge=a(H,ee):Ge=null,Ge===null?(ee.needReadable=!0,H=0):ee.length-=H,ee.length===0&&(ee.ended||(ee.needReadable=!0),se!==H&&ee.ended&&Z(this)),Ge!==null&&this.emit("data",Ge),Ge};function Q(H,ee){if(!ee.ended){if(ee.decoder){var se=ee.decoder.end();se&&se.length&&(ee.buffer.push(se),ee.length+=ee.objectMode?1:se.length)}ee.ended=!0,g(H)}}function g(H){var ee=H._readableState;ee.needReadable=!1,ee.emittedReadable||(x("emitReadable",ee.flowing),ee.emittedReadable=!0,ee.sync?t.nextTick(o,H):o(H))}function o(H){x("emit readable"),H.emit("readable"),d(H)}function l(H,ee){ee.readingMore||(ee.readingMore=!0,t.nextTick(f,H,ee))}function f(H,ee){for(var se=ee.length;!ee.reading&&!ee.flowing&&!ee.ended&&ee.length<ee.highWaterMark&&(x("maybeReadMore read 0"),H.read(0),se!==ee.length);)se=ee.length;ee.readingMore=!1}C.prototype._read=function(H){this.emit("error",new Error("_read() is not implemented"))},C.prototype.pipe=function(H,ee){var se=this,le=this._readableState;switch(le.pipesCount){case 0:le.pipes=H;break;case 1:le.pipes=[le.pipes,H];break;default:le.pipes.push(H);break}le.pipesCount+=1,x("pipe count=%d opts=%j",le.pipesCount,ee);var Ge=(!ee||ee.end!==!1)&&H!==pr.stdout&&H!==pr.stderr,he=Ge?Ye:ft;le.endEmitted?t.nextTick(he):se.once("end",he),H.on("unpipe",de);function de(Ee,Me){x("onunpipe"),Ee===se&&Me&&Me.hasUnpiped===!1&&(Me.hasUnpiped=!0,st())}function Ye(){x("onend"),H.end()}var xe=h(se);H.on("drain",xe);var Se=!1;function st(){x("cleanup"),H.removeListener("close",Ie),H.removeListener("finish",Be),H.removeListener("drain",xe),H.removeListener("error",it),H.removeListener("unpipe",de),se.removeListener("end",Ye),se.removeListener("end",ft),se.removeListener("data",ke),Se=!0,le.awaitDrain&&(!H._writableState||H._writableState.needDrain)&&xe()}var Te=!1;se.on("data",ke);function ke(Ee){x("ondata"),Te=!1;var Me=H.write(Ee);Me===!1&&!Te&&((le.pipesCount===1&&le.pipes===H||le.pipesCount>1&&oe(le.pipes,H)!==-1)&&!Se&&(x("false write response, pause",le.awaitDrain),le.awaitDrain++,Te=!0),se.pause())}function it(Ee){x("onerror",Ee),ft(),H.removeListener("error",it),n(H,"error")===0&&H.emit("error",Ee)}W(H,"error",it);function Ie(){H.removeListener("finish",Be),ft()}H.once("close",Ie);function Be(){x("onfinish"),H.removeListener("close",Ie),ft()}H.once("finish",Be);function ft(){x("unpipe"),se.unpipe(H)}return H.emit("pipe",se),le.flowing||(x("pipe resume"),se.resume()),H};function h(H){return function(){var ee=H._readableState;x("pipeOnDrain",ee.awaitDrain),ee.awaitDrain&&ee.awaitDrain--,ee.awaitDrain===0&&n(H,"data")&&(ee.flowing=!0,d(H))}}C.prototype.unpipe=function(H){var ee=this._readableState,se={hasUnpiped:!1};if(ee.pipesCount===0)return this;if(ee.pipesCount===1)return H&&H!==ee.pipes?this:(H||(H=ee.pipes),ee.pipes=null,ee.pipesCount=0,ee.flowing=!1,H&&H.emit("unpipe",this,se),this);if(!H){var le=ee.pipes,Ge=ee.pipesCount;ee.pipes=null,ee.pipesCount=0,ee.flowing=!1;for(var he=0;he<Ge;he++)le[he].emit("unpipe",this,{hasUnpiped:!1});return this}var de=oe(ee.pipes,H);return de===-1?this:(ee.pipes.splice(de,1),ee.pipesCount-=1,ee.pipesCount===1&&(ee.pipes=ee.pipes[0]),H.emit("unpipe",this,se),this)},C.prototype.on=function(H,ee){var se=s.prototype.on.call(this,H,ee);if(H==="data")this._readableState.flowing!==!1&&this.resume();else if(H==="readable"){var le=this._readableState;!le.endEmitted&&!le.readableListening&&(le.readableListening=le.needReadable=!0,le.emittedReadable=!1,le.reading?le.length&&g(this):t.nextTick(m,this))}return se},C.prototype.addListener=C.prototype.on;function m(H){x("readable nexttick read 0"),H.read(0)}C.prototype.resume=function(){var H=this._readableState;return H.flowing||(x("resume"),H.flowing=!0,y(this,H)),this};function y(H,ee){ee.resumeScheduled||(ee.resumeScheduled=!0,t.nextTick(_,H,ee))}function _(H,ee){ee.reading||(x("resume read 0"),H.read(0)),ee.resumeScheduled=!1,ee.awaitDrain=0,H.emit("resume"),d(H),ee.flowing&&!ee.reading&&H.read(0)}C.prototype.pause=function(){return x("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(x("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function d(H){var ee=H._readableState;for(x("flow",ee.flowing);ee.flowing&&H.read()!==null;);}C.prototype.wrap=function(H){var ee=this,se=this._readableState,le=!1;H.on("end",function(){if(x("wrapped end"),se.decoder&&!se.ended){var de=se.decoder.end();de&&de.length&&ee.push(de)}ee.push(null)}),H.on("data",function(de){if(x("wrapped data"),se.decoder&&(de=se.decoder.write(de)),!(se.objectMode&&de==null)&&!(!se.objectMode&&(!de||!de.length))){var Ye=ee.push(de);Ye||(le=!0,H.pause())}});for(var Ge in H)this[Ge]===void 0&&typeof H[Ge]=="function"&&(this[Ge]=function(de){return function(){return H[de].apply(H,arguments)}}(Ge));for(var he=0;he<D.length;he++)H.on(D[he],this.emit.bind(this,D[he]));return this._read=function(de){x("wrapped _read",de),le&&(le=!1,H.resume())},this},Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),C._fromList=a;function a(H,ee){if(ee.length===0)return null;var se;return ee.objectMode?se=ee.buffer.shift():!H||H>=ee.length?(ee.decoder?se=ee.buffer.join(""):ee.buffer.length===1?se=ee.buffer.head.data:se=ee.buffer.concat(ee.length),ee.buffer.clear()):se=p(H,ee.buffer,ee.decoder),se}function p(H,ee,se){var le;return H<ee.head.data.length?(le=ee.head.data.slice(0,H),ee.head.data=ee.head.data.slice(H)):H===ee.head.data.length?le=ee.shift():le=se?S(H,ee):B(H,ee),le}function S(H,ee){var se=ee.head,le=1,Ge=se.data;for(H-=Ge.length;se=se.next;){var he=se.data,de=H>he.length?he.length:H;if(de===he.length?Ge+=he:Ge+=he.slice(0,H),H-=de,H===0){de===he.length?(++le,se.next?ee.head=se.next:ee.head=ee.tail=null):(ee.head=se,se.data=he.slice(de));break}++le}return ee.length-=le,Ge}function B(H,ee){var se=i.allocUnsafe(H),le=ee.head,Ge=1;for(le.data.copy(se),H-=le.data.length;le=le.next;){var he=le.data,de=H>he.length?he.length:H;if(he.copy(se,se.length-H,0,de),H-=de,H===0){de===he.length?(++Ge,le.next?ee.head=le.next:ee.head=ee.tail=null):(ee.head=le,le.data=he.slice(de));break}++Ge}return ee.length-=Ge,se}function Z(H){var ee=H._readableState;if(ee.length>0)throw new Error('"endReadable()" called on non-empty stream');ee.endEmitted||(ee.ended=!0,t.nextTick(X,ee,H))}function X(H,ee){!H.endEmitted&&H.length===0&&(H.endEmitted=!0,ee.readable=!1,ee.emit("end"))}function oe(H,ee){for(var se=0,le=H.length;se<le;se++)if(H[se]===ee)return se;return-1}return Lg}var bT=Bs,ev=Au(),xT=Object.create(kr);xT.inherits=kt;xT.inherits(Bs,ev);function jW(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var s=this._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}function Bs(t){if(!(this instanceof Bs))return new Bs(t);ev.call(this,t),this._transformState={afterTransform:jW.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",zW)}function zW(){var t=this;typeof this._flush=="function"?this._flush(function(e,r){cM(t,e,r)}):cM(this,null,null)}Bs.prototype.push=function(t,e){return this._transformState.needTransform=!1,ev.prototype.push.call(this,t,e)};Bs.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")};Bs.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var s=this._readableState;(n.needTransform||s.needReadable||s.length<s.highWaterMark)&&this._read(s.highWaterMark)}};Bs.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};Bs.prototype._destroy=function(t,e){var r=this;ev.prototype._destroy.call(this,t,function(n){e(n),r.emit("close")})};function cM(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}var $W=oc,MT=bT,ET=Object.create(kr);ET.inherits=kt;ET.inherits(oc,MT);function oc(t){if(!(this instanceof oc))return new oc(t);MT.call(this,t)}oc.prototype._transform=function(t,e,r){r(null,t)};(function(t,e){e=t.exports=_T(),e.Stream=e,e.Readable=e,e.Writable=wT(),e.Duplex=Au(),e.Transform=bT,e.PassThrough=$W})(p2,p2.exports);var qW=p2.exports,Of={exports:{}},G_={exports:{}};G_.exports;(function(t){(function(e,r){function n(l,f){if(!l)throw new Error(f||"Assertion failed")}function s(l,f){l.super_=f;var h=function(){};h.prototype=f.prototype,l.prototype=new h,l.prototype.constructor=l}function i(l,f,h){if(i.isBN(l))return l;this.negative=0,this.words=null,this.length=0,this.red=null,l!==null&&((f==="le"||f==="be")&&(h=f,f=10),this._init(l||0,f||10,h||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=ui.Buffer}catch{}i.isBN=function(f){return f instanceof i?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===i.wordSize&&Array.isArray(f.words)},i.max=function(f,h){return f.cmp(h)>0?f:h},i.min=function(f,h){return f.cmp(h)<0?f:h},i.prototype._init=function(f,h,m){if(typeof f=="number")return this._initNumber(f,h,m);if(typeof f=="object")return this._initArray(f,h,m);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),f=f.toString().replace(/\s+/g,"");var y=0;f[0]==="-"&&(y++,this.negative=1),y<f.length&&(h===16?this._parseHex(f,y,m):(this._parseBase(f,h,y),m==="le"&&this._initArray(this.toArray(),h,m)))},i.prototype._initNumber=function(f,h,m){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(n(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),m==="le"&&this._initArray(this.toArray(),h,m)},i.prototype._initArray=function(f,h,m){if(n(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var _,d,a=0;if(m==="be")for(y=f.length-1,_=0;y>=0;y-=3)d=f[y]|f[y-1]<<8|f[y-2]<<16,this.words[_]|=d<<a&67108863,this.words[_+1]=d>>>26-a&67108863,a+=24,a>=26&&(a-=26,_++);else if(m==="le")for(y=0,_=0;y<f.length;y+=3)d=f[y]|f[y+1]<<8|f[y+2]<<16,this.words[_]|=d<<a&67108863,this.words[_+1]=d>>>26-a&67108863,a+=24,a>=26&&(a-=26,_++);return this._strip()};function c(l,f){var h=l.charCodeAt(f);if(h>=48&&h<=57)return h-48;if(h>=65&&h<=70)return h-55;if(h>=97&&h<=102)return h-87;n(!1,"Invalid character in "+l)}function v(l,f,h){var m=c(l,h);return h-1>=f&&(m|=c(l,h-1)<<4),m}i.prototype._parseHex=function(f,h,m){this.length=Math.ceil((f.length-h)/6),this.words=new Array(this.length);for(var y=0;y<this.length;y++)this.words[y]=0;var _=0,d=0,a;if(m==="be")for(y=f.length-1;y>=h;y-=2)a=v(f,h,y)<<_,this.words[d]|=a&67108863,_>=18?(_-=18,d+=1,this.words[d]|=a>>>26):_+=8;else{var p=f.length-h;for(y=p%2===0?h+1:h;y<f.length;y+=2)a=v(f,h,y)<<_,this.words[d]|=a&67108863,_>=18?(_-=18,d+=1,this.words[d]|=a>>>26):_+=8}this._strip()};function b(l,f,h,m){for(var y=0,_=0,d=Math.min(l.length,h),a=f;a<d;a++){var p=l.charCodeAt(a)-48;y*=m,p>=49?_=p-49+10:p>=17?_=p-17+10:_=p,n(p>=0&&_<m,"Invalid character"),y+=_}return y}i.prototype._parseBase=function(f,h,m){this.words=[0],this.length=1;for(var y=0,_=1;_<=67108863;_*=h)y++;y--,_=_/h|0;for(var d=f.length-m,a=d%y,p=Math.min(d,d-a)+m,S=0,B=m;B<p;B+=y)S=b(f,B,B+y,h),this.imuln(_),this.words[0]+S<67108864?this.words[0]+=S:this._iaddn(S);if(a!==0){var Z=1;for(S=b(f,B,f.length,h),B=0;B<a;B++)Z*=h;this.imuln(Z),this.words[0]+S<67108864?this.words[0]+=S:this._iaddn(S)}this._strip()},i.prototype.copy=function(f){f.words=new Array(this.length);for(var h=0;h<this.length;h++)f.words[h]=this.words[h];f.length=this.length,f.negative=this.negative,f.red=this.red};function w(l,f){l.words=f.words,l.length=f.length,l.negative=f.negative,l.red=f.red}if(i.prototype._move=function(f){w(f,this)},i.prototype.clone=function(){var f=new i(null);return this.copy(f),f},i.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=x}catch{i.prototype.inspect=x}else i.prototype.inspect=x;function x(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var E=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],A=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],N=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(f,h){f=f||10,h=h|0||1;var m;if(f===16||f==="hex"){m="";for(var y=0,_=0,d=0;d<this.length;d++){var a=this.words[d],p=((a<<y|_)&16777215).toString(16);_=a>>>24-y&16777215,y+=2,y>=26&&(y-=26,d--),_!==0||d!==this.length-1?m=E[6-p.length]+p+m:m=p+m}for(_!==0&&(m=_.toString(16)+m);m.length%h!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}if(f===(f|0)&&f>=2&&f<=36){var S=A[f],B=N[f];m="";var Z=this.clone();for(Z.negative=0;!Z.isZero();){var X=Z.modrn(B).toString(f);Z=Z.idivn(B),Z.isZero()?m=X+m:m=E[S-X.length]+X+m}for(this.isZero()&&(m="0"+m);m.length%h!==0;)m="0"+m;return this.negative!==0&&(m="-"+m),m}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},i.prototype.toJSON=function(){return this.toString(16,2)},u&&(i.prototype.toBuffer=function(f,h){return this.toArrayLike(u,f,h)}),i.prototype.toArray=function(f,h){return this.toArrayLike(Array,f,h)};var D=function(f,h){return f.allocUnsafe?f.allocUnsafe(h):new f(h)};i.prototype.toArrayLike=function(f,h,m){this._strip();var y=this.byteLength(),_=m||Math.max(1,y);n(y<=_,"byte array longer than desired length"),n(_>0,"Requested array length <= 0");var d=D(f,_),a=h==="le"?"LE":"BE";return this["_toArrayLike"+a](d,y),d},i.prototype._toArrayLikeLE=function(f,h){for(var m=0,y=0,_=0,d=0;_<this.length;_++){var a=this.words[_]<<d|y;f[m++]=a&255,m<f.length&&(f[m++]=a>>8&255),m<f.length&&(f[m++]=a>>16&255),d===6?(m<f.length&&(f[m++]=a>>24&255),y=0,d=0):(y=a>>>24,d+=2)}if(m<f.length)for(f[m++]=y;m<f.length;)f[m++]=0},i.prototype._toArrayLikeBE=function(f,h){for(var m=f.length-1,y=0,_=0,d=0;_<this.length;_++){var a=this.words[_]<<d|y;f[m--]=a&255,m>=0&&(f[m--]=a>>8&255),m>=0&&(f[m--]=a>>16&255),d===6?(m>=0&&(f[m--]=a>>24&255),y=0,d=0):(y=a>>>24,d+=2)}if(m>=0)for(f[m--]=y;m>=0;)f[m--]=0},Math.clz32?i.prototype._countBits=function(f){return 32-Math.clz32(f)}:i.prototype._countBits=function(f){var h=f,m=0;return h>=4096&&(m+=13,h>>>=13),h>=64&&(m+=7,h>>>=7),h>=8&&(m+=4,h>>>=4),h>=2&&(m+=2,h>>>=2),m+h},i.prototype._zeroBits=function(f){if(f===0)return 26;var h=f,m=0;return h&8191||(m+=13,h>>>=13),h&127||(m+=7,h>>>=7),h&15||(m+=4,h>>>=4),h&3||(m+=2,h>>>=2),h&1||m++,m},i.prototype.bitLength=function(){var f=this.words[this.length-1],h=this._countBits(f);return(this.length-1)*26+h};function W(l){for(var f=new Array(l.bitLength()),h=0;h<f.length;h++){var m=h/26|0,y=h%26;f[h]=l.words[m]>>>y&1}return f}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,h=0;h<this.length;h++){var m=this._zeroBits(this.words[h]);if(f+=m,m!==26)break}return f},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},i.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var h=0;h<f.length;h++)this.words[h]=this.words[h]|f.words[h];return this._strip()},i.prototype.ior=function(f){return n((this.negative|f.negative)===0),this.iuor(f)},i.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},i.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},i.prototype.iuand=function(f){var h;this.length>f.length?h=f:h=this;for(var m=0;m<h.length;m++)this.words[m]=this.words[m]&f.words[m];return this.length=h.length,this._strip()},i.prototype.iand=function(f){return n((this.negative|f.negative)===0),this.iuand(f)},i.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},i.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},i.prototype.iuxor=function(f){var h,m;this.length>f.length?(h=this,m=f):(h=f,m=this);for(var y=0;y<m.length;y++)this.words[y]=h.words[y]^m.words[y];if(this!==h)for(;y<h.length;y++)this.words[y]=h.words[y];return this.length=h.length,this._strip()},i.prototype.ixor=function(f){return n((this.negative|f.negative)===0),this.iuxor(f)},i.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},i.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},i.prototype.inotn=function(f){n(typeof f=="number"&&f>=0);var h=Math.ceil(f/26)|0,m=f%26;this._expand(h),m>0&&h--;for(var y=0;y<h;y++)this.words[y]=~this.words[y]&67108863;return m>0&&(this.words[y]=~this.words[y]&67108863>>26-m),this._strip()},i.prototype.notn=function(f){return this.clone().inotn(f)},i.prototype.setn=function(f,h){n(typeof f=="number"&&f>=0);var m=f/26|0,y=f%26;return this._expand(m+1),h?this.words[m]=this.words[m]|1<<y:this.words[m]=this.words[m]&~(1<<y),this._strip()},i.prototype.iadd=function(f){var h;if(this.negative!==0&&f.negative===0)return this.negative=0,h=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,h=this.isub(f),f.negative=1,h._normSign();var m,y;this.length>f.length?(m=this,y=f):(m=f,y=this);for(var _=0,d=0;d<y.length;d++)h=(m.words[d]|0)+(y.words[d]|0)+_,this.words[d]=h&67108863,_=h>>>26;for(;_!==0&&d<m.length;d++)h=(m.words[d]|0)+_,this.words[d]=h&67108863,_=h>>>26;if(this.length=m.length,_!==0)this.words[this.length]=_,this.length++;else if(m!==this)for(;d<m.length;d++)this.words[d]=m.words[d];return this},i.prototype.add=function(f){var h;return f.negative!==0&&this.negative===0?(f.negative=0,h=this.sub(f),f.negative^=1,h):f.negative===0&&this.negative!==0?(this.negative=0,h=f.sub(this),this.negative=1,h):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},i.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var h=this.iadd(f);return f.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var m=this.cmp(f);if(m===0)return this.negative=0,this.length=1,this.words[0]=0,this;var y,_;m>0?(y=this,_=f):(y=f,_=this);for(var d=0,a=0;a<_.length;a++)h=(y.words[a]|0)-(_.words[a]|0)+d,d=h>>26,this.words[a]=h&67108863;for(;d!==0&&a<y.length;a++)h=(y.words[a]|0)+d,d=h>>26,this.words[a]=h&67108863;if(d===0&&a<y.length&&y!==this)for(;a<y.length;a++)this.words[a]=y.words[a];return this.length=Math.max(this.length,a),y!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(f){return this.clone().isub(f)};function P(l,f,h){h.negative=f.negative^l.negative;var m=l.length+f.length|0;h.length=m,m=m-1|0;var y=l.words[0]|0,_=f.words[0]|0,d=y*_,a=d&67108863,p=d/67108864|0;h.words[0]=a;for(var S=1;S<m;S++){for(var B=p>>>26,Z=p&67108863,X=Math.min(S,f.length-1),oe=Math.max(0,S-l.length+1);oe<=X;oe++){var H=S-oe|0;y=l.words[H]|0,_=f.words[oe]|0,d=y*_+Z,B+=d/67108864|0,Z=d&67108863}h.words[S]=Z|0,p=B|0}return p!==0?h.words[S]=p|0:h.length--,h._strip()}var C=function(f,h,m){var y=f.words,_=h.words,d=m.words,a=0,p,S,B,Z=y[0]|0,X=Z&8191,oe=Z>>>13,H=y[1]|0,ee=H&8191,se=H>>>13,le=y[2]|0,Ge=le&8191,he=le>>>13,de=y[3]|0,Ye=de&8191,xe=de>>>13,Se=y[4]|0,st=Se&8191,Te=Se>>>13,ke=y[5]|0,it=ke&8191,Ie=ke>>>13,Be=y[6]|0,ft=Be&8191,Ee=Be>>>13,Me=y[7]|0,rt=Me&8191,V=Me>>>13,R=y[8]|0,L=R&8191,T=R>>>13,I=y[9]|0,k=I&8191,F=I>>>13,Y=_[0]|0,pe=Y&8191,ie=Y>>>13,ge=_[1]|0,qe=ge&8191,be=ge>>>13,Ce=_[2]|0,et=Ce&8191,Ne=Ce>>>13,Fe=_[3]|0,gt=Fe&8191,De=Fe>>>13,Oe=_[4]|0,_t=Oe&8191,Pe=Oe>>>13,Ve=_[5]|0,dt=Ve&8191,J=Ve>>>13,re=_[6]|0,_e=re&8191,ae=re>>>13,me=_[7]|0,$e=me&8191,ve=me>>>13,ye=_[8]|0,ze=ye&8191,ce=ye>>>13,we=_[9]|0,We=we&8191,Ze=we>>>13;m.negative=f.negative^h.negative,m.length=19,p=Math.imul(X,pe),S=Math.imul(X,ie),S=S+Math.imul(oe,pe)|0,B=Math.imul(oe,ie);var yt=(a+p|0)+((S&8191)<<13)|0;a=(B+(S>>>13)|0)+(yt>>>26)|0,yt&=67108863,p=Math.imul(ee,pe),S=Math.imul(ee,ie),S=S+Math.imul(se,pe)|0,B=Math.imul(se,ie),p=p+Math.imul(X,qe)|0,S=S+Math.imul(X,be)|0,S=S+Math.imul(oe,qe)|0,B=B+Math.imul(oe,be)|0;var ct=(a+p|0)+((S&8191)<<13)|0;a=(B+(S>>>13)|0)+(ct>>>26)|0,ct&=67108863,p=Math.imul(Ge,pe),S=Math.imul(Ge,ie),S=S+Math.imul(he,pe)|0,B=Math.imul(he,ie),p=p+Math.imul(ee,qe)|0,S=S+Math.imul(ee,be)|0,S=S+Math.imul(se,qe)|0,B=B+Math.imul(se,be)|0,p=p+Math.imul(X,et)|0,S=S+Math.imul(X,Ne)|0,S=S+Math.imul(oe,et)|0,B=B+Math.imul(oe,Ne)|0;var at=(a+p|0)+((S&8191)<<13)|0;a=(B+(S>>>13)|0)+(at>>>26)|0,at&=67108863,p=Math.imul(Ye,pe),S=Math.imul(Ye,ie),S=S+Math.imul(xe,pe)|0,B=Math.imul(xe,ie),p=p+Math.imul(Ge,qe)|0,S=S+Math.imul(Ge,be)|0,S=S+Math.imul(he,qe)|0,B=B+Math.imul(he,be)|0,p=p+Math.imul(ee,et)|0,S=S+Math.imul(ee,Ne)|0,S=S+Math.imul(se,et)|0,B=B+Math.imul(se,Ne)|0,p=p+Math.imul(X,gt)|0,S=S+Math.imul(X,De)|0,S=S+Math.imul(oe,gt)|0,B=B+Math.imul(oe,De)|0;var pt=(a+p|0)+((S&8191)<<13)|0;a=(B+(S>>>13)|0)+(pt>>>26)|0,pt&=67108863,p=Math.imul(st,pe),S=Math.imul(st,ie),S=S+Math.imul(Te,pe)|0,B=Math.imul(Te,ie),p=p+Math.imul(Ye,qe)|0,S=S+Math.imul(Ye,be)|0,S=S+Math.imul(xe,qe)|0,B=B+Math.imul(xe,be)|0,p=p+Math.imul(Ge,et)|0,S=S+Math.imul(Ge,Ne)|0,S=S+Math.imul(he,et)|0,B=B+Math.imul(he,Ne)|0,p=p+Math.imul(ee,gt)|0,S=S+Math.imul(ee,De)|0,S=S+Math.imul(se,gt)|0,B=B+Math.imul(se,De)|0,p=p+Math.imul(X,_t)|0,S=S+Math.imul(X,Pe)|0,S=S+Math.imul(oe,_t)|0,B=B+Math.imul(oe,Pe)|0;var Ct=(a+p|0)+((S&8191)<<13)|0;a=(B+(S>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,p=Math.imul(it,pe),S=Math.imul(it,ie),S=S+Math.imul(Ie,pe)|0,B=Math.imul(Ie,ie),p=p+Math.imul(st,qe)|0,S=S+Math.imul(st,be)|0,S=S+Math.imul(Te,qe)|0,B=B+Math.imul(Te,be)|0,p=p+Math.imul(Ye,et)|0,S=S+Math.imul(Ye,Ne)|0,S=S+Math.imul(xe,et)|0,B=B+Math.imul(xe,Ne)|0,p=p+Math.imul(Ge,gt)|0,S=S+Math.imul(Ge,De)|0,S=S+Math.imul(he,gt)|0,B=B+Math.imul(he,De)|0,p=p+Math.imul(ee,_t)|0,S=S+Math.imul(ee,Pe)|0,S=S+Math.imul(se,_t)|0,B=B+Math.imul(se,Pe)|0,p=p+Math.imul(X,dt)|0,S=S+Math.imul(X,J)|0,S=S+Math.imul(oe,dt)|0,B=B+Math.imul(oe,J)|0;var Ot=(a+p|0)+((S&8191)<<13)|0;a=(B+(S>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,p=Math.imul(ft,pe),S=Math.imul(ft,ie),S=S+Math.imul(Ee,pe)|0,B=Math.imul(Ee,ie),p=p+Math.imul(it,qe)|0,S=S+Math.imul(it,be)|0,S=S+Math.imul(Ie,qe)|0,B=B+Math.imul(Ie,be)|0,p=p+Math.imul(st,et)|0,S=S+Math.imul(st,Ne)|0,S=S+Math.imul(Te,et)|0,B=B+Math.imul(Te,Ne)|0,p=p+Math.imul(Ye,gt)|0,S=S+Math.imul(Ye,De)|0,S=S+Math.imul(xe,gt)|0,B=B+Math.imul(xe,De)|0,p=p+Math.imul(Ge,_t)|0,S=S+Math.imul(Ge,Pe)|0,S=S+Math.imul(he,_t)|0,B=B+Math.imul(he,Pe)|0,p=p+Math.imul(ee,dt)|0,S=S+Math.imul(ee,J)|0,S=S+Math.imul(se,dt)|0,B=B+Math.imul(se,J)|0,p=p+Math.imul(X,_e)|0,S=S+Math.imul(X,ae)|0,S=S+Math.imul(oe,_e)|0,B=B+Math.imul(oe,ae)|0;var Tt=(a+p|0)+((S&8191)<<13)|0;a=(B+(S>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,p=Math.imul(rt,pe),S=Math.imul(rt,ie),S=S+Math.imul(V,pe)|0,B=Math.imul(V,ie),p=p+Math.imul(ft,qe)|0,S=S+Math.imul(ft,be)|0,S=S+Math.imul(Ee,qe)|0,B=B+Math.imul(Ee,be)|0,p=p+Math.imul(it,et)|0,S=S+Math.imul(it,Ne)|0,S=S+Math.imul(Ie,et)|0,B=B+Math.imul(Ie,Ne)|0,p=p+Math.imul(st,gt)|0,S=S+Math.imul(st,De)|0,S=S+Math.imul(Te,gt)|0,B=B+Math.imul(Te,De)|0,p=p+Math.imul(Ye,_t)|0,S=S+Math.imul(Ye,Pe)|0,S=S+Math.imul(xe,_t)|0,B=B+Math.imul(xe,Pe)|0,p=p+Math.imul(Ge,dt)|0,S=S+Math.imul(Ge,J)|0,S=S+Math.imul(he,dt)|0,B=B+Math.imul(he,J)|0,p=p+Math.imul(ee,_e)|0,S=S+Math.imul(ee,ae)|0,S=S+Math.imul(se,_e)|0,B=B+Math.imul(se,ae)|0,p=p+Math.imul(X,$e)|0,S=S+Math.imul(X,ve)|0,S=S+Math.imul(oe,$e)|0,B=B+Math.imul(oe,ve)|0;var xt=(a+p|0)+((S&8191)<<13)|0;a=(B+(S>>>13)|0)+(xt>>>26)|0,xt&=67108863,p=Math.imul(L,pe),S=Math.imul(L,ie),S=S+Math.imul(T,pe)|0,B=Math.imul(T,ie),p=p+Math.imul(rt,qe)|0,S=S+Math.imul(rt,be)|0,S=S+Math.imul(V,qe)|0,B=B+Math.imul(V,be)|0,p=p+Math.imul(ft,et)|0,S=S+Math.imul(ft,Ne)|0,S=S+Math.imul(Ee,et)|0,B=B+Math.imul(Ee,Ne)|0,p=p+Math.imul(it,gt)|0,S=S+Math.imul(it,De)|0,S=S+Math.imul(Ie,gt)|0,B=B+Math.imul(Ie,De)|0,p=p+Math.imul(st,_t)|0,S=S+Math.imul(st,Pe)|0,S=S+Math.imul(Te,_t)|0,B=B+Math.imul(Te,Pe)|0,p=p+Math.imul(Ye,dt)|0,S=S+Math.imul(Ye,J)|0,S=S+Math.imul(xe,dt)|0,B=B+Math.imul(xe,J)|0,p=p+Math.imul(Ge,_e)|0,S=S+Math.imul(Ge,ae)|0,S=S+Math.imul(he,_e)|0,B=B+Math.imul(he,ae)|0,p=p+Math.imul(ee,$e)|0,S=S+Math.imul(ee,ve)|0,S=S+Math.imul(se,$e)|0,B=B+Math.imul(se,ve)|0,p=p+Math.imul(X,ze)|0,S=S+Math.imul(X,ce)|0,S=S+Math.imul(oe,ze)|0,B=B+Math.imul(oe,ce)|0;var zt=(a+p|0)+((S&8191)<<13)|0;a=(B+(S>>>13)|0)+(zt>>>26)|0,zt&=67108863,p=Math.imul(k,pe),S=Math.imul(k,ie),S=S+Math.imul(F,pe)|0,B=Math.imul(F,ie),p=p+Math.imul(L,qe)|0,S=S+Math.imul(L,be)|0,S=S+Math.imul(T,qe)|0,B=B+Math.imul(T,be)|0,p=p+Math.imul(rt,et)|0,S=S+Math.imul(rt,Ne)|0,S=S+Math.imul(V,et)|0,B=B+Math.imul(V,Ne)|0,p=p+Math.imul(ft,gt)|0,S=S+Math.imul(ft,De)|0,S=S+Math.imul(Ee,gt)|0,B=B+Math.imul(Ee,De)|0,p=p+Math.imul(it,_t)|0,S=S+Math.imul(it,Pe)|0,S=S+Math.imul(Ie,_t)|0,B=B+Math.imul(Ie,Pe)|0,p=p+Math.imul(st,dt)|0,S=S+Math.imul(st,J)|0,S=S+Math.imul(Te,dt)|0,B=B+Math.imul(Te,J)|0,p=p+Math.imul(Ye,_e)|0,S=S+Math.imul(Ye,ae)|0,S=S+Math.imul(xe,_e)|0,B=B+Math.imul(xe,ae)|0,p=p+Math.imul(Ge,$e)|0,S=S+Math.imul(Ge,ve)|0,S=S+Math.imul(he,$e)|0,B=B+Math.imul(he,ve)|0,p=p+Math.imul(ee,ze)|0,S=S+Math.imul(ee,ce)|0,S=S+Math.imul(se,ze)|0,B=B+Math.imul(se,ce)|0,p=p+Math.imul(X,We)|0,S=S+Math.imul(X,Ze)|0,S=S+Math.imul(oe,We)|0,B=B+Math.imul(oe,Ze)|0;var Pt=(a+p|0)+((S&8191)<<13)|0;a=(B+(S>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,p=Math.imul(k,qe),S=Math.imul(k,be),S=S+Math.imul(F,qe)|0,B=Math.imul(F,be),p=p+Math.imul(L,et)|0,S=S+Math.imul(L,Ne)|0,S=S+Math.imul(T,et)|0,B=B+Math.imul(T,Ne)|0,p=p+Math.imul(rt,gt)|0,S=S+Math.imul(rt,De)|0,S=S+Math.imul(V,gt)|0,B=B+Math.imul(V,De)|0,p=p+Math.imul(ft,_t)|0,S=S+Math.imul(ft,Pe)|0,S=S+Math.imul(Ee,_t)|0,B=B+Math.imul(Ee,Pe)|0,p=p+Math.imul(it,dt)|0,S=S+Math.imul(it,J)|0,S=S+Math.imul(Ie,dt)|0,B=B+Math.imul(Ie,J)|0,p=p+Math.imul(st,_e)|0,S=S+Math.imul(st,ae)|0,S=S+Math.imul(Te,_e)|0,B=B+Math.imul(Te,ae)|0,p=p+Math.imul(Ye,$e)|0,S=S+Math.imul(Ye,ve)|0,S=S+Math.imul(xe,$e)|0,B=B+Math.imul(xe,ve)|0,p=p+Math.imul(Ge,ze)|0,S=S+Math.imul(Ge,ce)|0,S=S+Math.imul(he,ze)|0,B=B+Math.imul(he,ce)|0,p=p+Math.imul(ee,We)|0,S=S+Math.imul(ee,Ze)|0,S=S+Math.imul(se,We)|0,B=B+Math.imul(se,Ze)|0;var Mt=(a+p|0)+((S&8191)<<13)|0;a=(B+(S>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,p=Math.imul(k,et),S=Math.imul(k,Ne),S=S+Math.imul(F,et)|0,B=Math.imul(F,Ne),p=p+Math.imul(L,gt)|0,S=S+Math.imul(L,De)|0,S=S+Math.imul(T,gt)|0,B=B+Math.imul(T,De)|0,p=p+Math.imul(rt,_t)|0,S=S+Math.imul(rt,Pe)|0,S=S+Math.imul(V,_t)|0,B=B+Math.imul(V,Pe)|0,p=p+Math.imul(ft,dt)|0,S=S+Math.imul(ft,J)|0,S=S+Math.imul(Ee,dt)|0,B=B+Math.imul(Ee,J)|0,p=p+Math.imul(it,_e)|0,S=S+Math.imul(it,ae)|0,S=S+Math.imul(Ie,_e)|0,B=B+Math.imul(Ie,ae)|0,p=p+Math.imul(st,$e)|0,S=S+Math.imul(st,ve)|0,S=S+Math.imul(Te,$e)|0,B=B+Math.imul(Te,ve)|0,p=p+Math.imul(Ye,ze)|0,S=S+Math.imul(Ye,ce)|0,S=S+Math.imul(xe,ze)|0,B=B+Math.imul(xe,ce)|0,p=p+Math.imul(Ge,We)|0,S=S+Math.imul(Ge,Ze)|0,S=S+Math.imul(he,We)|0,B=B+Math.imul(he,Ze)|0;var St=(a+p|0)+((S&8191)<<13)|0;a=(B+(S>>>13)|0)+(St>>>26)|0,St&=67108863,p=Math.imul(k,gt),S=Math.imul(k,De),S=S+Math.imul(F,gt)|0,B=Math.imul(F,De),p=p+Math.imul(L,_t)|0,S=S+Math.imul(L,Pe)|0,S=S+Math.imul(T,_t)|0,B=B+Math.imul(T,Pe)|0,p=p+Math.imul(rt,dt)|0,S=S+Math.imul(rt,J)|0,S=S+Math.imul(V,dt)|0,B=B+Math.imul(V,J)|0,p=p+Math.imul(ft,_e)|0,S=S+Math.imul(ft,ae)|0,S=S+Math.imul(Ee,_e)|0,B=B+Math.imul(Ee,ae)|0,p=p+Math.imul(it,$e)|0,S=S+Math.imul(it,ve)|0,S=S+Math.imul(Ie,$e)|0,B=B+Math.imul(Ie,ve)|0,p=p+Math.imul(st,ze)|0,S=S+Math.imul(st,ce)|0,S=S+Math.imul(Te,ze)|0,B=B+Math.imul(Te,ce)|0,p=p+Math.imul(Ye,We)|0,S=S+Math.imul(Ye,Ze)|0,S=S+Math.imul(xe,We)|0,B=B+Math.imul(xe,Ze)|0;var Lt=(a+p|0)+((S&8191)<<13)|0;a=(B+(S>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,p=Math.imul(k,_t),S=Math.imul(k,Pe),S=S+Math.imul(F,_t)|0,B=Math.imul(F,Pe),p=p+Math.imul(L,dt)|0,S=S+Math.imul(L,J)|0,S=S+Math.imul(T,dt)|0,B=B+Math.imul(T,J)|0,p=p+Math.imul(rt,_e)|0,S=S+Math.imul(rt,ae)|0,S=S+Math.imul(V,_e)|0,B=B+Math.imul(V,ae)|0,p=p+Math.imul(ft,$e)|0,S=S+Math.imul(ft,ve)|0,S=S+Math.imul(Ee,$e)|0,B=B+Math.imul(Ee,ve)|0,p=p+Math.imul(it,ze)|0,S=S+Math.imul(it,ce)|0,S=S+Math.imul(Ie,ze)|0,B=B+Math.imul(Ie,ce)|0,p=p+Math.imul(st,We)|0,S=S+Math.imul(st,Ze)|0,S=S+Math.imul(Te,We)|0,B=B+Math.imul(Te,Ze)|0;var ut=(a+p|0)+((S&8191)<<13)|0;a=(B+(S>>>13)|0)+(ut>>>26)|0,ut&=67108863,p=Math.imul(k,dt),S=Math.imul(k,J),S=S+Math.imul(F,dt)|0,B=Math.imul(F,J),p=p+Math.imul(L,_e)|0,S=S+Math.imul(L,ae)|0,S=S+Math.imul(T,_e)|0,B=B+Math.imul(T,ae)|0,p=p+Math.imul(rt,$e)|0,S=S+Math.imul(rt,ve)|0,S=S+Math.imul(V,$e)|0,B=B+Math.imul(V,ve)|0,p=p+Math.imul(ft,ze)|0,S=S+Math.imul(ft,ce)|0,S=S+Math.imul(Ee,ze)|0,B=B+Math.imul(Ee,ce)|0,p=p+Math.imul(it,We)|0,S=S+Math.imul(it,Ze)|0,S=S+Math.imul(Ie,We)|0,B=B+Math.imul(Ie,Ze)|0;var vt=(a+p|0)+((S&8191)<<13)|0;a=(B+(S>>>13)|0)+(vt>>>26)|0,vt&=67108863,p=Math.imul(k,_e),S=Math.imul(k,ae),S=S+Math.imul(F,_e)|0,B=Math.imul(F,ae),p=p+Math.imul(L,$e)|0,S=S+Math.imul(L,ve)|0,S=S+Math.imul(T,$e)|0,B=B+Math.imul(T,ve)|0,p=p+Math.imul(rt,ze)|0,S=S+Math.imul(rt,ce)|0,S=S+Math.imul(V,ze)|0,B=B+Math.imul(V,ce)|0,p=p+Math.imul(ft,We)|0,S=S+Math.imul(ft,Ze)|0,S=S+Math.imul(Ee,We)|0,B=B+Math.imul(Ee,Ze)|0;var Nt=(a+p|0)+((S&8191)<<13)|0;a=(B+(S>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,p=Math.imul(k,$e),S=Math.imul(k,ve),S=S+Math.imul(F,$e)|0,B=Math.imul(F,ve),p=p+Math.imul(L,ze)|0,S=S+Math.imul(L,ce)|0,S=S+Math.imul(T,ze)|0,B=B+Math.imul(T,ce)|0,p=p+Math.imul(rt,We)|0,S=S+Math.imul(rt,Ze)|0,S=S+Math.imul(V,We)|0,B=B+Math.imul(V,Ze)|0;var Ft=(a+p|0)+((S&8191)<<13)|0;a=(B+(S>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,p=Math.imul(k,ze),S=Math.imul(k,ce),S=S+Math.imul(F,ze)|0,B=Math.imul(F,ce),p=p+Math.imul(L,We)|0,S=S+Math.imul(L,Ze)|0,S=S+Math.imul(T,We)|0,B=B+Math.imul(T,Ze)|0;var er=(a+p|0)+((S&8191)<<13)|0;a=(B+(S>>>13)|0)+(er>>>26)|0,er&=67108863,p=Math.imul(k,We),S=Math.imul(k,Ze),S=S+Math.imul(F,We)|0,B=Math.imul(F,Ze);var xn=(a+p|0)+((S&8191)<<13)|0;return a=(B+(S>>>13)|0)+(xn>>>26)|0,xn&=67108863,d[0]=yt,d[1]=ct,d[2]=at,d[3]=pt,d[4]=Ct,d[5]=Ot,d[6]=Tt,d[7]=xt,d[8]=zt,d[9]=Pt,d[10]=Mt,d[11]=St,d[12]=Lt,d[13]=ut,d[14]=vt,d[15]=Nt,d[16]=Ft,d[17]=er,d[18]=xn,a!==0&&(d[19]=a,m.length++),m};Math.imul||(C=P);function z(l,f,h){h.negative=f.negative^l.negative,h.length=l.length+f.length;for(var m=0,y=0,_=0;_<h.length-1;_++){var d=y;y=0;for(var a=m&67108863,p=Math.min(_,f.length-1),S=Math.max(0,_-l.length+1);S<=p;S++){var B=_-S,Z=l.words[B]|0,X=f.words[S]|0,oe=Z*X,H=oe&67108863;d=d+(oe/67108864|0)|0,H=H+a|0,a=H&67108863,d=d+(H>>>26)|0,y+=d>>>26,d&=67108863}h.words[_]=a,m=d,d=y}return m!==0?h.words[_]=m:h.length--,h._strip()}function K(l,f,h){return z(l,f,h)}i.prototype.mulTo=function(f,h){var m,y=this.length+f.length;return this.length===10&&f.length===10?m=C(this,f,h):y<63?m=P(this,f,h):y<1024?m=z(this,f,h):m=K(this,f,h),m},i.prototype.mul=function(f){var h=new i(null);return h.words=new Array(this.length+f.length),this.mulTo(f,h)},i.prototype.mulf=function(f){var h=new i(null);return h.words=new Array(this.length+f.length),K(this,f,h)},i.prototype.imul=function(f){return this.clone().mulTo(f,this)},i.prototype.imuln=function(f){var h=f<0;h&&(f=-f),n(typeof f=="number"),n(f<67108864);for(var m=0,y=0;y<this.length;y++){var _=(this.words[y]|0)*f,d=(_&67108863)+(m&67108863);m>>=26,m+=_/67108864|0,m+=d>>>26,this.words[y]=d&67108863}return m!==0&&(this.words[y]=m,this.length++),h?this.ineg():this},i.prototype.muln=function(f){return this.clone().imuln(f)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(f){var h=W(f);if(h.length===0)return new i(1);for(var m=this,y=0;y<h.length&&h[y]===0;y++,m=m.sqr());if(++y<h.length)for(var _=m.sqr();y<h.length;y++,_=_.sqr())h[y]!==0&&(m=m.mul(_));return m},i.prototype.iushln=function(f){n(typeof f=="number"&&f>=0);var h=f%26,m=(f-h)/26,y=67108863>>>26-h<<26-h,_;if(h!==0){var d=0;for(_=0;_<this.length;_++){var a=this.words[_]&y,p=(this.words[_]|0)-a<<h;this.words[_]=p|d,d=a>>>26-h}d&&(this.words[_]=d,this.length++)}if(m!==0){for(_=this.length-1;_>=0;_--)this.words[_+m]=this.words[_];for(_=0;_<m;_++)this.words[_]=0;this.length+=m}return this._strip()},i.prototype.ishln=function(f){return n(this.negative===0),this.iushln(f)},i.prototype.iushrn=function(f,h,m){n(typeof f=="number"&&f>=0);var y;h?y=(h-h%26)/26:y=0;var _=f%26,d=Math.min((f-_)/26,this.length),a=67108863^67108863>>>_<<_,p=m;if(y-=d,y=Math.max(0,y),p){for(var S=0;S<d;S++)p.words[S]=this.words[S];p.length=d}if(d!==0)if(this.length>d)for(this.length-=d,S=0;S<this.length;S++)this.words[S]=this.words[S+d];else this.words[0]=0,this.length=1;var B=0;for(S=this.length-1;S>=0&&(B!==0||S>=y);S--){var Z=this.words[S]|0;this.words[S]=B<<26-_|Z>>>_,B=Z&a}return p&&B!==0&&(p.words[p.length++]=B),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(f,h,m){return n(this.negative===0),this.iushrn(f,h,m)},i.prototype.shln=function(f){return this.clone().ishln(f)},i.prototype.ushln=function(f){return this.clone().iushln(f)},i.prototype.shrn=function(f){return this.clone().ishrn(f)},i.prototype.ushrn=function(f){return this.clone().iushrn(f)},i.prototype.testn=function(f){n(typeof f=="number"&&f>=0);var h=f%26,m=(f-h)/26,y=1<<h;if(this.length<=m)return!1;var _=this.words[m];return!!(_&y)},i.prototype.imaskn=function(f){n(typeof f=="number"&&f>=0);var h=f%26,m=(f-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=m)return this;if(h!==0&&m++,this.length=Math.min(m,this.length),h!==0){var y=67108863^67108863>>>h<<h;this.words[this.length-1]&=y}return this._strip()},i.prototype.maskn=function(f){return this.clone().imaskn(f)},i.prototype.iaddn=function(f){return n(typeof f=="number"),n(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<=f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},i.prototype._iaddn=function(f){this.words[0]+=f;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},i.prototype.isubn=function(f){if(n(typeof f=="number"),n(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},i.prototype.addn=function(f){return this.clone().iaddn(f)},i.prototype.subn=function(f){return this.clone().isubn(f)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(f,h,m){var y=f.length+m,_;this._expand(y);var d,a=0;for(_=0;_<f.length;_++){d=(this.words[_+m]|0)+a;var p=(f.words[_]|0)*h;d-=p&67108863,a=(d>>26)-(p/67108864|0),this.words[_+m]=d&67108863}for(;_<this.length-m;_++)d=(this.words[_+m]|0)+a,a=d>>26,this.words[_+m]=d&67108863;if(a===0)return this._strip();for(n(a===-1),a=0,_=0;_<this.length;_++)d=-(this.words[_]|0)+a,a=d>>26,this.words[_]=d&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(f,h){var m=this.length-f.length,y=this.clone(),_=f,d=_.words[_.length-1]|0,a=this._countBits(d);m=26-a,m!==0&&(_=_.ushln(m),y.iushln(m),d=_.words[_.length-1]|0);var p=y.length-_.length,S;if(h!=="mod"){S=new i(null),S.length=p+1,S.words=new Array(S.length);for(var B=0;B<S.length;B++)S.words[B]=0}var Z=y.clone()._ishlnsubmul(_,1,p);Z.negative===0&&(y=Z,S&&(S.words[p]=1));for(var X=p-1;X>=0;X--){var oe=(y.words[_.length+X]|0)*67108864+(y.words[_.length+X-1]|0);for(oe=Math.min(oe/d|0,67108863),y._ishlnsubmul(_,oe,X);y.negative!==0;)oe--,y.negative=0,y._ishlnsubmul(_,1,X),y.isZero()||(y.negative^=1);S&&(S.words[X]=oe)}return S&&S._strip(),y._strip(),h!=="div"&&m!==0&&y.iushrn(m),{div:S||null,mod:y}},i.prototype.divmod=function(f,h,m){if(n(!f.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var y,_,d;return this.negative!==0&&f.negative===0?(d=this.neg().divmod(f,h),h!=="mod"&&(y=d.div.neg()),h!=="div"&&(_=d.mod.neg(),m&&_.negative!==0&&_.iadd(f)),{div:y,mod:_}):this.negative===0&&f.negative!==0?(d=this.divmod(f.neg(),h),h!=="mod"&&(y=d.div.neg()),{div:y,mod:d.mod}):this.negative&f.negative?(d=this.neg().divmod(f.neg(),h),h!=="div"&&(_=d.mod.neg(),m&&_.negative!==0&&_.isub(f)),{div:d.div,mod:_}):f.length>this.length||this.cmp(f)<0?{div:new i(0),mod:this}:f.length===1?h==="div"?{div:this.divn(f.words[0]),mod:null}:h==="mod"?{div:null,mod:new i(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new i(this.modrn(f.words[0]))}:this._wordDiv(f,h)},i.prototype.div=function(f){return this.divmod(f,"div",!1).div},i.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},i.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},i.prototype.divRound=function(f){var h=this.divmod(f);if(h.mod.isZero())return h.div;var m=h.div.negative!==0?h.mod.isub(f):h.mod,y=f.ushrn(1),_=f.andln(1),d=m.cmp(y);return d<0||_===1&&d===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},i.prototype.modrn=function(f){var h=f<0;h&&(f=-f),n(f<=67108863);for(var m=(1<<26)%f,y=0,_=this.length-1;_>=0;_--)y=(m*y+(this.words[_]|0))%f;return h?-y:y},i.prototype.modn=function(f){return this.modrn(f)},i.prototype.idivn=function(f){var h=f<0;h&&(f=-f),n(f<=67108863);for(var m=0,y=this.length-1;y>=0;y--){var _=(this.words[y]|0)+m*67108864;this.words[y]=_/f|0,m=_%f}return this._strip(),h?this.ineg():this},i.prototype.divn=function(f){return this.clone().idivn(f)},i.prototype.egcd=function(f){n(f.negative===0),n(!f.isZero());var h=this,m=f.clone();h.negative!==0?h=h.umod(f):h=h.clone();for(var y=new i(1),_=new i(0),d=new i(0),a=new i(1),p=0;h.isEven()&&m.isEven();)h.iushrn(1),m.iushrn(1),++p;for(var S=m.clone(),B=h.clone();!h.isZero();){for(var Z=0,X=1;!(h.words[0]&X)&&Z<26;++Z,X<<=1);if(Z>0)for(h.iushrn(Z);Z-- >0;)(y.isOdd()||_.isOdd())&&(y.iadd(S),_.isub(B)),y.iushrn(1),_.iushrn(1);for(var oe=0,H=1;!(m.words[0]&H)&&oe<26;++oe,H<<=1);if(oe>0)for(m.iushrn(oe);oe-- >0;)(d.isOdd()||a.isOdd())&&(d.iadd(S),a.isub(B)),d.iushrn(1),a.iushrn(1);h.cmp(m)>=0?(h.isub(m),y.isub(d),_.isub(a)):(m.isub(h),d.isub(y),a.isub(_))}return{a:d,b:a,gcd:m.iushln(p)}},i.prototype._invmp=function(f){n(f.negative===0),n(!f.isZero());var h=this,m=f.clone();h.negative!==0?h=h.umod(f):h=h.clone();for(var y=new i(1),_=new i(0),d=m.clone();h.cmpn(1)>0&&m.cmpn(1)>0;){for(var a=0,p=1;!(h.words[0]&p)&&a<26;++a,p<<=1);if(a>0)for(h.iushrn(a);a-- >0;)y.isOdd()&&y.iadd(d),y.iushrn(1);for(var S=0,B=1;!(m.words[0]&B)&&S<26;++S,B<<=1);if(S>0)for(m.iushrn(S);S-- >0;)_.isOdd()&&_.iadd(d),_.iushrn(1);h.cmp(m)>=0?(h.isub(m),y.isub(_)):(m.isub(h),_.isub(y))}var Z;return h.cmpn(1)===0?Z=y:Z=_,Z.cmpn(0)<0&&Z.iadd(f),Z},i.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var h=this.clone(),m=f.clone();h.negative=0,m.negative=0;for(var y=0;h.isEven()&&m.isEven();y++)h.iushrn(1),m.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;m.isEven();)m.iushrn(1);var _=h.cmp(m);if(_<0){var d=h;h=m,m=d}else if(_===0||m.cmpn(1)===0)break;h.isub(m)}while(!0);return m.iushln(y)},i.prototype.invm=function(f){return this.egcd(f).a.umod(f)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(f){return this.words[0]&f},i.prototype.bincn=function(f){n(typeof f=="number");var h=f%26,m=(f-h)/26,y=1<<h;if(this.length<=m)return this._expand(m+1),this.words[m]|=y,this;for(var _=y,d=m;_!==0&&d<this.length;d++){var a=this.words[d]|0;a+=_,_=a>>>26,a&=67108863,this.words[d]=a}return _!==0&&(this.words[d]=_,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(f){var h=f<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var m;if(this.length>1)m=1;else{h&&(f=-f),n(f<=67108863,"Number is too big");var y=this.words[0]|0;m=y===f?0:y<f?-1:1}return this.negative!==0?-m|0:m},i.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var h=this.ucmp(f);return this.negative!==0?-h|0:h},i.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var h=0,m=this.length-1;m>=0;m--){var y=this.words[m]|0,_=f.words[m]|0;if(y!==_){y<_?h=-1:y>_&&(h=1);break}}return h},i.prototype.gtn=function(f){return this.cmpn(f)===1},i.prototype.gt=function(f){return this.cmp(f)===1},i.prototype.gten=function(f){return this.cmpn(f)>=0},i.prototype.gte=function(f){return this.cmp(f)>=0},i.prototype.ltn=function(f){return this.cmpn(f)===-1},i.prototype.lt=function(f){return this.cmp(f)===-1},i.prototype.lten=function(f){return this.cmpn(f)<=0},i.prototype.lte=function(f){return this.cmp(f)<=0},i.prototype.eqn=function(f){return this.cmpn(f)===0},i.prototype.eq=function(f){return this.cmp(f)===0},i.red=function(f){return new g(f)},i.prototype.toRed=function(f){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(f){return this.red=f,this},i.prototype.forceRed=function(f){return n(!this.red,"Already a number in reduction context"),this._forceRed(f)},i.prototype.redAdd=function(f){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},i.prototype.redIAdd=function(f){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},i.prototype.redSub=function(f){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},i.prototype.redISub=function(f){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},i.prototype.redShl=function(f){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},i.prototype.redMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},i.prototype.redIMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(f){return n(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var ne={k256:null,p224:null,p192:null,p25519:null};function ue(l,f){this.name=l,this.p=new i(f,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}ue.prototype._tmp=function(){var f=new i(null);return f.words=new Array(Math.ceil(this.n/13)),f},ue.prototype.ireduce=function(f){var h=f,m;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),m=h.bitLength();while(m>this.n);var y=m<this.n?-1:h.ucmp(this.p);return y===0?(h.words[0]=0,h.length=1):y>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},ue.prototype.split=function(f,h){f.iushrn(this.n,0,h)},ue.prototype.imulK=function(f){return f.imul(this.k)};function G(){ue.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(G,ue),G.prototype.split=function(f,h){for(var m=4194303,y=Math.min(f.length,9),_=0;_<y;_++)h.words[_]=f.words[_];if(h.length=y,f.length<=9){f.words[0]=0,f.length=1;return}var d=f.words[9];for(h.words[h.length++]=d&m,_=10;_<f.length;_++){var a=f.words[_]|0;f.words[_-10]=(a&m)<<4|d>>>22,d=a}d>>>=22,f.words[_-10]=d,d===0&&f.length>10?f.length-=10:f.length-=9},G.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var h=0,m=0;m<f.length;m++){var y=f.words[m]|0;h+=y*977,f.words[m]=h&67108863,h=y*64+(h/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function q(){ue.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(q,ue);function j(){ue.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(j,ue);function Q(){ue.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(Q,ue),Q.prototype.imulK=function(f){for(var h=0,m=0;m<f.length;m++){var y=(f.words[m]|0)*19+h,_=y&67108863;y>>>=26,f.words[m]=_,h=y}return h!==0&&(f.words[f.length++]=h),f},i._prime=function(f){if(ne[f])return ne[f];var h;if(f==="k256")h=new G;else if(f==="p224")h=new q;else if(f==="p192")h=new j;else if(f==="p25519")h=new Q;else throw new Error("Unknown prime "+f);return ne[f]=h,h};function g(l){if(typeof l=="string"){var f=i._prime(l);this.m=f.p,this.prime=f}else n(l.gtn(1),"modulus must be greater than 1"),this.m=l,this.prime=null}g.prototype._verify1=function(f){n(f.negative===0,"red works only with positives"),n(f.red,"red works only with red numbers")},g.prototype._verify2=function(f,h){n((f.negative|h.negative)===0,"red works only with positives"),n(f.red&&f.red===h.red,"red works only with red numbers")},g.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(w(f,f.umod(this.m)._forceRed(this)),f)},g.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},g.prototype.add=function(f,h){this._verify2(f,h);var m=f.add(h);return m.cmp(this.m)>=0&&m.isub(this.m),m._forceRed(this)},g.prototype.iadd=function(f,h){this._verify2(f,h);var m=f.iadd(h);return m.cmp(this.m)>=0&&m.isub(this.m),m},g.prototype.sub=function(f,h){this._verify2(f,h);var m=f.sub(h);return m.cmpn(0)<0&&m.iadd(this.m),m._forceRed(this)},g.prototype.isub=function(f,h){this._verify2(f,h);var m=f.isub(h);return m.cmpn(0)<0&&m.iadd(this.m),m},g.prototype.shl=function(f,h){return this._verify1(f),this.imod(f.ushln(h))},g.prototype.imul=function(f,h){return this._verify2(f,h),this.imod(f.imul(h))},g.prototype.mul=function(f,h){return this._verify2(f,h),this.imod(f.mul(h))},g.prototype.isqr=function(f){return this.imul(f,f.clone())},g.prototype.sqr=function(f){return this.mul(f,f)},g.prototype.sqrt=function(f){if(f.isZero())return f.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var m=this.m.add(new i(1)).iushrn(2);return this.pow(f,m)}for(var y=this.m.subn(1),_=0;!y.isZero()&&y.andln(1)===0;)_++,y.iushrn(1);n(!y.isZero());var d=new i(1).toRed(this),a=d.redNeg(),p=this.m.subn(1).iushrn(1),S=this.m.bitLength();for(S=new i(2*S*S).toRed(this);this.pow(S,p).cmp(a)!==0;)S.redIAdd(a);for(var B=this.pow(S,y),Z=this.pow(f,y.addn(1).iushrn(1)),X=this.pow(f,y),oe=_;X.cmp(d)!==0;){for(var H=X,ee=0;H.cmp(d)!==0;ee++)H=H.redSqr();n(ee<oe);var se=this.pow(B,new i(1).iushln(oe-ee-1));Z=Z.redMul(se),B=se.redSqr(),X=X.redMul(B),oe=ee}return Z},g.prototype.invm=function(f){var h=f._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},g.prototype.pow=function(f,h){if(h.isZero())return new i(1).toRed(this);if(h.cmpn(1)===0)return f.clone();var m=4,y=new Array(1<<m);y[0]=new i(1).toRed(this),y[1]=f;for(var _=2;_<y.length;_++)y[_]=this.mul(y[_-1],f);var d=y[0],a=0,p=0,S=h.bitLength()%26;for(S===0&&(S=26),_=h.length-1;_>=0;_--){for(var B=h.words[_],Z=S-1;Z>=0;Z--){var X=B>>Z&1;if(d!==y[0]&&(d=this.sqr(d)),X===0&&a===0){p=0;continue}a<<=1,a|=X,p++,!(p!==m&&(_!==0||Z!==0))&&(d=this.mul(d,y[a]),p=0,a=0)}S=26}return d},g.prototype.convertTo=function(f){var h=f.umod(this.m);return h===f?h.clone():h},g.prototype.convertFrom=function(f){var h=f.clone();return h.red=null,h},i.mont=function(f){return new o(f)};function o(l){g.call(this,l),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(o,g),o.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},o.prototype.convertFrom=function(f){var h=this.imod(f.mul(this.rinv));return h.red=null,h},o.prototype.imul=function(f,h){if(f.isZero()||h.isZero())return f.words[0]=0,f.length=1,f;var m=f.imul(h),y=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=m.isub(y).iushrn(this.shift),d=_;return _.cmp(this.m)>=0?d=_.isub(this.m):_.cmpn(0)<0&&(d=_.iadd(this.m)),d._forceRed(this)},o.prototype.mul=function(f,h){if(f.isZero()||h.isZero())return new i(0)._forceRed(this);var m=f.mul(h),y=m.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=m.isub(y).iushrn(this.shift),d=_;return _.cmp(this.m)>=0?d=_.isub(this.m):_.cmpn(0)<0&&(d=_.iadd(this.m)),d._forceRed(this)},o.prototype.invm=function(f){var h=this.imod(f._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(t,Vt)})(G_);var Z_=G_.exports,Ql=Z_,HW=Hu,KW=At.Buffer;function ST(t){var e=t.modulus.byteLength(),r;do r=new Ql(HW(e));while(r.cmp(t.modulus)>=0||!r.umod(t.prime1)||!r.umod(t.prime2));return r}function WW(t){var e=ST(t),r=e.toRed(Ql.mont(t.modulus)).redPow(new Ql(t.publicExponent)).fromRed();return{blinder:r,unblinder:e.invm(t.modulus)}}function IT(t,e){var r=WW(e),n=e.modulus.byteLength(),s=new Ql(t).mul(r.blinder).umod(e.modulus),i=s.toRed(Ql.mont(e.prime1)),u=s.toRed(Ql.mont(e.prime2)),c=e.coefficient,v=e.prime1,b=e.prime2,w=i.redPow(e.exponent1).fromRed(),x=u.redPow(e.exponent2).fromRed(),E=w.isub(x).imul(c).umod(v).imul(b);return x.iadd(E).imul(r.unblinder).umod(e.modulus).toArrayLike(KW,"be",n)}IT.getr=ST;var Q_=IT,Fg={};const GW="6.6.1",ZW={version:GW};var Zn={},Y_={exports:{}};Y_.exports;(function(t){(function(e,r){function n(g,o){if(!g)throw new Error(o||"Assertion failed")}function s(g,o){g.super_=o;var l=function(){};l.prototype=o.prototype,g.prototype=new l,g.prototype.constructor=g}function i(g,o,l){if(i.isBN(g))return g;this.negative=0,this.words=null,this.length=0,this.red=null,g!==null&&((o==="le"||o==="be")&&(l=o,o=10),this._init(g||0,o||10,l||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=ui.Buffer}catch{}i.isBN=function(o){return o instanceof i?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===i.wordSize&&Array.isArray(o.words)},i.max=function(o,l){return o.cmp(l)>0?o:l},i.min=function(o,l){return o.cmp(l)<0?o:l},i.prototype._init=function(o,l,f){if(typeof o=="number")return this._initNumber(o,l,f);if(typeof o=="object")return this._initArray(o,l,f);l==="hex"&&(l=16),n(l===(l|0)&&l>=2&&l<=36),o=o.toString().replace(/\s+/g,"");var h=0;o[0]==="-"&&(h++,this.negative=1),h<o.length&&(l===16?this._parseHex(o,h,f):(this._parseBase(o,l,h),f==="le"&&this._initArray(this.toArray(),l,f)))},i.prototype._initNumber=function(o,l,f){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(n(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),l,f)},i.prototype._initArray=function(o,l,f){if(n(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var m,y,_=0;if(f==="be")for(h=o.length-1,m=0;h>=0;h-=3)y=o[h]|o[h-1]<<8|o[h-2]<<16,this.words[m]|=y<<_&67108863,this.words[m+1]=y>>>26-_&67108863,_+=24,_>=26&&(_-=26,m++);else if(f==="le")for(h=0,m=0;h<o.length;h+=3)y=o[h]|o[h+1]<<8|o[h+2]<<16,this.words[m]|=y<<_&67108863,this.words[m+1]=y>>>26-_&67108863,_+=24,_>=26&&(_-=26,m++);return this.strip()};function c(g,o){var l=g.charCodeAt(o);return l>=65&&l<=70?l-55:l>=97&&l<=102?l-87:l-48&15}function v(g,o,l){var f=c(g,l);return l-1>=o&&(f|=c(g,l-1)<<4),f}i.prototype._parseHex=function(o,l,f){this.length=Math.ceil((o.length-l)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var m=0,y=0,_;if(f==="be")for(h=o.length-1;h>=l;h-=2)_=v(o,l,h)<<m,this.words[y]|=_&67108863,m>=18?(m-=18,y+=1,this.words[y]|=_>>>26):m+=8;else{var d=o.length-l;for(h=d%2===0?l+1:l;h<o.length;h+=2)_=v(o,l,h)<<m,this.words[y]|=_&67108863,m>=18?(m-=18,y+=1,this.words[y]|=_>>>26):m+=8}this.strip()};function b(g,o,l,f){for(var h=0,m=Math.min(g.length,l),y=o;y<m;y++){var _=g.charCodeAt(y)-48;h*=f,_>=49?h+=_-49+10:_>=17?h+=_-17+10:h+=_}return h}i.prototype._parseBase=function(o,l,f){this.words=[0],this.length=1;for(var h=0,m=1;m<=67108863;m*=l)h++;h--,m=m/l|0;for(var y=o.length-f,_=y%h,d=Math.min(y,y-_)+f,a=0,p=f;p<d;p+=h)a=b(o,p,p+h,l),this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(_!==0){var S=1;for(a=b(o,p,o.length,l),p=0;p<_;p++)S*=l;this.imuln(S),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},i.prototype.copy=function(o){o.words=new Array(this.length);for(var l=0;l<this.length;l++)o.words[l]=this.words[l];o.length=this.length,o.negative=this.negative,o.red=this.red},i.prototype.clone=function(){var o=new i(null);return this.copy(o),o},i.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(o,l){o=o||10,l=l|0||1;var f;if(o===16||o==="hex"){f="";for(var h=0,m=0,y=0;y<this.length;y++){var _=this.words[y],d=((_<<h|m)&16777215).toString(16);m=_>>>24-h&16777215,h+=2,h>=26&&(h-=26,y--),m!==0||y!==this.length-1?f=w[6-d.length]+d+f:f=d+f}for(m!==0&&(f=m.toString(16)+f);f.length%l!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(o===(o|0)&&o>=2&&o<=36){var a=x[o],p=E[o];f="";var S=this.clone();for(S.negative=0;!S.isZero();){var B=S.modn(p).toString(o);S=S.idivn(p),S.isZero()?f=B+f:f=w[a-B.length]+B+f}for(this.isZero()&&(f="0"+f);f.length%l!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(o,l){return n(typeof u<"u"),this.toArrayLike(u,o,l)},i.prototype.toArray=function(o,l){return this.toArrayLike(Array,o,l)},i.prototype.toArrayLike=function(o,l,f){var h=this.byteLength(),m=f||Math.max(1,h);n(h<=m,"byte array longer than desired length"),n(m>0,"Requested array length <= 0"),this.strip();var y=l==="le",_=new o(m),d,a,p=this.clone();if(y){for(a=0;!p.isZero();a++)d=p.andln(255),p.iushrn(8),_[a]=d;for(;a<m;a++)_[a]=0}else{for(a=0;a<m-h;a++)_[a]=0;for(a=0;!p.isZero();a++)d=p.andln(255),p.iushrn(8),_[m-a-1]=d}return _},Math.clz32?i.prototype._countBits=function(o){return 32-Math.clz32(o)}:i.prototype._countBits=function(o){var l=o,f=0;return l>=4096&&(f+=13,l>>>=13),l>=64&&(f+=7,l>>>=7),l>=8&&(f+=4,l>>>=4),l>=2&&(f+=2,l>>>=2),f+l},i.prototype._zeroBits=function(o){if(o===0)return 26;var l=o,f=0;return l&8191||(f+=13,l>>>=13),l&127||(f+=7,l>>>=7),l&15||(f+=4,l>>>=4),l&3||(f+=2,l>>>=2),l&1||f++,f},i.prototype.bitLength=function(){var o=this.words[this.length-1],l=this._countBits(o);return(this.length-1)*26+l};function A(g){for(var o=new Array(g.bitLength()),l=0;l<o.length;l++){var f=l/26|0,h=l%26;o[l]=(g.words[f]&1<<h)>>>h}return o}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,l=0;l<this.length;l++){var f=this._zeroBits(this.words[l]);if(o+=f,f!==26)break}return o},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},i.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var l=0;l<o.length;l++)this.words[l]=this.words[l]|o.words[l];return this.strip()},i.prototype.ior=function(o){return n((this.negative|o.negative)===0),this.iuor(o)},i.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},i.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},i.prototype.iuand=function(o){var l;this.length>o.length?l=o:l=this;for(var f=0;f<l.length;f++)this.words[f]=this.words[f]&o.words[f];return this.length=l.length,this.strip()},i.prototype.iand=function(o){return n((this.negative|o.negative)===0),this.iuand(o)},i.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},i.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},i.prototype.iuxor=function(o){var l,f;this.length>o.length?(l=this,f=o):(l=o,f=this);for(var h=0;h<f.length;h++)this.words[h]=l.words[h]^f.words[h];if(this!==l)for(;h<l.length;h++)this.words[h]=l.words[h];return this.length=l.length,this.strip()},i.prototype.ixor=function(o){return n((this.negative|o.negative)===0),this.iuxor(o)},i.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},i.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},i.prototype.inotn=function(o){n(typeof o=="number"&&o>=0);var l=Math.ceil(o/26)|0,f=o%26;this._expand(l),f>0&&l--;for(var h=0;h<l;h++)this.words[h]=~this.words[h]&67108863;return f>0&&(this.words[h]=~this.words[h]&67108863>>26-f),this.strip()},i.prototype.notn=function(o){return this.clone().inotn(o)},i.prototype.setn=function(o,l){n(typeof o=="number"&&o>=0);var f=o/26|0,h=o%26;return this._expand(f+1),l?this.words[f]=this.words[f]|1<<h:this.words[f]=this.words[f]&~(1<<h),this.strip()},i.prototype.iadd=function(o){var l;if(this.negative!==0&&o.negative===0)return this.negative=0,l=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,l=this.isub(o),o.negative=1,l._normSign();var f,h;this.length>o.length?(f=this,h=o):(f=o,h=this);for(var m=0,y=0;y<h.length;y++)l=(f.words[y]|0)+(h.words[y]|0)+m,this.words[y]=l&67108863,m=l>>>26;for(;m!==0&&y<f.length;y++)l=(f.words[y]|0)+m,this.words[y]=l&67108863,m=l>>>26;if(this.length=f.length,m!==0)this.words[this.length]=m,this.length++;else if(f!==this)for(;y<f.length;y++)this.words[y]=f.words[y];return this},i.prototype.add=function(o){var l;return o.negative!==0&&this.negative===0?(o.negative=0,l=this.sub(o),o.negative^=1,l):o.negative===0&&this.negative!==0?(this.negative=0,l=o.sub(this),this.negative=1,l):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},i.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var l=this.iadd(o);return o.negative=1,l._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var f=this.cmp(o);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,m;f>0?(h=this,m=o):(h=o,m=this);for(var y=0,_=0;_<m.length;_++)l=(h.words[_]|0)-(m.words[_]|0)+y,y=l>>26,this.words[_]=l&67108863;for(;y!==0&&_<h.length;_++)l=(h.words[_]|0)+y,y=l>>26,this.words[_]=l&67108863;if(y===0&&_<h.length&&h!==this)for(;_<h.length;_++)this.words[_]=h.words[_];return this.length=Math.max(this.length,_),h!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(o){return this.clone().isub(o)};function N(g,o,l){l.negative=o.negative^g.negative;var f=g.length+o.length|0;l.length=f,f=f-1|0;var h=g.words[0]|0,m=o.words[0]|0,y=h*m,_=y&67108863,d=y/67108864|0;l.words[0]=_;for(var a=1;a<f;a++){for(var p=d>>>26,S=d&67108863,B=Math.min(a,o.length-1),Z=Math.max(0,a-g.length+1);Z<=B;Z++){var X=a-Z|0;h=g.words[X]|0,m=o.words[Z]|0,y=h*m+S,p+=y/67108864|0,S=y&67108863}l.words[a]=S|0,d=p|0}return d!==0?l.words[a]=d|0:l.length--,l.strip()}var D=function(o,l,f){var h=o.words,m=l.words,y=f.words,_=0,d,a,p,S=h[0]|0,B=S&8191,Z=S>>>13,X=h[1]|0,oe=X&8191,H=X>>>13,ee=h[2]|0,se=ee&8191,le=ee>>>13,Ge=h[3]|0,he=Ge&8191,de=Ge>>>13,Ye=h[4]|0,xe=Ye&8191,Se=Ye>>>13,st=h[5]|0,Te=st&8191,ke=st>>>13,it=h[6]|0,Ie=it&8191,Be=it>>>13,ft=h[7]|0,Ee=ft&8191,Me=ft>>>13,rt=h[8]|0,V=rt&8191,R=rt>>>13,L=h[9]|0,T=L&8191,I=L>>>13,k=m[0]|0,F=k&8191,Y=k>>>13,pe=m[1]|0,ie=pe&8191,ge=pe>>>13,qe=m[2]|0,be=qe&8191,Ce=qe>>>13,et=m[3]|0,Ne=et&8191,Fe=et>>>13,gt=m[4]|0,De=gt&8191,Oe=gt>>>13,_t=m[5]|0,Pe=_t&8191,Ve=_t>>>13,dt=m[6]|0,J=dt&8191,re=dt>>>13,_e=m[7]|0,ae=_e&8191,me=_e>>>13,$e=m[8]|0,ve=$e&8191,ye=$e>>>13,ze=m[9]|0,ce=ze&8191,we=ze>>>13;f.negative=o.negative^l.negative,f.length=19,d=Math.imul(B,F),a=Math.imul(B,Y),a=a+Math.imul(Z,F)|0,p=Math.imul(Z,Y);var We=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(We>>>26)|0,We&=67108863,d=Math.imul(oe,F),a=Math.imul(oe,Y),a=a+Math.imul(H,F)|0,p=Math.imul(H,Y),d=d+Math.imul(B,ie)|0,a=a+Math.imul(B,ge)|0,a=a+Math.imul(Z,ie)|0,p=p+Math.imul(Z,ge)|0;var Ze=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,d=Math.imul(se,F),a=Math.imul(se,Y),a=a+Math.imul(le,F)|0,p=Math.imul(le,Y),d=d+Math.imul(oe,ie)|0,a=a+Math.imul(oe,ge)|0,a=a+Math.imul(H,ie)|0,p=p+Math.imul(H,ge)|0,d=d+Math.imul(B,be)|0,a=a+Math.imul(B,Ce)|0,a=a+Math.imul(Z,be)|0,p=p+Math.imul(Z,Ce)|0;var yt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(yt>>>26)|0,yt&=67108863,d=Math.imul(he,F),a=Math.imul(he,Y),a=a+Math.imul(de,F)|0,p=Math.imul(de,Y),d=d+Math.imul(se,ie)|0,a=a+Math.imul(se,ge)|0,a=a+Math.imul(le,ie)|0,p=p+Math.imul(le,ge)|0,d=d+Math.imul(oe,be)|0,a=a+Math.imul(oe,Ce)|0,a=a+Math.imul(H,be)|0,p=p+Math.imul(H,Ce)|0,d=d+Math.imul(B,Ne)|0,a=a+Math.imul(B,Fe)|0,a=a+Math.imul(Z,Ne)|0,p=p+Math.imul(Z,Fe)|0;var ct=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(ct>>>26)|0,ct&=67108863,d=Math.imul(xe,F),a=Math.imul(xe,Y),a=a+Math.imul(Se,F)|0,p=Math.imul(Se,Y),d=d+Math.imul(he,ie)|0,a=a+Math.imul(he,ge)|0,a=a+Math.imul(de,ie)|0,p=p+Math.imul(de,ge)|0,d=d+Math.imul(se,be)|0,a=a+Math.imul(se,Ce)|0,a=a+Math.imul(le,be)|0,p=p+Math.imul(le,Ce)|0,d=d+Math.imul(oe,Ne)|0,a=a+Math.imul(oe,Fe)|0,a=a+Math.imul(H,Ne)|0,p=p+Math.imul(H,Fe)|0,d=d+Math.imul(B,De)|0,a=a+Math.imul(B,Oe)|0,a=a+Math.imul(Z,De)|0,p=p+Math.imul(Z,Oe)|0;var at=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(at>>>26)|0,at&=67108863,d=Math.imul(Te,F),a=Math.imul(Te,Y),a=a+Math.imul(ke,F)|0,p=Math.imul(ke,Y),d=d+Math.imul(xe,ie)|0,a=a+Math.imul(xe,ge)|0,a=a+Math.imul(Se,ie)|0,p=p+Math.imul(Se,ge)|0,d=d+Math.imul(he,be)|0,a=a+Math.imul(he,Ce)|0,a=a+Math.imul(de,be)|0,p=p+Math.imul(de,Ce)|0,d=d+Math.imul(se,Ne)|0,a=a+Math.imul(se,Fe)|0,a=a+Math.imul(le,Ne)|0,p=p+Math.imul(le,Fe)|0,d=d+Math.imul(oe,De)|0,a=a+Math.imul(oe,Oe)|0,a=a+Math.imul(H,De)|0,p=p+Math.imul(H,Oe)|0,d=d+Math.imul(B,Pe)|0,a=a+Math.imul(B,Ve)|0,a=a+Math.imul(Z,Pe)|0,p=p+Math.imul(Z,Ve)|0;var pt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(pt>>>26)|0,pt&=67108863,d=Math.imul(Ie,F),a=Math.imul(Ie,Y),a=a+Math.imul(Be,F)|0,p=Math.imul(Be,Y),d=d+Math.imul(Te,ie)|0,a=a+Math.imul(Te,ge)|0,a=a+Math.imul(ke,ie)|0,p=p+Math.imul(ke,ge)|0,d=d+Math.imul(xe,be)|0,a=a+Math.imul(xe,Ce)|0,a=a+Math.imul(Se,be)|0,p=p+Math.imul(Se,Ce)|0,d=d+Math.imul(he,Ne)|0,a=a+Math.imul(he,Fe)|0,a=a+Math.imul(de,Ne)|0,p=p+Math.imul(de,Fe)|0,d=d+Math.imul(se,De)|0,a=a+Math.imul(se,Oe)|0,a=a+Math.imul(le,De)|0,p=p+Math.imul(le,Oe)|0,d=d+Math.imul(oe,Pe)|0,a=a+Math.imul(oe,Ve)|0,a=a+Math.imul(H,Pe)|0,p=p+Math.imul(H,Ve)|0,d=d+Math.imul(B,J)|0,a=a+Math.imul(B,re)|0,a=a+Math.imul(Z,J)|0,p=p+Math.imul(Z,re)|0;var Ct=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,d=Math.imul(Ee,F),a=Math.imul(Ee,Y),a=a+Math.imul(Me,F)|0,p=Math.imul(Me,Y),d=d+Math.imul(Ie,ie)|0,a=a+Math.imul(Ie,ge)|0,a=a+Math.imul(Be,ie)|0,p=p+Math.imul(Be,ge)|0,d=d+Math.imul(Te,be)|0,a=a+Math.imul(Te,Ce)|0,a=a+Math.imul(ke,be)|0,p=p+Math.imul(ke,Ce)|0,d=d+Math.imul(xe,Ne)|0,a=a+Math.imul(xe,Fe)|0,a=a+Math.imul(Se,Ne)|0,p=p+Math.imul(Se,Fe)|0,d=d+Math.imul(he,De)|0,a=a+Math.imul(he,Oe)|0,a=a+Math.imul(de,De)|0,p=p+Math.imul(de,Oe)|0,d=d+Math.imul(se,Pe)|0,a=a+Math.imul(se,Ve)|0,a=a+Math.imul(le,Pe)|0,p=p+Math.imul(le,Ve)|0,d=d+Math.imul(oe,J)|0,a=a+Math.imul(oe,re)|0,a=a+Math.imul(H,J)|0,p=p+Math.imul(H,re)|0,d=d+Math.imul(B,ae)|0,a=a+Math.imul(B,me)|0,a=a+Math.imul(Z,ae)|0,p=p+Math.imul(Z,me)|0;var Ot=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,d=Math.imul(V,F),a=Math.imul(V,Y),a=a+Math.imul(R,F)|0,p=Math.imul(R,Y),d=d+Math.imul(Ee,ie)|0,a=a+Math.imul(Ee,ge)|0,a=a+Math.imul(Me,ie)|0,p=p+Math.imul(Me,ge)|0,d=d+Math.imul(Ie,be)|0,a=a+Math.imul(Ie,Ce)|0,a=a+Math.imul(Be,be)|0,p=p+Math.imul(Be,Ce)|0,d=d+Math.imul(Te,Ne)|0,a=a+Math.imul(Te,Fe)|0,a=a+Math.imul(ke,Ne)|0,p=p+Math.imul(ke,Fe)|0,d=d+Math.imul(xe,De)|0,a=a+Math.imul(xe,Oe)|0,a=a+Math.imul(Se,De)|0,p=p+Math.imul(Se,Oe)|0,d=d+Math.imul(he,Pe)|0,a=a+Math.imul(he,Ve)|0,a=a+Math.imul(de,Pe)|0,p=p+Math.imul(de,Ve)|0,d=d+Math.imul(se,J)|0,a=a+Math.imul(se,re)|0,a=a+Math.imul(le,J)|0,p=p+Math.imul(le,re)|0,d=d+Math.imul(oe,ae)|0,a=a+Math.imul(oe,me)|0,a=a+Math.imul(H,ae)|0,p=p+Math.imul(H,me)|0,d=d+Math.imul(B,ve)|0,a=a+Math.imul(B,ye)|0,a=a+Math.imul(Z,ve)|0,p=p+Math.imul(Z,ye)|0;var Tt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,d=Math.imul(T,F),a=Math.imul(T,Y),a=a+Math.imul(I,F)|0,p=Math.imul(I,Y),d=d+Math.imul(V,ie)|0,a=a+Math.imul(V,ge)|0,a=a+Math.imul(R,ie)|0,p=p+Math.imul(R,ge)|0,d=d+Math.imul(Ee,be)|0,a=a+Math.imul(Ee,Ce)|0,a=a+Math.imul(Me,be)|0,p=p+Math.imul(Me,Ce)|0,d=d+Math.imul(Ie,Ne)|0,a=a+Math.imul(Ie,Fe)|0,a=a+Math.imul(Be,Ne)|0,p=p+Math.imul(Be,Fe)|0,d=d+Math.imul(Te,De)|0,a=a+Math.imul(Te,Oe)|0,a=a+Math.imul(ke,De)|0,p=p+Math.imul(ke,Oe)|0,d=d+Math.imul(xe,Pe)|0,a=a+Math.imul(xe,Ve)|0,a=a+Math.imul(Se,Pe)|0,p=p+Math.imul(Se,Ve)|0,d=d+Math.imul(he,J)|0,a=a+Math.imul(he,re)|0,a=a+Math.imul(de,J)|0,p=p+Math.imul(de,re)|0,d=d+Math.imul(se,ae)|0,a=a+Math.imul(se,me)|0,a=a+Math.imul(le,ae)|0,p=p+Math.imul(le,me)|0,d=d+Math.imul(oe,ve)|0,a=a+Math.imul(oe,ye)|0,a=a+Math.imul(H,ve)|0,p=p+Math.imul(H,ye)|0,d=d+Math.imul(B,ce)|0,a=a+Math.imul(B,we)|0,a=a+Math.imul(Z,ce)|0,p=p+Math.imul(Z,we)|0;var xt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(xt>>>26)|0,xt&=67108863,d=Math.imul(T,ie),a=Math.imul(T,ge),a=a+Math.imul(I,ie)|0,p=Math.imul(I,ge),d=d+Math.imul(V,be)|0,a=a+Math.imul(V,Ce)|0,a=a+Math.imul(R,be)|0,p=p+Math.imul(R,Ce)|0,d=d+Math.imul(Ee,Ne)|0,a=a+Math.imul(Ee,Fe)|0,a=a+Math.imul(Me,Ne)|0,p=p+Math.imul(Me,Fe)|0,d=d+Math.imul(Ie,De)|0,a=a+Math.imul(Ie,Oe)|0,a=a+Math.imul(Be,De)|0,p=p+Math.imul(Be,Oe)|0,d=d+Math.imul(Te,Pe)|0,a=a+Math.imul(Te,Ve)|0,a=a+Math.imul(ke,Pe)|0,p=p+Math.imul(ke,Ve)|0,d=d+Math.imul(xe,J)|0,a=a+Math.imul(xe,re)|0,a=a+Math.imul(Se,J)|0,p=p+Math.imul(Se,re)|0,d=d+Math.imul(he,ae)|0,a=a+Math.imul(he,me)|0,a=a+Math.imul(de,ae)|0,p=p+Math.imul(de,me)|0,d=d+Math.imul(se,ve)|0,a=a+Math.imul(se,ye)|0,a=a+Math.imul(le,ve)|0,p=p+Math.imul(le,ye)|0,d=d+Math.imul(oe,ce)|0,a=a+Math.imul(oe,we)|0,a=a+Math.imul(H,ce)|0,p=p+Math.imul(H,we)|0;var zt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(zt>>>26)|0,zt&=67108863,d=Math.imul(T,be),a=Math.imul(T,Ce),a=a+Math.imul(I,be)|0,p=Math.imul(I,Ce),d=d+Math.imul(V,Ne)|0,a=a+Math.imul(V,Fe)|0,a=a+Math.imul(R,Ne)|0,p=p+Math.imul(R,Fe)|0,d=d+Math.imul(Ee,De)|0,a=a+Math.imul(Ee,Oe)|0,a=a+Math.imul(Me,De)|0,p=p+Math.imul(Me,Oe)|0,d=d+Math.imul(Ie,Pe)|0,a=a+Math.imul(Ie,Ve)|0,a=a+Math.imul(Be,Pe)|0,p=p+Math.imul(Be,Ve)|0,d=d+Math.imul(Te,J)|0,a=a+Math.imul(Te,re)|0,a=a+Math.imul(ke,J)|0,p=p+Math.imul(ke,re)|0,d=d+Math.imul(xe,ae)|0,a=a+Math.imul(xe,me)|0,a=a+Math.imul(Se,ae)|0,p=p+Math.imul(Se,me)|0,d=d+Math.imul(he,ve)|0,a=a+Math.imul(he,ye)|0,a=a+Math.imul(de,ve)|0,p=p+Math.imul(de,ye)|0,d=d+Math.imul(se,ce)|0,a=a+Math.imul(se,we)|0,a=a+Math.imul(le,ce)|0,p=p+Math.imul(le,we)|0;var Pt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,d=Math.imul(T,Ne),a=Math.imul(T,Fe),a=a+Math.imul(I,Ne)|0,p=Math.imul(I,Fe),d=d+Math.imul(V,De)|0,a=a+Math.imul(V,Oe)|0,a=a+Math.imul(R,De)|0,p=p+Math.imul(R,Oe)|0,d=d+Math.imul(Ee,Pe)|0,a=a+Math.imul(Ee,Ve)|0,a=a+Math.imul(Me,Pe)|0,p=p+Math.imul(Me,Ve)|0,d=d+Math.imul(Ie,J)|0,a=a+Math.imul(Ie,re)|0,a=a+Math.imul(Be,J)|0,p=p+Math.imul(Be,re)|0,d=d+Math.imul(Te,ae)|0,a=a+Math.imul(Te,me)|0,a=a+Math.imul(ke,ae)|0,p=p+Math.imul(ke,me)|0,d=d+Math.imul(xe,ve)|0,a=a+Math.imul(xe,ye)|0,a=a+Math.imul(Se,ve)|0,p=p+Math.imul(Se,ye)|0,d=d+Math.imul(he,ce)|0,a=a+Math.imul(he,we)|0,a=a+Math.imul(de,ce)|0,p=p+Math.imul(de,we)|0;var Mt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,d=Math.imul(T,De),a=Math.imul(T,Oe),a=a+Math.imul(I,De)|0,p=Math.imul(I,Oe),d=d+Math.imul(V,Pe)|0,a=a+Math.imul(V,Ve)|0,a=a+Math.imul(R,Pe)|0,p=p+Math.imul(R,Ve)|0,d=d+Math.imul(Ee,J)|0,a=a+Math.imul(Ee,re)|0,a=a+Math.imul(Me,J)|0,p=p+Math.imul(Me,re)|0,d=d+Math.imul(Ie,ae)|0,a=a+Math.imul(Ie,me)|0,a=a+Math.imul(Be,ae)|0,p=p+Math.imul(Be,me)|0,d=d+Math.imul(Te,ve)|0,a=a+Math.imul(Te,ye)|0,a=a+Math.imul(ke,ve)|0,p=p+Math.imul(ke,ye)|0,d=d+Math.imul(xe,ce)|0,a=a+Math.imul(xe,we)|0,a=a+Math.imul(Se,ce)|0,p=p+Math.imul(Se,we)|0;var St=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(St>>>26)|0,St&=67108863,d=Math.imul(T,Pe),a=Math.imul(T,Ve),a=a+Math.imul(I,Pe)|0,p=Math.imul(I,Ve),d=d+Math.imul(V,J)|0,a=a+Math.imul(V,re)|0,a=a+Math.imul(R,J)|0,p=p+Math.imul(R,re)|0,d=d+Math.imul(Ee,ae)|0,a=a+Math.imul(Ee,me)|0,a=a+Math.imul(Me,ae)|0,p=p+Math.imul(Me,me)|0,d=d+Math.imul(Ie,ve)|0,a=a+Math.imul(Ie,ye)|0,a=a+Math.imul(Be,ve)|0,p=p+Math.imul(Be,ye)|0,d=d+Math.imul(Te,ce)|0,a=a+Math.imul(Te,we)|0,a=a+Math.imul(ke,ce)|0,p=p+Math.imul(ke,we)|0;var Lt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,d=Math.imul(T,J),a=Math.imul(T,re),a=a+Math.imul(I,J)|0,p=Math.imul(I,re),d=d+Math.imul(V,ae)|0,a=a+Math.imul(V,me)|0,a=a+Math.imul(R,ae)|0,p=p+Math.imul(R,me)|0,d=d+Math.imul(Ee,ve)|0,a=a+Math.imul(Ee,ye)|0,a=a+Math.imul(Me,ve)|0,p=p+Math.imul(Me,ye)|0,d=d+Math.imul(Ie,ce)|0,a=a+Math.imul(Ie,we)|0,a=a+Math.imul(Be,ce)|0,p=p+Math.imul(Be,we)|0;var ut=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(ut>>>26)|0,ut&=67108863,d=Math.imul(T,ae),a=Math.imul(T,me),a=a+Math.imul(I,ae)|0,p=Math.imul(I,me),d=d+Math.imul(V,ve)|0,a=a+Math.imul(V,ye)|0,a=a+Math.imul(R,ve)|0,p=p+Math.imul(R,ye)|0,d=d+Math.imul(Ee,ce)|0,a=a+Math.imul(Ee,we)|0,a=a+Math.imul(Me,ce)|0,p=p+Math.imul(Me,we)|0;var vt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(vt>>>26)|0,vt&=67108863,d=Math.imul(T,ve),a=Math.imul(T,ye),a=a+Math.imul(I,ve)|0,p=Math.imul(I,ye),d=d+Math.imul(V,ce)|0,a=a+Math.imul(V,we)|0,a=a+Math.imul(R,ce)|0,p=p+Math.imul(R,we)|0;var Nt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,d=Math.imul(T,ce),a=Math.imul(T,we),a=a+Math.imul(I,ce)|0,p=Math.imul(I,we);var Ft=(_+d|0)+((a&8191)<<13)|0;return _=(p+(a>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,y[0]=We,y[1]=Ze,y[2]=yt,y[3]=ct,y[4]=at,y[5]=pt,y[6]=Ct,y[7]=Ot,y[8]=Tt,y[9]=xt,y[10]=zt,y[11]=Pt,y[12]=Mt,y[13]=St,y[14]=Lt,y[15]=ut,y[16]=vt,y[17]=Nt,y[18]=Ft,_!==0&&(y[19]=_,f.length++),f};Math.imul||(D=N);function W(g,o,l){l.negative=o.negative^g.negative,l.length=g.length+o.length;for(var f=0,h=0,m=0;m<l.length-1;m++){var y=h;h=0;for(var _=f&67108863,d=Math.min(m,o.length-1),a=Math.max(0,m-g.length+1);a<=d;a++){var p=m-a,S=g.words[p]|0,B=o.words[a]|0,Z=S*B,X=Z&67108863;y=y+(Z/67108864|0)|0,X=X+_|0,_=X&67108863,y=y+(X>>>26)|0,h+=y>>>26,y&=67108863}l.words[m]=_,f=y,y=h}return f!==0?l.words[m]=f:l.length--,l.strip()}function P(g,o,l){var f=new C;return f.mulp(g,o,l)}i.prototype.mulTo=function(o,l){var f,h=this.length+o.length;return this.length===10&&o.length===10?f=D(this,o,l):h<63?f=N(this,o,l):h<1024?f=W(this,o,l):f=P(this,o,l),f};function C(g,o){this.x=g,this.y=o}C.prototype.makeRBT=function(o){for(var l=new Array(o),f=i.prototype._countBits(o)-1,h=0;h<o;h++)l[h]=this.revBin(h,f,o);return l},C.prototype.revBin=function(o,l,f){if(o===0||o===f-1)return o;for(var h=0,m=0;m<l;m++)h|=(o&1)<<l-m-1,o>>=1;return h},C.prototype.permute=function(o,l,f,h,m,y){for(var _=0;_<y;_++)h[_]=l[o[_]],m[_]=f[o[_]]},C.prototype.transform=function(o,l,f,h,m,y){this.permute(y,o,l,f,h,m);for(var _=1;_<m;_<<=1)for(var d=_<<1,a=Math.cos(2*Math.PI/d),p=Math.sin(2*Math.PI/d),S=0;S<m;S+=d)for(var B=a,Z=p,X=0;X<_;X++){var oe=f[S+X],H=h[S+X],ee=f[S+X+_],se=h[S+X+_],le=B*ee-Z*se;se=B*se+Z*ee,ee=le,f[S+X]=oe+ee,h[S+X]=H+se,f[S+X+_]=oe-ee,h[S+X+_]=H-se,X!==d&&(le=a*B-p*Z,Z=a*Z+p*B,B=le)}},C.prototype.guessLen13b=function(o,l){var f=Math.max(l,o)|1,h=f&1,m=0;for(f=f/2|0;f;f=f>>>1)m++;return 1<<m+1+h},C.prototype.conjugate=function(o,l,f){if(!(f<=1))for(var h=0;h<f/2;h++){var m=o[h];o[h]=o[f-h-1],o[f-h-1]=m,m=l[h],l[h]=-l[f-h-1],l[f-h-1]=-m}},C.prototype.normalize13b=function(o,l){for(var f=0,h=0;h<l/2;h++){var m=Math.round(o[2*h+1]/l)*8192+Math.round(o[2*h]/l)+f;o[h]=m&67108863,m<67108864?f=0:f=m/67108864|0}return o},C.prototype.convert13b=function(o,l,f,h){for(var m=0,y=0;y<l;y++)m=m+(o[y]|0),f[2*y]=m&8191,m=m>>>13,f[2*y+1]=m&8191,m=m>>>13;for(y=2*l;y<h;++y)f[y]=0;n(m===0),n((m&-8192)===0)},C.prototype.stub=function(o){for(var l=new Array(o),f=0;f<o;f++)l[f]=0;return l},C.prototype.mulp=function(o,l,f){var h=2*this.guessLen13b(o.length,l.length),m=this.makeRBT(h),y=this.stub(h),_=new Array(h),d=new Array(h),a=new Array(h),p=new Array(h),S=new Array(h),B=new Array(h),Z=f.words;Z.length=h,this.convert13b(o.words,o.length,_,h),this.convert13b(l.words,l.length,p,h),this.transform(_,y,d,a,h,m),this.transform(p,y,S,B,h,m);for(var X=0;X<h;X++){var oe=d[X]*S[X]-a[X]*B[X];a[X]=d[X]*B[X]+a[X]*S[X],d[X]=oe}return this.conjugate(d,a,h),this.transform(d,a,Z,y,h,m),this.conjugate(Z,y,h),this.normalize13b(Z,h),f.negative=o.negative^l.negative,f.length=o.length+l.length,f.strip()},i.prototype.mul=function(o){var l=new i(null);return l.words=new Array(this.length+o.length),this.mulTo(o,l)},i.prototype.mulf=function(o){var l=new i(null);return l.words=new Array(this.length+o.length),P(this,o,l)},i.prototype.imul=function(o){return this.clone().mulTo(o,this)},i.prototype.imuln=function(o){n(typeof o=="number"),n(o<67108864);for(var l=0,f=0;f<this.length;f++){var h=(this.words[f]|0)*o,m=(h&67108863)+(l&67108863);l>>=26,l+=h/67108864|0,l+=m>>>26,this.words[f]=m&67108863}return l!==0&&(this.words[f]=l,this.length++),this},i.prototype.muln=function(o){return this.clone().imuln(o)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(o){var l=A(o);if(l.length===0)return new i(1);for(var f=this,h=0;h<l.length&&l[h]===0;h++,f=f.sqr());if(++h<l.length)for(var m=f.sqr();h<l.length;h++,m=m.sqr())l[h]!==0&&(f=f.mul(m));return f},i.prototype.iushln=function(o){n(typeof o=="number"&&o>=0);var l=o%26,f=(o-l)/26,h=67108863>>>26-l<<26-l,m;if(l!==0){var y=0;for(m=0;m<this.length;m++){var _=this.words[m]&h,d=(this.words[m]|0)-_<<l;this.words[m]=d|y,y=_>>>26-l}y&&(this.words[m]=y,this.length++)}if(f!==0){for(m=this.length-1;m>=0;m--)this.words[m+f]=this.words[m];for(m=0;m<f;m++)this.words[m]=0;this.length+=f}return this.strip()},i.prototype.ishln=function(o){return n(this.negative===0),this.iushln(o)},i.prototype.iushrn=function(o,l,f){n(typeof o=="number"&&o>=0);var h;l?h=(l-l%26)/26:h=0;var m=o%26,y=Math.min((o-m)/26,this.length),_=67108863^67108863>>>m<<m,d=f;if(h-=y,h=Math.max(0,h),d){for(var a=0;a<y;a++)d.words[a]=this.words[a];d.length=y}if(y!==0)if(this.length>y)for(this.length-=y,a=0;a<this.length;a++)this.words[a]=this.words[a+y];else this.words[0]=0,this.length=1;var p=0;for(a=this.length-1;a>=0&&(p!==0||a>=h);a--){var S=this.words[a]|0;this.words[a]=p<<26-m|S>>>m,p=S&_}return d&&p!==0&&(d.words[d.length++]=p),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(o,l,f){return n(this.negative===0),this.iushrn(o,l,f)},i.prototype.shln=function(o){return this.clone().ishln(o)},i.prototype.ushln=function(o){return this.clone().iushln(o)},i.prototype.shrn=function(o){return this.clone().ishrn(o)},i.prototype.ushrn=function(o){return this.clone().iushrn(o)},i.prototype.testn=function(o){n(typeof o=="number"&&o>=0);var l=o%26,f=(o-l)/26,h=1<<l;if(this.length<=f)return!1;var m=this.words[f];return!!(m&h)},i.prototype.imaskn=function(o){n(typeof o=="number"&&o>=0);var l=o%26,f=(o-l)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(l!==0&&f++,this.length=Math.min(f,this.length),l!==0){var h=67108863^67108863>>>l<<l;this.words[this.length-1]&=h}return this.strip()},i.prototype.maskn=function(o){return this.clone().imaskn(o)},i.prototype.iaddn=function(o){return n(typeof o=="number"),n(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},i.prototype._iaddn=function(o){this.words[0]+=o;for(var l=0;l<this.length&&this.words[l]>=67108864;l++)this.words[l]-=67108864,l===this.length-1?this.words[l+1]=1:this.words[l+1]++;return this.length=Math.max(this.length,l+1),this},i.prototype.isubn=function(o){if(n(typeof o=="number"),n(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var l=0;l<this.length&&this.words[l]<0;l++)this.words[l]+=67108864,this.words[l+1]-=1;return this.strip()},i.prototype.addn=function(o){return this.clone().iaddn(o)},i.prototype.subn=function(o){return this.clone().isubn(o)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(o,l,f){var h=o.length+f,m;this._expand(h);var y,_=0;for(m=0;m<o.length;m++){y=(this.words[m+f]|0)+_;var d=(o.words[m]|0)*l;y-=d&67108863,_=(y>>26)-(d/67108864|0),this.words[m+f]=y&67108863}for(;m<this.length-f;m++)y=(this.words[m+f]|0)+_,_=y>>26,this.words[m+f]=y&67108863;if(_===0)return this.strip();for(n(_===-1),_=0,m=0;m<this.length;m++)y=-(this.words[m]|0)+_,_=y>>26,this.words[m]=y&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(o,l){var f=this.length-o.length,h=this.clone(),m=o,y=m.words[m.length-1]|0,_=this._countBits(y);f=26-_,f!==0&&(m=m.ushln(f),h.iushln(f),y=m.words[m.length-1]|0);var d=h.length-m.length,a;if(l!=="mod"){a=new i(null),a.length=d+1,a.words=new Array(a.length);for(var p=0;p<a.length;p++)a.words[p]=0}var S=h.clone()._ishlnsubmul(m,1,d);S.negative===0&&(h=S,a&&(a.words[d]=1));for(var B=d-1;B>=0;B--){var Z=(h.words[m.length+B]|0)*67108864+(h.words[m.length+B-1]|0);for(Z=Math.min(Z/y|0,67108863),h._ishlnsubmul(m,Z,B);h.negative!==0;)Z--,h.negative=0,h._ishlnsubmul(m,1,B),h.isZero()||(h.negative^=1);a&&(a.words[B]=Z)}return a&&a.strip(),h.strip(),l!=="div"&&f!==0&&h.iushrn(f),{div:a||null,mod:h}},i.prototype.divmod=function(o,l,f){if(n(!o.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var h,m,y;return this.negative!==0&&o.negative===0?(y=this.neg().divmod(o,l),l!=="mod"&&(h=y.div.neg()),l!=="div"&&(m=y.mod.neg(),f&&m.negative!==0&&m.iadd(o)),{div:h,mod:m}):this.negative===0&&o.negative!==0?(y=this.divmod(o.neg(),l),l!=="mod"&&(h=y.div.neg()),{div:h,mod:y.mod}):this.negative&o.negative?(y=this.neg().divmod(o.neg(),l),l!=="div"&&(m=y.mod.neg(),f&&m.negative!==0&&m.isub(o)),{div:y.div,mod:m}):o.length>this.length||this.cmp(o)<0?{div:new i(0),mod:this}:o.length===1?l==="div"?{div:this.divn(o.words[0]),mod:null}:l==="mod"?{div:null,mod:new i(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new i(this.modn(o.words[0]))}:this._wordDiv(o,l)},i.prototype.div=function(o){return this.divmod(o,"div",!1).div},i.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},i.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},i.prototype.divRound=function(o){var l=this.divmod(o);if(l.mod.isZero())return l.div;var f=l.div.negative!==0?l.mod.isub(o):l.mod,h=o.ushrn(1),m=o.andln(1),y=f.cmp(h);return y<0||m===1&&y===0?l.div:l.div.negative!==0?l.div.isubn(1):l.div.iaddn(1)},i.prototype.modn=function(o){n(o<=67108863);for(var l=(1<<26)%o,f=0,h=this.length-1;h>=0;h--)f=(l*f+(this.words[h]|0))%o;return f},i.prototype.idivn=function(o){n(o<=67108863);for(var l=0,f=this.length-1;f>=0;f--){var h=(this.words[f]|0)+l*67108864;this.words[f]=h/o|0,l=h%o}return this.strip()},i.prototype.divn=function(o){return this.clone().idivn(o)},i.prototype.egcd=function(o){n(o.negative===0),n(!o.isZero());var l=this,f=o.clone();l.negative!==0?l=l.umod(o):l=l.clone();for(var h=new i(1),m=new i(0),y=new i(0),_=new i(1),d=0;l.isEven()&&f.isEven();)l.iushrn(1),f.iushrn(1),++d;for(var a=f.clone(),p=l.clone();!l.isZero();){for(var S=0,B=1;!(l.words[0]&B)&&S<26;++S,B<<=1);if(S>0)for(l.iushrn(S);S-- >0;)(h.isOdd()||m.isOdd())&&(h.iadd(a),m.isub(p)),h.iushrn(1),m.iushrn(1);for(var Z=0,X=1;!(f.words[0]&X)&&Z<26;++Z,X<<=1);if(Z>0)for(f.iushrn(Z);Z-- >0;)(y.isOdd()||_.isOdd())&&(y.iadd(a),_.isub(p)),y.iushrn(1),_.iushrn(1);l.cmp(f)>=0?(l.isub(f),h.isub(y),m.isub(_)):(f.isub(l),y.isub(h),_.isub(m))}return{a:y,b:_,gcd:f.iushln(d)}},i.prototype._invmp=function(o){n(o.negative===0),n(!o.isZero());var l=this,f=o.clone();l.negative!==0?l=l.umod(o):l=l.clone();for(var h=new i(1),m=new i(0),y=f.clone();l.cmpn(1)>0&&f.cmpn(1)>0;){for(var _=0,d=1;!(l.words[0]&d)&&_<26;++_,d<<=1);if(_>0)for(l.iushrn(_);_-- >0;)h.isOdd()&&h.iadd(y),h.iushrn(1);for(var a=0,p=1;!(f.words[0]&p)&&a<26;++a,p<<=1);if(a>0)for(f.iushrn(a);a-- >0;)m.isOdd()&&m.iadd(y),m.iushrn(1);l.cmp(f)>=0?(l.isub(f),h.isub(m)):(f.isub(l),m.isub(h))}var S;return l.cmpn(1)===0?S=h:S=m,S.cmpn(0)<0&&S.iadd(o),S},i.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var l=this.clone(),f=o.clone();l.negative=0,f.negative=0;for(var h=0;l.isEven()&&f.isEven();h++)l.iushrn(1),f.iushrn(1);do{for(;l.isEven();)l.iushrn(1);for(;f.isEven();)f.iushrn(1);var m=l.cmp(f);if(m<0){var y=l;l=f,f=y}else if(m===0||f.cmpn(1)===0)break;l.isub(f)}while(!0);return f.iushln(h)},i.prototype.invm=function(o){return this.egcd(o).a.umod(o)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(o){return this.words[0]&o},i.prototype.bincn=function(o){n(typeof o=="number");var l=o%26,f=(o-l)/26,h=1<<l;if(this.length<=f)return this._expand(f+1),this.words[f]|=h,this;for(var m=h,y=f;m!==0&&y<this.length;y++){var _=this.words[y]|0;_+=m,m=_>>>26,_&=67108863,this.words[y]=_}return m!==0&&(this.words[y]=m,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(o){var l=o<0;if(this.negative!==0&&!l)return-1;if(this.negative===0&&l)return 1;this.strip();var f;if(this.length>1)f=1;else{l&&(o=-o),n(o<=67108863,"Number is too big");var h=this.words[0]|0;f=h===o?0:h<o?-1:1}return this.negative!==0?-f|0:f},i.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var l=this.ucmp(o);return this.negative!==0?-l|0:l},i.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var l=0,f=this.length-1;f>=0;f--){var h=this.words[f]|0,m=o.words[f]|0;if(h!==m){h<m?l=-1:h>m&&(l=1);break}}return l},i.prototype.gtn=function(o){return this.cmpn(o)===1},i.prototype.gt=function(o){return this.cmp(o)===1},i.prototype.gten=function(o){return this.cmpn(o)>=0},i.prototype.gte=function(o){return this.cmp(o)>=0},i.prototype.ltn=function(o){return this.cmpn(o)===-1},i.prototype.lt=function(o){return this.cmp(o)===-1},i.prototype.lten=function(o){return this.cmpn(o)<=0},i.prototype.lte=function(o){return this.cmp(o)<=0},i.prototype.eqn=function(o){return this.cmpn(o)===0},i.prototype.eq=function(o){return this.cmp(o)===0},i.red=function(o){return new j(o)},i.prototype.toRed=function(o){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(o){return this.red=o,this},i.prototype.forceRed=function(o){return n(!this.red,"Already a number in reduction context"),this._forceRed(o)},i.prototype.redAdd=function(o){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},i.prototype.redIAdd=function(o){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},i.prototype.redSub=function(o){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},i.prototype.redISub=function(o){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},i.prototype.redShl=function(o){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},i.prototype.redMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},i.prototype.redIMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(o){return n(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var z={k256:null,p224:null,p192:null,p25519:null};function K(g,o){this.name=g,this.p=new i(o,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}K.prototype._tmp=function(){var o=new i(null);return o.words=new Array(Math.ceil(this.n/13)),o},K.prototype.ireduce=function(o){var l=o,f;do this.split(l,this.tmp),l=this.imulK(l),l=l.iadd(this.tmp),f=l.bitLength();while(f>this.n);var h=f<this.n?-1:l.ucmp(this.p);return h===0?(l.words[0]=0,l.length=1):h>0?l.isub(this.p):l.strip!==void 0?l.strip():l._strip(),l},K.prototype.split=function(o,l){o.iushrn(this.n,0,l)},K.prototype.imulK=function(o){return o.imul(this.k)};function ne(){K.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(ne,K),ne.prototype.split=function(o,l){for(var f=4194303,h=Math.min(o.length,9),m=0;m<h;m++)l.words[m]=o.words[m];if(l.length=h,o.length<=9){o.words[0]=0,o.length=1;return}var y=o.words[9];for(l.words[l.length++]=y&f,m=10;m<o.length;m++){var _=o.words[m]|0;o.words[m-10]=(_&f)<<4|y>>>22,y=_}y>>>=22,o.words[m-10]=y,y===0&&o.length>10?o.length-=10:o.length-=9},ne.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var l=0,f=0;f<o.length;f++){var h=o.words[f]|0;l+=h*977,o.words[f]=l&67108863,l=h*64+(l/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function ue(){K.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(ue,K);function G(){K.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(G,K);function q(){K.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(q,K),q.prototype.imulK=function(o){for(var l=0,f=0;f<o.length;f++){var h=(o.words[f]|0)*19+l,m=h&67108863;h>>>=26,o.words[f]=m,l=h}return l!==0&&(o.words[o.length++]=l),o},i._prime=function(o){if(z[o])return z[o];var l;if(o==="k256")l=new ne;else if(o==="p224")l=new ue;else if(o==="p192")l=new G;else if(o==="p25519")l=new q;else throw new Error("Unknown prime "+o);return z[o]=l,l};function j(g){if(typeof g=="string"){var o=i._prime(g);this.m=o.p,this.prime=o}else n(g.gtn(1),"modulus must be greater than 1"),this.m=g,this.prime=null}j.prototype._verify1=function(o){n(o.negative===0,"red works only with positives"),n(o.red,"red works only with red numbers")},j.prototype._verify2=function(o,l){n((o.negative|l.negative)===0,"red works only with positives"),n(o.red&&o.red===l.red,"red works only with red numbers")},j.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},j.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},j.prototype.add=function(o,l){this._verify2(o,l);var f=o.add(l);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},j.prototype.iadd=function(o,l){this._verify2(o,l);var f=o.iadd(l);return f.cmp(this.m)>=0&&f.isub(this.m),f},j.prototype.sub=function(o,l){this._verify2(o,l);var f=o.sub(l);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},j.prototype.isub=function(o,l){this._verify2(o,l);var f=o.isub(l);return f.cmpn(0)<0&&f.iadd(this.m),f},j.prototype.shl=function(o,l){return this._verify1(o),this.imod(o.ushln(l))},j.prototype.imul=function(o,l){return this._verify2(o,l),this.imod(o.imul(l))},j.prototype.mul=function(o,l){return this._verify2(o,l),this.imod(o.mul(l))},j.prototype.isqr=function(o){return this.imul(o,o.clone())},j.prototype.sqr=function(o){return this.mul(o,o)},j.prototype.sqrt=function(o){if(o.isZero())return o.clone();var l=this.m.andln(3);if(n(l%2===1),l===3){var f=this.m.add(new i(1)).iushrn(2);return this.pow(o,f)}for(var h=this.m.subn(1),m=0;!h.isZero()&&h.andln(1)===0;)m++,h.iushrn(1);n(!h.isZero());var y=new i(1).toRed(this),_=y.redNeg(),d=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new i(2*a*a).toRed(this);this.pow(a,d).cmp(_)!==0;)a.redIAdd(_);for(var p=this.pow(a,h),S=this.pow(o,h.addn(1).iushrn(1)),B=this.pow(o,h),Z=m;B.cmp(y)!==0;){for(var X=B,oe=0;X.cmp(y)!==0;oe++)X=X.redSqr();n(oe<Z);var H=this.pow(p,new i(1).iushln(Z-oe-1));S=S.redMul(H),p=H.redSqr(),B=B.redMul(p),Z=oe}return S},j.prototype.invm=function(o){var l=o._invmp(this.m);return l.negative!==0?(l.negative=0,this.imod(l).redNeg()):this.imod(l)},j.prototype.pow=function(o,l){if(l.isZero())return new i(1).toRed(this);if(l.cmpn(1)===0)return o.clone();var f=4,h=new Array(1<<f);h[0]=new i(1).toRed(this),h[1]=o;for(var m=2;m<h.length;m++)h[m]=this.mul(h[m-1],o);var y=h[0],_=0,d=0,a=l.bitLength()%26;for(a===0&&(a=26),m=l.length-1;m>=0;m--){for(var p=l.words[m],S=a-1;S>=0;S--){var B=p>>S&1;if(y!==h[0]&&(y=this.sqr(y)),B===0&&_===0){d=0;continue}_<<=1,_|=B,d++,!(d!==f&&(m!==0||S!==0))&&(y=this.mul(y,h[_]),d=0,_=0)}a=26}return y},j.prototype.convertTo=function(o){var l=o.umod(this.m);return l===o?l.clone():l},j.prototype.convertFrom=function(o){var l=o.clone();return l.red=null,l},i.mont=function(o){return new Q(o)};function Q(g){j.call(this,g),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(Q,j),Q.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},Q.prototype.convertFrom=function(o){var l=this.imod(o.mul(this.rinv));return l.red=null,l},Q.prototype.imul=function(o,l){if(o.isZero()||l.isZero())return o.words[0]=0,o.length=1,o;var f=o.imul(l),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=f.isub(h).iushrn(this.shift),y=m;return m.cmp(this.m)>=0?y=m.isub(this.m):m.cmpn(0)<0&&(y=m.iadd(this.m)),y._forceRed(this)},Q.prototype.mul=function(o,l){if(o.isZero()||l.isZero())return new i(0)._forceRed(this);var f=o.mul(l),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=f.isub(h).iushrn(this.shift),y=m;return m.cmp(this.m)>=0?y=m.isub(this.m):m.cmpn(0)<0&&(y=m.iadd(this.m)),y._forceRed(this)},Q.prototype.invm=function(o){var l=this.imod(o._invmp(this.m).mul(this.r2));return l._forceRed(this)}})(t,Vt)})(Y_);var Hs=Y_.exports,J_={};(function(t){var e=t;function r(i,u){if(Array.isArray(i))return i.slice();if(!i)return[];var c=[];if(typeof i!="string"){for(var v=0;v<i.length;v++)c[v]=i[v]|0;return c}if(u==="hex"){i=i.replace(/[^a-z0-9]+/ig,""),i.length%2!==0&&(i="0"+i);for(var v=0;v<i.length;v+=2)c.push(parseInt(i[v]+i[v+1],16))}else for(var v=0;v<i.length;v++){var b=i.charCodeAt(v),w=b>>8,x=b&255;w?c.push(w,x):c.push(x)}return c}e.toArray=r;function n(i){return i.length===1?"0"+i:i}e.zero2=n;function s(i){for(var u="",c=0;c<i.length;c++)u+=n(i[c].toString(16));return u}e.toHex=s,e.encode=function(u,c){return c==="hex"?s(u):u}})(J_);(function(t){var e=t,r=Hs,n=fi,s=J_;e.assert=n,e.toArray=s.toArray,e.zero2=s.zero2,e.toHex=s.toHex,e.encode=s.encode;function i(w,x,E){var A=new Array(Math.max(w.bitLength(),E)+1),N;for(N=0;N<A.length;N+=1)A[N]=0;var D=1<<x+1,W=w.clone();for(N=0;N<A.length;N++){var P,C=W.andln(D-1);W.isOdd()?(C>(D>>1)-1?P=(D>>1)-C:P=C,W.isubn(P)):P=0,A[N]=P,W.iushrn(1)}return A}e.getNAF=i;function u(w,x){var E=[[],[]];w=w.clone(),x=x.clone();for(var A=0,N=0,D;w.cmpn(-A)>0||x.cmpn(-N)>0;){var W=w.andln(3)+A&3,P=x.andln(3)+N&3;W===3&&(W=-1),P===3&&(P=-1);var C;W&1?(D=w.andln(7)+A&7,(D===3||D===5)&&P===2?C=-W:C=W):C=0,E[0].push(C);var z;P&1?(D=x.andln(7)+N&7,(D===3||D===5)&&W===2?z=-P:z=P):z=0,E[1].push(z),2*A===C+1&&(A=1-A),2*N===z+1&&(N=1-N),w.iushrn(1),x.iushrn(1)}return E}e.getJSF=u;function c(w,x,E){var A="_"+x;w.prototype[x]=function(){return this[A]!==void 0?this[A]:this[A]=E.call(this)}}e.cachedProperty=c;function v(w){return typeof w=="string"?e.toArray(w,"hex"):w}e.parseBytes=v;function b(w){return new r(w,"hex","le")}e.intFromLE=b})(Zn);var X_={},ta=Hs,jc=Zn,Tp=jc.getNAF,QW=jc.getJSF,Rp=jc.assert;function Wo(t,e){this.type=t,this.p=new ta(e.p,16),this.red=e.prime?ta.red(e.prime):ta.mont(this.p),this.zero=new ta(0).toRed(this.red),this.one=new ta(1).toRed(this.red),this.two=new ta(2).toRed(this.red),this.n=e.n&&new ta(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var tv=Wo;Wo.prototype.point=function(){throw new Error("Not implemented")};Wo.prototype.validate=function(){throw new Error("Not implemented")};Wo.prototype._fixedNafMul=function(e,r){Rp(e.precomputed);var n=e._getDoubles(),s=Tp(r,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;var u=[],c,v;for(c=0;c<s.length;c+=n.step){v=0;for(var b=c+n.step-1;b>=c;b--)v=(v<<1)+s[b];u.push(v)}for(var w=this.jpoint(null,null,null),x=this.jpoint(null,null,null),E=i;E>0;E--){for(c=0;c<u.length;c++)v=u[c],v===E?x=x.mixedAdd(n.points[c]):v===-E&&(x=x.mixedAdd(n.points[c].neg()));w=w.add(x)}return w.toP()};Wo.prototype._wnafMul=function(e,r){var n=4,s=e._getNAFPoints(n);n=s.wnd;for(var i=s.points,u=Tp(r,n,this._bitLength),c=this.jpoint(null,null,null),v=u.length-1;v>=0;v--){for(var b=0;v>=0&&u[v]===0;v--)b++;if(v>=0&&b++,c=c.dblp(b),v<0)break;var w=u[v];Rp(w!==0),e.type==="affine"?w>0?c=c.mixedAdd(i[w-1>>1]):c=c.mixedAdd(i[-w-1>>1].neg()):w>0?c=c.add(i[w-1>>1]):c=c.add(i[-w-1>>1].neg())}return e.type==="affine"?c.toP():c};Wo.prototype._wnafMulAdd=function(e,r,n,s,i){var u=this._wnafT1,c=this._wnafT2,v=this._wnafT3,b=0,w,x,E;for(w=0;w<s;w++){E=r[w];var A=E._getNAFPoints(e);u[w]=A.wnd,c[w]=A.points}for(w=s-1;w>=1;w-=2){var N=w-1,D=w;if(u[N]!==1||u[D]!==1){v[N]=Tp(n[N],u[N],this._bitLength),v[D]=Tp(n[D],u[D],this._bitLength),b=Math.max(v[N].length,b),b=Math.max(v[D].length,b);continue}var W=[r[N],null,null,r[D]];r[N].y.cmp(r[D].y)===0?(W[1]=r[N].add(r[D]),W[2]=r[N].toJ().mixedAdd(r[D].neg())):r[N].y.cmp(r[D].y.redNeg())===0?(W[1]=r[N].toJ().mixedAdd(r[D]),W[2]=r[N].add(r[D].neg())):(W[1]=r[N].toJ().mixedAdd(r[D]),W[2]=r[N].toJ().mixedAdd(r[D].neg()));var P=[-3,-1,-5,-7,0,7,5,1,3],C=QW(n[N],n[D]);for(b=Math.max(C[0].length,b),v[N]=new Array(b),v[D]=new Array(b),x=0;x<b;x++){var z=C[0][x]|0,K=C[1][x]|0;v[N][x]=P[(z+1)*3+(K+1)],v[D][x]=0,c[N]=W}}var ne=this.jpoint(null,null,null),ue=this._wnafT4;for(w=b;w>=0;w--){for(var G=0;w>=0;){var q=!0;for(x=0;x<s;x++)ue[x]=v[x][w]|0,ue[x]!==0&&(q=!1);if(!q)break;G++,w--}if(w>=0&&G++,ne=ne.dblp(G),w<0)break;for(x=0;x<s;x++){var j=ue[x];j!==0&&(j>0?E=c[x][j-1>>1]:j<0&&(E=c[x][-j-1>>1].neg()),E.type==="affine"?ne=ne.mixedAdd(E):ne=ne.add(E))}}for(w=0;w<s;w++)c[w]=null;return i?ne:ne.toP()};function ci(t,e){this.curve=t,this.type=e,this.precomputed=null}Wo.BasePoint=ci;ci.prototype.eq=function(){throw new Error("Not implemented")};ci.prototype.validate=function(){return this.curve.validate(this)};Wo.prototype.decodePoint=function(e,r){e=jc.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Rp(e[e.length-1]%2===0):e[0]===7&&Rp(e[e.length-1]%2===1);var s=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return s}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};ci.prototype.encodeCompressed=function(e){return this.encode(e,!0)};ci.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};ci.prototype.encode=function(e,r){return jc.encode(this._encode(r),e)};ci.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};ci.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};ci.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],s=this,i=0;i<r;i+=e){for(var u=0;u<e;u++)s=s.dbl();n.push(s)}return{step:e,points:n}};ci.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,s=n===1?null:this.dbl(),i=1;i<n;i++)r[i]=r[i-1].add(s);return{wnd:e,points:r}};ci.prototype._getBeta=function(){return null};ci.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var YW=Zn,br=Hs,eb=kt,Gu=tv,JW=YW.assert;function di(t){Gu.call(this,"short",t),this.a=new br(t.a,16).toRed(this.red),this.b=new br(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}eb(di,Gu);var XW=di;di.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new br(e.beta,16).toRed(this.red);else{var s=this._getEndoRoots(this.p);r=s[0].cmp(s[1])<0?s[0]:s[1],r=r.toRed(this.red)}if(e.lambda)n=new br(e.lambda,16);else{var i=this._getEndoRoots(this.n);this.g.mul(i[0]).x.cmp(this.g.x.redMul(r))===0?n=i[0]:(n=i[1],JW(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var u;return e.basis?u=e.basis.map(function(c){return{a:new br(c.a,16),b:new br(c.b,16)}}):u=this._getEndoBasis(n),{beta:r,lambda:n,basis:u}}};di.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:br.mont(e),n=new br(2).toRed(r).redInvm(),s=n.redNeg(),i=new br(3).toRed(r).redNeg().redSqrt().redMul(n),u=s.redAdd(i).fromRed(),c=s.redSub(i).fromRed();return[u,c]};di.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,s=this.n.clone(),i=new br(1),u=new br(0),c=new br(0),v=new br(1),b,w,x,E,A,N,D,W=0,P,C;n.cmpn(0)!==0;){var z=s.div(n);P=s.sub(z.mul(n)),C=c.sub(z.mul(i));var K=v.sub(z.mul(u));if(!x&&P.cmp(r)<0)b=D.neg(),w=i,x=P.neg(),E=C;else if(x&&++W===2)break;D=P,s=n,n=P,c=i,i=C,v=u,u=K}A=P.neg(),N=C;var ne=x.sqr().add(E.sqr()),ue=A.sqr().add(N.sqr());return ue.cmp(ne)>=0&&(A=b,N=w),x.negative&&(x=x.neg(),E=E.neg()),A.negative&&(A=A.neg(),N=N.neg()),[{a:x,b:E},{a:A,b:N}]};di.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],s=r[1],i=s.b.mul(e).divRound(this.n),u=n.b.neg().mul(e).divRound(this.n),c=i.mul(n.a),v=u.mul(s.a),b=i.mul(n.b),w=u.mul(s.b),x=e.sub(c).sub(v),E=b.add(w).neg();return{k1:x,k2:E}};di.prototype.pointFromX=function(e,r){e=new br(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),s=n.redSqrt();if(s.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var i=s.fromRed().isOdd();return(r&&!i||!r&&i)&&(s=s.redNeg()),this.point(e,s)};di.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,s=this.a.redMul(r),i=r.redSqr().redMul(r).redIAdd(s).redIAdd(this.b);return n.redSqr().redISub(i).cmpn(0)===0};di.prototype._endoWnafMulAdd=function(e,r,n){for(var s=this._endoWnafT1,i=this._endoWnafT2,u=0;u<e.length;u++){var c=this._endoSplit(r[u]),v=e[u],b=v._getBeta();c.k1.negative&&(c.k1.ineg(),v=v.neg(!0)),c.k2.negative&&(c.k2.ineg(),b=b.neg(!0)),s[u*2]=v,s[u*2+1]=b,i[u*2]=c.k1,i[u*2+1]=c.k2}for(var w=this._wnafMulAdd(1,s,i,u*2,n),x=0;x<u*2;x++)s[x]=null,i[x]=null;return w};function qr(t,e,r,n){Gu.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new br(e,16),this.y=new br(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}eb(qr,Gu.BasePoint);di.prototype.point=function(e,r,n){return new qr(this,e,r,n)};di.prototype.pointFromJSON=function(e,r){return qr.fromJSON(this,e,r)};qr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,s=function(i){return n.point(i.x.redMul(n.endo.beta),i.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(s)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(s)}}}return r}};qr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};qr.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var s=e.point(r[0],r[1],n);if(!r[2])return s;function i(c){return e.point(c[0],c[1],n)}var u=r[2];return s.precomputed={beta:null,doubles:u.doubles&&{step:u.doubles.step,points:[s].concat(u.doubles.points.map(i))},naf:u.naf&&{wnd:u.naf.wnd,points:[s].concat(u.naf.points.map(i))}},s};qr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};qr.prototype.isInfinity=function(){return this.inf};qr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),s=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,s)};qr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),s=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(s),u=i.redSqr().redISub(this.x.redAdd(this.x)),c=i.redMul(this.x.redSub(u)).redISub(this.y);return this.curve.point(u,c)};qr.prototype.getX=function(){return this.x.fromRed()};qr.prototype.getY=function(){return this.y.fromRed()};qr.prototype.mul=function(e){return e=new br(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};qr.prototype.mulAdd=function(e,r,n){var s=[this,r],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(s,i):this.curve._wnafMulAdd(1,s,i,2)};qr.prototype.jmulAdd=function(e,r,n){var s=[this,r],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(s,i,!0):this.curve._wnafMulAdd(1,s,i,2,!0)};qr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};qr.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,s=function(i){return i.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(s)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(s)}}}return r};qr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Yr(t,e,r,n){Gu.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new br(0)):(this.x=new br(e,16),this.y=new br(r,16),this.z=new br(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}eb(Yr,Gu.BasePoint);di.prototype.jpoint=function(e,r,n){return new Yr(this,e,r,n)};Yr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),s=this.y.redMul(r).redMul(e);return this.curve.point(n,s)};Yr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Yr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),s=this.x.redMul(r),i=e.x.redMul(n),u=this.y.redMul(r.redMul(e.z)),c=e.y.redMul(n.redMul(this.z)),v=s.redSub(i),b=u.redSub(c);if(v.cmpn(0)===0)return b.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var w=v.redSqr(),x=w.redMul(v),E=s.redMul(w),A=b.redSqr().redIAdd(x).redISub(E).redISub(E),N=b.redMul(E.redISub(A)).redISub(u.redMul(x)),D=this.z.redMul(e.z).redMul(v);return this.curve.jpoint(A,N,D)};Yr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,s=e.x.redMul(r),i=this.y,u=e.y.redMul(r).redMul(this.z),c=n.redSub(s),v=i.redSub(u);if(c.cmpn(0)===0)return v.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var b=c.redSqr(),w=b.redMul(c),x=n.redMul(b),E=v.redSqr().redIAdd(w).redISub(x).redISub(x),A=v.redMul(x.redISub(E)).redISub(i.redMul(w)),N=this.z.redMul(c);return this.curve.jpoint(E,A,N)};Yr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var s=this.curve.a,i=this.curve.tinv,u=this.x,c=this.y,v=this.z,b=v.redSqr().redSqr(),w=c.redAdd(c);for(r=0;r<e;r++){var x=u.redSqr(),E=w.redSqr(),A=E.redSqr(),N=x.redAdd(x).redIAdd(x).redIAdd(s.redMul(b)),D=u.redMul(E),W=N.redSqr().redISub(D.redAdd(D)),P=D.redISub(W),C=N.redMul(P);C=C.redIAdd(C).redISub(A);var z=w.redMul(v);r+1<e&&(b=b.redMul(A)),u=W,v=z,w=C}return this.curve.jpoint(u,w.redMul(i),v)};Yr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Yr.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var s=this.x.redSqr(),i=this.y.redSqr(),u=i.redSqr(),c=this.x.redAdd(i).redSqr().redISub(s).redISub(u);c=c.redIAdd(c);var v=s.redAdd(s).redIAdd(s),b=v.redSqr().redISub(c).redISub(c),w=u.redIAdd(u);w=w.redIAdd(w),w=w.redIAdd(w),e=b,r=v.redMul(c.redISub(b)).redISub(w),n=this.y.redAdd(this.y)}else{var x=this.x.redSqr(),E=this.y.redSqr(),A=E.redSqr(),N=this.x.redAdd(E).redSqr().redISub(x).redISub(A);N=N.redIAdd(N);var D=x.redAdd(x).redIAdd(x),W=D.redSqr(),P=A.redIAdd(A);P=P.redIAdd(P),P=P.redIAdd(P),e=W.redISub(N).redISub(N),r=D.redMul(N.redISub(e)).redISub(P),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Yr.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var s=this.x.redSqr(),i=this.y.redSqr(),u=i.redSqr(),c=this.x.redAdd(i).redSqr().redISub(s).redISub(u);c=c.redIAdd(c);var v=s.redAdd(s).redIAdd(s).redIAdd(this.curve.a),b=v.redSqr().redISub(c).redISub(c);e=b;var w=u.redIAdd(u);w=w.redIAdd(w),w=w.redIAdd(w),r=v.redMul(c.redISub(b)).redISub(w),n=this.y.redAdd(this.y)}else{var x=this.z.redSqr(),E=this.y.redSqr(),A=this.x.redMul(E),N=this.x.redSub(x).redMul(this.x.redAdd(x));N=N.redAdd(N).redIAdd(N);var D=A.redIAdd(A);D=D.redIAdd(D);var W=D.redAdd(D);e=N.redSqr().redISub(W),n=this.y.redAdd(this.z).redSqr().redISub(E).redISub(x);var P=E.redSqr();P=P.redIAdd(P),P=P.redIAdd(P),P=P.redIAdd(P),r=N.redMul(D.redISub(e)).redISub(P)}return this.curve.jpoint(e,r,n)};Yr.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,s=this.z,i=s.redSqr().redSqr(),u=r.redSqr(),c=n.redSqr(),v=u.redAdd(u).redIAdd(u).redIAdd(e.redMul(i)),b=r.redAdd(r);b=b.redIAdd(b);var w=b.redMul(c),x=v.redSqr().redISub(w.redAdd(w)),E=w.redISub(x),A=c.redSqr();A=A.redIAdd(A),A=A.redIAdd(A),A=A.redIAdd(A);var N=v.redMul(E).redISub(A),D=n.redAdd(n).redMul(s);return this.curve.jpoint(x,N,D)};Yr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),s=r.redSqr(),i=e.redAdd(e).redIAdd(e),u=i.redSqr(),c=this.x.redAdd(r).redSqr().redISub(e).redISub(s);c=c.redIAdd(c),c=c.redAdd(c).redIAdd(c),c=c.redISub(u);var v=c.redSqr(),b=s.redIAdd(s);b=b.redIAdd(b),b=b.redIAdd(b),b=b.redIAdd(b);var w=i.redIAdd(c).redSqr().redISub(u).redISub(v).redISub(b),x=r.redMul(w);x=x.redIAdd(x),x=x.redIAdd(x);var E=this.x.redMul(v).redISub(x);E=E.redIAdd(E),E=E.redIAdd(E);var A=this.y.redMul(w.redMul(b.redISub(w)).redISub(c.redMul(v)));A=A.redIAdd(A),A=A.redIAdd(A),A=A.redIAdd(A);var N=this.z.redAdd(c).redSqr().redISub(n).redISub(v);return this.curve.jpoint(E,A,N)};Yr.prototype.mul=function(e,r){return e=new br(e,r),this.curve._wnafMul(this,e)};Yr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var s=r.redMul(this.z),i=n.redMul(e.z);return this.y.redMul(i).redISub(e.y.redMul(s)).cmpn(0)===0};Yr.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var s=e.clone(),i=this.curve.redN.redMul(r);;){if(s.iadd(this.curve.n),s.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),this.x.cmp(n)===0)return!0}};Yr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Yr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Fl=Hs,AT=kt,rv=tv,eG=Zn;function Zu(t){rv.call(this,"mont",t),this.a=new Fl(t.a,16).toRed(this.red),this.b=new Fl(t.b,16).toRed(this.red),this.i4=new Fl(4).toRed(this.red).redInvm(),this.two=new Fl(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}AT(Zu,rv);var tG=Zu;Zu.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),s=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),i=s.redSqrt();return i.redSqr().cmp(s)===0};function $r(t,e,r){rv.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Fl(e,16),this.z=new Fl(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}AT($r,rv.BasePoint);Zu.prototype.decodePoint=function(e,r){return this.point(eG.toArray(e,r),1)};Zu.prototype.point=function(e,r){return new $r(this,e,r)};Zu.prototype.pointFromJSON=function(e){return $r.fromJSON(this,e)};$r.prototype.precompute=function(){};$r.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};$r.fromJSON=function(e,r){return new $r(e,r[0],r[1]||e.one)};$r.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};$r.prototype.isInfinity=function(){return this.z.cmpn(0)===0};$r.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),s=n.redSqr(),i=r.redSub(s),u=r.redMul(s),c=i.redMul(s.redAdd(this.curve.a24.redMul(i)));return this.curve.point(u,c)};$r.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};$r.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),s=this.x.redSub(this.z),i=e.x.redAdd(e.z),u=e.x.redSub(e.z),c=u.redMul(n),v=i.redMul(s),b=r.z.redMul(c.redAdd(v).redSqr()),w=r.x.redMul(c.redISub(v).redSqr());return this.curve.point(b,w)};$r.prototype.mul=function(e){for(var r=e.clone(),n=this,s=this.curve.point(null,null),i=this,u=[];r.cmpn(0)!==0;r.iushrn(1))u.push(r.andln(1));for(var c=u.length-1;c>=0;c--)u[c]===0?(n=n.diffAdd(s,i),s=s.dbl()):(s=n.diffAdd(s,i),n=n.dbl());return s};$r.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};$r.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};$r.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};$r.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};$r.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var rG=Zn,bs=Hs,TT=kt,nv=tv,nG=rG.assert;function us(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,nv.call(this,"edwards",t),this.a=new bs(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new bs(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new bs(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),nG(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}TT(us,nv);var iG=us;us.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};us.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};us.prototype.jpoint=function(e,r,n,s){return this.point(e,r,n,s)};us.prototype.pointFromX=function(e,r){e=new bs(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),s=this.c2.redSub(this.a.redMul(n)),i=this.one.redSub(this.c2.redMul(this.d).redMul(n)),u=s.redMul(i.redInvm()),c=u.redSqrt();if(c.redSqr().redSub(u).cmp(this.zero)!==0)throw new Error("invalid point");var v=c.fromRed().isOdd();return(r&&!v||!r&&v)&&(c=c.redNeg()),this.point(e,c)};us.prototype.pointFromY=function(e,r){e=new bs(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),s=n.redSub(this.c2),i=n.redMul(this.d).redMul(this.c2).redSub(this.a),u=s.redMul(i.redInvm());if(u.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var c=u.redSqrt();if(c.redSqr().redSub(u).cmp(this.zero)!==0)throw new Error("invalid point");return c.fromRed().isOdd()!==r&&(c=c.redNeg()),this.point(c,e)};us.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),s=r.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return s.cmp(i)===0};function sr(t,e,r,n,s){nv.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new bs(e,16),this.y=new bs(r,16),this.z=n?new bs(n,16):this.curve.one,this.t=s&&new bs(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}TT(sr,nv.BasePoint);us.prototype.pointFromJSON=function(e){return sr.fromJSON(this,e)};us.prototype.point=function(e,r,n,s){return new sr(this,e,r,n,s)};sr.fromJSON=function(e,r){return new sr(e,r[0],r[1],r[2])};sr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};sr.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};sr.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var s=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),u=s.redAdd(r),c=u.redSub(n),v=s.redSub(r),b=i.redMul(c),w=u.redMul(v),x=i.redMul(v),E=c.redMul(u);return this.curve.point(b,w,E,x)};sr.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),s,i,u,c,v,b;if(this.curve.twisted){c=this.curve._mulA(r);var w=c.redAdd(n);this.zOne?(s=e.redSub(r).redSub(n).redMul(w.redSub(this.curve.two)),i=w.redMul(c.redSub(n)),u=w.redSqr().redSub(w).redSub(w)):(v=this.z.redSqr(),b=w.redSub(v).redISub(v),s=e.redSub(r).redISub(n).redMul(b),i=w.redMul(c.redSub(n)),u=w.redMul(b))}else c=r.redAdd(n),v=this.curve._mulC(this.z).redSqr(),b=c.redSub(v).redSub(v),s=this.curve._mulC(e.redISub(c)).redMul(b),i=this.curve._mulC(c).redMul(r.redISub(n)),u=c.redMul(b);return this.curve.point(s,i,u)};sr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};sr.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),s=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),u=n.redSub(r),c=i.redSub(s),v=i.redAdd(s),b=n.redAdd(r),w=u.redMul(c),x=v.redMul(b),E=u.redMul(b),A=c.redMul(v);return this.curve.point(w,x,A,E)};sr.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),s=this.x.redMul(e.x),i=this.y.redMul(e.y),u=this.curve.d.redMul(s).redMul(i),c=n.redSub(u),v=n.redAdd(u),b=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(s).redISub(i),w=r.redMul(c).redMul(b),x,E;return this.curve.twisted?(x=r.redMul(v).redMul(i.redSub(this.curve._mulA(s))),E=c.redMul(v)):(x=r.redMul(v).redMul(i.redSub(s)),E=this.curve._mulC(c).redMul(v)),this.curve.point(w,x,E)};sr.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};sr.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};sr.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};sr.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};sr.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};sr.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};sr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};sr.prototype.getY=function(){return this.normalize(),this.y.fromRed()};sr.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};sr.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),s=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(s),this.x.cmp(r)===0)return!0}};sr.prototype.toP=sr.prototype.normalize;sr.prototype.mixedAdd=sr.prototype.add;(function(t){var e=t;e.base=tv,e.short=XW,e.mont=tG,e.edwards=iG})(X_);var iv={},sv={},jt={},sG=fi,oG=kt;jt.inherits=oG;function aG(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function lG(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),s=0;s<t.length;s+=2)r.push(parseInt(t[s]+t[s+1],16))}else for(var n=0,s=0;s<t.length;s++){var i=t.charCodeAt(s);i<128?r[n++]=i:i<2048?(r[n++]=i>>6|192,r[n++]=i&63|128):aG(t,s)?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),r[n++]=i>>18|240,r[n++]=i>>12&63|128,r[n++]=i>>6&63|128,r[n++]=i&63|128):(r[n++]=i>>12|224,r[n++]=i>>6&63|128,r[n++]=i&63|128)}else for(s=0;s<t.length;s++)r[s]=t[s]|0;return r}jt.toArray=lG;function uG(t){for(var e="",r=0;r<t.length;r++)e+=kT(t[r].toString(16));return e}jt.toHex=uG;function RT(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}jt.htonl=RT;function fG(t,e){for(var r="",n=0;n<t.length;n++){var s=t[n];e==="little"&&(s=RT(s)),r+=CT(s.toString(16))}return r}jt.toHex32=fG;function kT(t){return t.length===1?"0"+t:t}jt.zero2=kT;function CT(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}jt.zero8=CT;function hG(t,e,r,n){var s=r-e;sG(s%4===0);for(var i=new Array(s/4),u=0,c=e;u<i.length;u++,c+=4){var v;n==="big"?v=t[c]<<24|t[c+1]<<16|t[c+2]<<8|t[c+3]:v=t[c+3]<<24|t[c+2]<<16|t[c+1]<<8|t[c],i[u]=v>>>0}return i}jt.join32=hG;function cG(t,e){for(var r=new Array(t.length*4),n=0,s=0;n<t.length;n++,s+=4){var i=t[n];e==="big"?(r[s]=i>>>24,r[s+1]=i>>>16&255,r[s+2]=i>>>8&255,r[s+3]=i&255):(r[s+3]=i>>>24,r[s+2]=i>>>16&255,r[s+1]=i>>>8&255,r[s]=i&255)}return r}jt.split32=cG;function dG(t,e){return t>>>e|t<<32-e}jt.rotr32=dG;function pG(t,e){return t<<e|t>>>32-e}jt.rotl32=pG;function mG(t,e){return t+e>>>0}jt.sum32=mG;function vG(t,e,r){return t+e+r>>>0}jt.sum32_3=vG;function gG(t,e,r,n){return t+e+r+n>>>0}jt.sum32_4=gG;function yG(t,e,r,n,s){return t+e+r+n+s>>>0}jt.sum32_5=yG;function wG(t,e,r,n){var s=t[e],i=t[e+1],u=n+i>>>0,c=(u<n?1:0)+r+s;t[e]=c>>>0,t[e+1]=u}jt.sum64=wG;function _G(t,e,r,n){var s=e+n>>>0,i=(s<e?1:0)+t+r;return i>>>0}jt.sum64_hi=_G;function bG(t,e,r,n){var s=e+n;return s>>>0}jt.sum64_lo=bG;function xG(t,e,r,n,s,i,u,c){var v=0,b=e;b=b+n>>>0,v+=b<e?1:0,b=b+i>>>0,v+=b<i?1:0,b=b+c>>>0,v+=b<c?1:0;var w=t+r+s+u+v;return w>>>0}jt.sum64_4_hi=xG;function MG(t,e,r,n,s,i,u,c){var v=e+n+i+c;return v>>>0}jt.sum64_4_lo=MG;function EG(t,e,r,n,s,i,u,c,v,b){var w=0,x=e;x=x+n>>>0,w+=x<e?1:0,x=x+i>>>0,w+=x<i?1:0,x=x+c>>>0,w+=x<c?1:0,x=x+b>>>0,w+=x<b?1:0;var E=t+r+s+u+v+w;return E>>>0}jt.sum64_5_hi=EG;function SG(t,e,r,n,s,i,u,c,v,b){var w=e+n+i+c+b;return w>>>0}jt.sum64_5_lo=SG;function IG(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}jt.rotr64_hi=IG;function AG(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}jt.rotr64_lo=AG;function TG(t,e,r){return t>>>r}jt.shr64_hi=TG;function RG(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}jt.shr64_lo=RG;var Qu={},dM=jt,kG=fi;function ov(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Qu.BlockHash=ov;ov.prototype.update=function(e,r){if(e=dM.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=dM.join32(e,0,e.length-n,this.endian);for(var s=0;s<e.length;s+=this._delta32)this._update(e,s,s+this._delta32)}return this};ov.prototype.digest=function(e){return this.update(this._pad()),kG(this.pending===null),this._digest(e)};ov.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,s=new Array(n+this.padLength);s[0]=128;for(var i=1;i<n;i++)s[i]=0;if(e<<=3,this.endian==="big"){for(var u=8;u<this.padLength;u++)s[i++]=0;s[i++]=0,s[i++]=0,s[i++]=0,s[i++]=0,s[i++]=e>>>24&255,s[i++]=e>>>16&255,s[i++]=e>>>8&255,s[i++]=e&255}else for(s[i++]=e&255,s[i++]=e>>>8&255,s[i++]=e>>>16&255,s[i++]=e>>>24&255,s[i++]=0,s[i++]=0,s[i++]=0,s[i++]=0,u=8;u<this.padLength;u++)s[i++]=0;return s};var Yu={},fs={},CG=jt,Ji=CG.rotr32;function PG(t,e,r,n){if(t===0)return PT(e,r,n);if(t===1||t===3)return BT(e,r,n);if(t===2)return NT(e,r,n)}fs.ft_1=PG;function PT(t,e,r){return t&e^~t&r}fs.ch32=PT;function NT(t,e,r){return t&e^t&r^e&r}fs.maj32=NT;function BT(t,e,r){return t^e^r}fs.p32=BT;function NG(t){return Ji(t,2)^Ji(t,13)^Ji(t,22)}fs.s0_256=NG;function BG(t){return Ji(t,6)^Ji(t,11)^Ji(t,25)}fs.s1_256=BG;function DG(t){return Ji(t,7)^Ji(t,18)^t>>>3}fs.g0_256=DG;function OG(t){return Ji(t,17)^Ji(t,19)^t>>>10}fs.g1_256=OG;var Tu=jt,LG=Qu,FG=fs,Vg=Tu.rotl32,Lf=Tu.sum32,VG=Tu.sum32_5,UG=FG.ft_1,DT=LG.BlockHash,jG=[1518500249,1859775393,2400959708,3395469782];function is(){if(!(this instanceof is))return new is;DT.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Tu.inherits(is,DT);var zG=is;is.blockSize=512;is.outSize=160;is.hmacStrength=80;is.padLength=64;is.prototype._update=function(e,r){for(var n=this.W,s=0;s<16;s++)n[s]=e[r+s];for(;s<n.length;s++)n[s]=Vg(n[s-3]^n[s-8]^n[s-14]^n[s-16],1);var i=this.h[0],u=this.h[1],c=this.h[2],v=this.h[3],b=this.h[4];for(s=0;s<n.length;s++){var w=~~(s/20),x=VG(Vg(i,5),UG(w,u,c,v),b,n[s],jG[w]);b=v,v=c,c=Vg(u,30),u=i,i=x}this.h[0]=Lf(this.h[0],i),this.h[1]=Lf(this.h[1],u),this.h[2]=Lf(this.h[2],c),this.h[3]=Lf(this.h[3],v),this.h[4]=Lf(this.h[4],b)};is.prototype._digest=function(e){return e==="hex"?Tu.toHex32(this.h,"big"):Tu.split32(this.h,"big")};var Ru=jt,$G=Qu,Ju=fs,qG=fi,gi=Ru.sum32,HG=Ru.sum32_4,KG=Ru.sum32_5,WG=Ju.ch32,GG=Ju.maj32,ZG=Ju.s0_256,QG=Ju.s1_256,YG=Ju.g0_256,JG=Ju.g1_256,OT=$G.BlockHash,XG=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ss(){if(!(this instanceof ss))return new ss;OT.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=XG,this.W=new Array(64)}Ru.inherits(ss,OT);var LT=ss;ss.blockSize=512;ss.outSize=256;ss.hmacStrength=192;ss.padLength=64;ss.prototype._update=function(e,r){for(var n=this.W,s=0;s<16;s++)n[s]=e[r+s];for(;s<n.length;s++)n[s]=HG(JG(n[s-2]),n[s-7],YG(n[s-15]),n[s-16]);var i=this.h[0],u=this.h[1],c=this.h[2],v=this.h[3],b=this.h[4],w=this.h[5],x=this.h[6],E=this.h[7];for(qG(this.k.length===n.length),s=0;s<n.length;s++){var A=KG(E,QG(b),WG(b,w,x),this.k[s],n[s]),N=gi(ZG(i),GG(i,u,c));E=x,x=w,w=b,b=gi(v,A),v=c,c=u,u=i,i=gi(A,N)}this.h[0]=gi(this.h[0],i),this.h[1]=gi(this.h[1],u),this.h[2]=gi(this.h[2],c),this.h[3]=gi(this.h[3],v),this.h[4]=gi(this.h[4],b),this.h[5]=gi(this.h[5],w),this.h[6]=gi(this.h[6],x),this.h[7]=gi(this.h[7],E)};ss.prototype._digest=function(e){return e==="hex"?Ru.toHex32(this.h,"big"):Ru.split32(this.h,"big")};var g2=jt,FT=LT;function Ds(){if(!(this instanceof Ds))return new Ds;FT.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}g2.inherits(Ds,FT);var eZ=Ds;Ds.blockSize=512;Ds.outSize=224;Ds.hmacStrength=192;Ds.padLength=64;Ds.prototype._digest=function(e){return e==="hex"?g2.toHex32(this.h.slice(0,7),"big"):g2.split32(this.h.slice(0,7),"big")};var Bn=jt,tZ=Qu,rZ=fi,Xi=Bn.rotr64_hi,es=Bn.rotr64_lo,VT=Bn.shr64_hi,UT=Bn.shr64_lo,Js=Bn.sum64,Ug=Bn.sum64_hi,jg=Bn.sum64_lo,nZ=Bn.sum64_4_hi,iZ=Bn.sum64_4_lo,sZ=Bn.sum64_5_hi,oZ=Bn.sum64_5_lo,jT=tZ.BlockHash,aZ=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ki(){if(!(this instanceof ki))return new ki;jT.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=aZ,this.W=new Array(160)}Bn.inherits(ki,jT);var zT=ki;ki.blockSize=1024;ki.outSize=512;ki.hmacStrength=192;ki.padLength=128;ki.prototype._prepareBlock=function(e,r){for(var n=this.W,s=0;s<32;s++)n[s]=e[r+s];for(;s<n.length;s+=2){var i=yZ(n[s-4],n[s-3]),u=wZ(n[s-4],n[s-3]),c=n[s-14],v=n[s-13],b=vZ(n[s-30],n[s-29]),w=gZ(n[s-30],n[s-29]),x=n[s-32],E=n[s-31];n[s]=nZ(i,u,c,v,b,w,x,E),n[s+1]=iZ(i,u,c,v,b,w,x,E)}};ki.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,s=this.h[0],i=this.h[1],u=this.h[2],c=this.h[3],v=this.h[4],b=this.h[5],w=this.h[6],x=this.h[7],E=this.h[8],A=this.h[9],N=this.h[10],D=this.h[11],W=this.h[12],P=this.h[13],C=this.h[14],z=this.h[15];rZ(this.k.length===n.length);for(var K=0;K<n.length;K+=2){var ne=C,ue=z,G=pZ(E,A),q=mZ(E,A),j=lZ(E,A,N,D,W),Q=uZ(E,A,N,D,W,P),g=this.k[K],o=this.k[K+1],l=n[K],f=n[K+1],h=sZ(ne,ue,G,q,j,Q,g,o,l,f),m=oZ(ne,ue,G,q,j,Q,g,o,l,f);ne=cZ(s,i),ue=dZ(s,i),G=fZ(s,i,u,c,v),q=hZ(s,i,u,c,v,b);var y=Ug(ne,ue,G,q),_=jg(ne,ue,G,q);C=W,z=P,W=N,P=D,N=E,D=A,E=Ug(w,x,h,m),A=jg(x,x,h,m),w=v,x=b,v=u,b=c,u=s,c=i,s=Ug(h,m,y,_),i=jg(h,m,y,_)}Js(this.h,0,s,i),Js(this.h,2,u,c),Js(this.h,4,v,b),Js(this.h,6,w,x),Js(this.h,8,E,A),Js(this.h,10,N,D),Js(this.h,12,W,P),Js(this.h,14,C,z)};ki.prototype._digest=function(e){return e==="hex"?Bn.toHex32(this.h,"big"):Bn.split32(this.h,"big")};function lZ(t,e,r,n,s){var i=t&r^~t&s;return i<0&&(i+=4294967296),i}function uZ(t,e,r,n,s,i){var u=e&n^~e&i;return u<0&&(u+=4294967296),u}function fZ(t,e,r,n,s){var i=t&r^t&s^r&s;return i<0&&(i+=4294967296),i}function hZ(t,e,r,n,s,i){var u=e&n^e&i^n&i;return u<0&&(u+=4294967296),u}function cZ(t,e){var r=Xi(t,e,28),n=Xi(e,t,2),s=Xi(e,t,7),i=r^n^s;return i<0&&(i+=4294967296),i}function dZ(t,e){var r=es(t,e,28),n=es(e,t,2),s=es(e,t,7),i=r^n^s;return i<0&&(i+=4294967296),i}function pZ(t,e){var r=Xi(t,e,14),n=Xi(t,e,18),s=Xi(e,t,9),i=r^n^s;return i<0&&(i+=4294967296),i}function mZ(t,e){var r=es(t,e,14),n=es(t,e,18),s=es(e,t,9),i=r^n^s;return i<0&&(i+=4294967296),i}function vZ(t,e){var r=Xi(t,e,1),n=Xi(t,e,8),s=VT(t,e,7),i=r^n^s;return i<0&&(i+=4294967296),i}function gZ(t,e){var r=es(t,e,1),n=es(t,e,8),s=UT(t,e,7),i=r^n^s;return i<0&&(i+=4294967296),i}function yZ(t,e){var r=Xi(t,e,19),n=Xi(e,t,29),s=VT(t,e,6),i=r^n^s;return i<0&&(i+=4294967296),i}function wZ(t,e){var r=es(t,e,19),n=es(e,t,29),s=UT(t,e,6),i=r^n^s;return i<0&&(i+=4294967296),i}var y2=jt,$T=zT;function Os(){if(!(this instanceof Os))return new Os;$T.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}y2.inherits(Os,$T);var _Z=Os;Os.blockSize=1024;Os.outSize=384;Os.hmacStrength=192;Os.padLength=128;Os.prototype._digest=function(e){return e==="hex"?y2.toHex32(this.h.slice(0,12),"big"):y2.split32(this.h.slice(0,12),"big")};Yu.sha1=zG;Yu.sha224=eZ;Yu.sha256=LT;Yu.sha384=_Z;Yu.sha512=zT;var qT={},Ka=jt,bZ=Qu,Ud=Ka.rotl32,pM=Ka.sum32,Ff=Ka.sum32_3,mM=Ka.sum32_4,HT=bZ.BlockHash;function os(){if(!(this instanceof os))return new os;HT.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Ka.inherits(os,HT);qT.ripemd160=os;os.blockSize=512;os.outSize=160;os.hmacStrength=192;os.padLength=64;os.prototype._update=function(e,r){for(var n=this.h[0],s=this.h[1],i=this.h[2],u=this.h[3],c=this.h[4],v=n,b=s,w=i,x=u,E=c,A=0;A<80;A++){var N=pM(Ud(mM(n,vM(A,s,i,u),e[EZ[A]+r],xZ(A)),IZ[A]),c);n=c,c=u,u=Ud(i,10),i=s,s=N,N=pM(Ud(mM(v,vM(79-A,b,w,x),e[SZ[A]+r],MZ(A)),AZ[A]),E),v=E,E=x,x=Ud(w,10),w=b,b=N}N=Ff(this.h[1],i,x),this.h[1]=Ff(this.h[2],u,E),this.h[2]=Ff(this.h[3],c,v),this.h[3]=Ff(this.h[4],n,b),this.h[4]=Ff(this.h[0],s,w),this.h[0]=N};os.prototype._digest=function(e){return e==="hex"?Ka.toHex32(this.h,"little"):Ka.split32(this.h,"little")};function vM(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function xZ(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function MZ(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var EZ=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],SZ=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],IZ=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],AZ=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],TZ=jt,RZ=fi;function ku(t,e,r){if(!(this instanceof ku))return new ku(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(TZ.toArray(e,r))}var kZ=ku;ku.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),RZ(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};ku.prototype.update=function(e,r){return this.inner.update(e,r),this};ku.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=jt,e.common=Qu,e.sha=Yu,e.ripemd=qT,e.hmac=kZ,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(sv);var zg,gM;function CZ(){return gM||(gM=1,zg={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),zg}(function(t){var e=t,r=sv,n=X_,s=Zn,i=s.assert;function u(b){b.type==="short"?this.curve=new n.short(b):b.type==="edwards"?this.curve=new n.edwards(b):this.curve=new n.mont(b),this.g=this.curve.g,this.n=this.curve.n,this.hash=b.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=u;function c(b,w){Object.defineProperty(e,b,{configurable:!0,enumerable:!0,get:function(){var x=new u(w);return Object.defineProperty(e,b,{configurable:!0,enumerable:!0,value:x}),x}})}c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var v;try{v=CZ()}catch{v=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",v]})})(iv);var PZ=sv,Ta=J_,KT=fi;function Oo(t){if(!(this instanceof Oo))return new Oo(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Ta.toArray(t.entropy,t.entropyEnc||"hex"),r=Ta.toArray(t.nonce,t.nonceEnc||"hex"),n=Ta.toArray(t.pers,t.persEnc||"hex");KT(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var NZ=Oo;Oo.prototype._init=function(e,r,n){var s=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(s),this._reseed=1,this.reseedInterval=281474976710656};Oo.prototype._hmac=function(){return new PZ.hmac(this.hash,this.K)};Oo.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Oo.prototype.reseed=function(e,r,n,s){typeof r!="string"&&(s=n,n=r,r=null),e=Ta.toArray(e,r),n=Ta.toArray(n,s),KT(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Oo.prototype.generate=function(e,r,n,s){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(s=n,n=r,r=null),n&&(n=Ta.toArray(n,s||"hex"),this._update(n));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var u=i.slice(0,e);return this._update(n),this._reseed++,Ta.encode(u,r)};var BZ=Hs,DZ=Zn,w2=DZ.assert;function cn(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var OZ=cn;cn.fromPublic=function(e,r,n){return r instanceof cn?r:new cn(e,{pub:r,pubEnc:n})};cn.fromPrivate=function(e,r,n){return r instanceof cn?r:new cn(e,{priv:r,privEnc:n})};cn.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};cn.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};cn.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};cn.prototype._importPrivate=function(e,r){this.priv=new BZ(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};cn.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?w2(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&w2(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};cn.prototype.derive=function(e){return e.validate()||w2(e.validate(),"public point not validated"),e.mul(this.priv).getX()};cn.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};cn.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};cn.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var kp=Hs,tb=Zn,LZ=tb.assert;function av(t,e){if(t instanceof av)return t;this._importDER(t,e)||(LZ(t.r&&t.s,"Signature without r or s"),this.r=new kp(t.r,16),this.s=new kp(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var FZ=av;function VZ(){this.place=0}function $g(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var s=0,i=0,u=e.place;i<n;i++,u++)s<<=8,s|=t[u],s>>>=0;return s<=127?!1:(e.place=u,s)}function yM(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}av.prototype._importDER=function(e,r){e=tb.toArray(e,r);var n=new VZ;if(e[n.place++]!==48)return!1;var s=$g(e,n);if(s===!1||s+n.place!==e.length||e[n.place++]!==2)return!1;var i=$g(e,n);if(i===!1||e[n.place]&128)return!1;var u=e.slice(n.place,i+n.place);if(n.place+=i,e[n.place++]!==2)return!1;var c=$g(e,n);if(c===!1||e.length!==c+n.place||e[n.place]&128)return!1;var v=e.slice(n.place,c+n.place);if(u[0]===0)if(u[1]&128)u=u.slice(1);else return!1;if(v[0]===0)if(v[1]&128)v=v.slice(1);else return!1;return this.r=new kp(u),this.s=new kp(v),this.recoveryParam=null,!0};function qg(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}av.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=yM(r),n=yM(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var s=[2];qg(s,r.length),s=s.concat(r),s.push(2),qg(s,n.length);var i=s.concat(n),u=[48];return qg(u,i.length),u=u.concat(i),tb.encode(u,e)};var Hg,wM;function UZ(){if(wM)return Hg;wM=1;var t=Hs,e=NZ,r=Zn,n=iv,s=H_(),i=r.assert,u=OZ,c=FZ;function v(b){if(!(this instanceof v))return new v(b);typeof b=="string"&&(i(Object.prototype.hasOwnProperty.call(n,b),"Unknown curve "+b),b=n[b]),b instanceof n.PresetCurve&&(b={curve:b}),this.curve=b.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=b.curve.g,this.g.precompute(b.curve.n.bitLength()+1),this.hash=b.hash||b.curve.hash}return Hg=v,v.prototype.keyPair=function(w){return new u(this,w)},v.prototype.keyFromPrivate=function(w,x){return u.fromPrivate(this,w,x)},v.prototype.keyFromPublic=function(w,x){return u.fromPublic(this,w,x)},v.prototype.genKeyPair=function(w){w||(w={});for(var x=new e({hash:this.hash,pers:w.pers,persEnc:w.persEnc||"utf8",entropy:w.entropy||s(this.hash.hmacStrength),entropyEnc:w.entropy&&w.entropyEnc||"utf8",nonce:this.n.toArray()}),E=this.n.byteLength(),A=this.n.sub(new t(2));;){var N=new t(x.generate(E));if(!(N.cmp(A)>0))return N.iaddn(1),this.keyFromPrivate(N)}},v.prototype._truncateToN=function(w,x,E){var A;if(t.isBN(w)||typeof w=="number")w=new t(w,16),A=w.byteLength();else if(typeof w=="object")A=w.length,w=new t(w,16);else{var N=w.toString();A=N.length+1>>>1,w=new t(N,16)}typeof E!="number"&&(E=A*8);var D=E-this.n.bitLength();return D>0&&(w=w.ushrn(D)),!x&&w.cmp(this.n)>=0?w.sub(this.n):w},v.prototype.sign=function(w,x,E,A){if(typeof E=="object"&&(A=E,E=null),A||(A={}),typeof w!="string"&&typeof w!="number"&&!t.isBN(w)){i(typeof w=="object"&&w&&typeof w.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),i(w.length>>>0===w.length);for(var N=0;N<w.length;N++)i((w[N]&255)===w[N])}x=this.keyFromPrivate(x,E),w=this._truncateToN(w,!1,A.msgBitLength),i(!w.isNeg(),"Can not sign a negative message");var D=this.n.byteLength(),W=x.getPrivate().toArray("be",D),P=w.toArray("be",D);i(new t(P).eq(w),"Can not sign message");for(var C=new e({hash:this.hash,entropy:W,nonce:P,pers:A.pers,persEnc:A.persEnc||"utf8"}),z=this.n.sub(new t(1)),K=0;;K++){var ne=A.k?A.k(K):new t(C.generate(this.n.byteLength()));if(ne=this._truncateToN(ne,!0),!(ne.cmpn(1)<=0||ne.cmp(z)>=0)){var ue=this.g.mul(ne);if(!ue.isInfinity()){var G=ue.getX(),q=G.umod(this.n);if(q.cmpn(0)!==0){var j=ne.invm(this.n).mul(q.mul(x.getPrivate()).iadd(w));if(j=j.umod(this.n),j.cmpn(0)!==0){var Q=(ue.getY().isOdd()?1:0)|(G.cmp(q)!==0?2:0);return A.canonical&&j.cmp(this.nh)>0&&(j=this.n.sub(j),Q^=1),new c({r:q,s:j,recoveryParam:Q})}}}}}},v.prototype.verify=function(w,x,E,A,N){N||(N={}),w=this._truncateToN(w,!1,N.msgBitLength),E=this.keyFromPublic(E,A),x=new c(x,"hex");var D=x.r,W=x.s;if(D.cmpn(1)<0||D.cmp(this.n)>=0||W.cmpn(1)<0||W.cmp(this.n)>=0)return!1;var P=W.invm(this.n),C=P.mul(w).umod(this.n),z=P.mul(D).umod(this.n),K;return this.curve._maxwellTrick?(K=this.g.jmulAdd(C,E.getPublic(),z),K.isInfinity()?!1:K.eqXToP(D)):(K=this.g.mulAdd(C,E.getPublic(),z),K.isInfinity()?!1:K.getX().umod(this.n).cmp(D)===0)},v.prototype.recoverPubKey=function(b,w,x,E){i((3&x)===x,"The recovery param is more than two bits"),w=new c(w,E);var A=this.n,N=new t(b),D=w.r,W=w.s,P=x&1,C=x>>1;if(D.cmp(this.curve.p.umod(this.curve.n))>=0&&C)throw new Error("Unable to find sencond key candinate");C?D=this.curve.pointFromX(D.add(this.curve.n),P):D=this.curve.pointFromX(D,P);var z=w.r.invm(A),K=A.sub(N).mul(z).umod(A),ne=W.mul(z).umod(A);return this.g.mulAdd(K,D,ne)},v.prototype.getKeyRecoveryParam=function(b,w,x,E){if(w=new c(w,E),w.recoveryParam!==null)return w.recoveryParam;for(var A=0;A<4;A++){var N;try{N=this.recoverPubKey(b,w,A)}catch{continue}if(N.eq(x))return A}throw new Error("Unable to find valid recovery factor")},Hg}var zc=Zn,WT=zc.assert,_M=zc.parseBytes,Xu=zc.cachedProperty;function zr(t,e){this.eddsa=t,this._secret=_M(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=_M(e.pub)}zr.fromPublic=function(e,r){return r instanceof zr?r:new zr(e,{pub:r})};zr.fromSecret=function(e,r){return r instanceof zr?r:new zr(e,{secret:r})};zr.prototype.secret=function(){return this._secret};Xu(zr,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});Xu(zr,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});Xu(zr,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,s=r.slice(0,e.encodingLength);return s[0]&=248,s[n]&=127,s[n]|=64,s});Xu(zr,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});Xu(zr,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});Xu(zr,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});zr.prototype.sign=function(e){return WT(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};zr.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};zr.prototype.getSecret=function(e){return WT(this._secret,"KeyPair is public only"),zc.encode(this.secret(),e)};zr.prototype.getPublic=function(e){return zc.encode(this.pubBytes(),e)};var jZ=zr,zZ=Hs,lv=Zn,bM=lv.assert,uv=lv.cachedProperty,$Z=lv.parseBytes;function tl(t,e){this.eddsa=t,typeof e!="object"&&(e=$Z(e)),Array.isArray(e)&&(bM(e.length===t.encodingLength*2,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),bM(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof zZ&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}uv(tl,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});uv(tl,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});uv(tl,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});uv(tl,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});tl.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};tl.prototype.toHex=function(){return lv.encode(this.toBytes(),"hex").toUpperCase()};var qZ=tl,HZ=sv,KZ=iv,Cu=Zn,WZ=Cu.assert,GT=Cu.parseBytes,ZT=jZ,xM=qZ;function Dn(t){if(WZ(t==="ed25519","only tested with ed25519 so far"),!(this instanceof Dn))return new Dn(t);t=KZ[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=HZ.sha512}var GZ=Dn;Dn.prototype.sign=function(e,r){e=GT(e);var n=this.keyFromSecret(r),s=this.hashInt(n.messagePrefix(),e),i=this.g.mul(s),u=this.encodePoint(i),c=this.hashInt(u,n.pubBytes(),e).mul(n.priv()),v=s.add(c).umod(this.curve.n);return this.makeSignature({R:i,S:v,Rencoded:u})};Dn.prototype.verify=function(e,r,n){if(e=GT(e),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var s=this.keyFromPublic(n),i=this.hashInt(r.Rencoded(),s.pubBytes(),e),u=this.g.mul(r.S()),c=r.R().add(s.pub().mul(i));return c.eq(u)};Dn.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return Cu.intFromLE(e.digest()).umod(this.curve.n)};Dn.prototype.keyFromPublic=function(e){return ZT.fromPublic(this,e)};Dn.prototype.keyFromSecret=function(e){return ZT.fromSecret(this,e)};Dn.prototype.makeSignature=function(e){return e instanceof xM?e:new xM(this,e)};Dn.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};Dn.prototype.decodePoint=function(e){e=Cu.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),s=(e[r]&128)!==0,i=Cu.intFromLE(n);return this.curve.pointFromY(i,s)};Dn.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};Dn.prototype.decodeInt=function(e){return Cu.intFromLE(e)};Dn.prototype.isPoint=function(e){return e instanceof this.pointClass};var MM;function rb(){return MM||(MM=1,function(t){var e=t;e.version=ZW.version,e.utils=Zn,e.rand=H_(),e.curve=X_,e.curves=iv,e.ec=UZ(),e.eddsa=GZ}(Fg)),Fg}var Pi={},Kg={},nb={exports:{}};nb.exports;(function(t){(function(e,r){function n(g,o){if(!g)throw new Error(o||"Assertion failed")}function s(g,o){g.super_=o;var l=function(){};l.prototype=o.prototype,g.prototype=new l,g.prototype.constructor=g}function i(g,o,l){if(i.isBN(g))return g;this.negative=0,this.words=null,this.length=0,this.red=null,g!==null&&((o==="le"||o==="be")&&(l=o,o=10),this._init(g||0,o||10,l||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=ui.Buffer}catch{}i.isBN=function(o){return o instanceof i?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===i.wordSize&&Array.isArray(o.words)},i.max=function(o,l){return o.cmp(l)>0?o:l},i.min=function(o,l){return o.cmp(l)<0?o:l},i.prototype._init=function(o,l,f){if(typeof o=="number")return this._initNumber(o,l,f);if(typeof o=="object")return this._initArray(o,l,f);l==="hex"&&(l=16),n(l===(l|0)&&l>=2&&l<=36),o=o.toString().replace(/\s+/g,"");var h=0;o[0]==="-"&&(h++,this.negative=1),h<o.length&&(l===16?this._parseHex(o,h,f):(this._parseBase(o,l,h),f==="le"&&this._initArray(this.toArray(),l,f)))},i.prototype._initNumber=function(o,l,f){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(n(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),l,f)},i.prototype._initArray=function(o,l,f){if(n(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var m,y,_=0;if(f==="be")for(h=o.length-1,m=0;h>=0;h-=3)y=o[h]|o[h-1]<<8|o[h-2]<<16,this.words[m]|=y<<_&67108863,this.words[m+1]=y>>>26-_&67108863,_+=24,_>=26&&(_-=26,m++);else if(f==="le")for(h=0,m=0;h<o.length;h+=3)y=o[h]|o[h+1]<<8|o[h+2]<<16,this.words[m]|=y<<_&67108863,this.words[m+1]=y>>>26-_&67108863,_+=24,_>=26&&(_-=26,m++);return this.strip()};function c(g,o){var l=g.charCodeAt(o);return l>=65&&l<=70?l-55:l>=97&&l<=102?l-87:l-48&15}function v(g,o,l){var f=c(g,l);return l-1>=o&&(f|=c(g,l-1)<<4),f}i.prototype._parseHex=function(o,l,f){this.length=Math.ceil((o.length-l)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var m=0,y=0,_;if(f==="be")for(h=o.length-1;h>=l;h-=2)_=v(o,l,h)<<m,this.words[y]|=_&67108863,m>=18?(m-=18,y+=1,this.words[y]|=_>>>26):m+=8;else{var d=o.length-l;for(h=d%2===0?l+1:l;h<o.length;h+=2)_=v(o,l,h)<<m,this.words[y]|=_&67108863,m>=18?(m-=18,y+=1,this.words[y]|=_>>>26):m+=8}this.strip()};function b(g,o,l,f){for(var h=0,m=Math.min(g.length,l),y=o;y<m;y++){var _=g.charCodeAt(y)-48;h*=f,_>=49?h+=_-49+10:_>=17?h+=_-17+10:h+=_}return h}i.prototype._parseBase=function(o,l,f){this.words=[0],this.length=1;for(var h=0,m=1;m<=67108863;m*=l)h++;h--,m=m/l|0;for(var y=o.length-f,_=y%h,d=Math.min(y,y-_)+f,a=0,p=f;p<d;p+=h)a=b(o,p,p+h,l),this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(_!==0){var S=1;for(a=b(o,p,o.length,l),p=0;p<_;p++)S*=l;this.imuln(S),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},i.prototype.copy=function(o){o.words=new Array(this.length);for(var l=0;l<this.length;l++)o.words[l]=this.words[l];o.length=this.length,o.negative=this.negative,o.red=this.red},i.prototype.clone=function(){var o=new i(null);return this.copy(o),o},i.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(o,l){o=o||10,l=l|0||1;var f;if(o===16||o==="hex"){f="";for(var h=0,m=0,y=0;y<this.length;y++){var _=this.words[y],d=((_<<h|m)&16777215).toString(16);m=_>>>24-h&16777215,h+=2,h>=26&&(h-=26,y--),m!==0||y!==this.length-1?f=w[6-d.length]+d+f:f=d+f}for(m!==0&&(f=m.toString(16)+f);f.length%l!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(o===(o|0)&&o>=2&&o<=36){var a=x[o],p=E[o];f="";var S=this.clone();for(S.negative=0;!S.isZero();){var B=S.modn(p).toString(o);S=S.idivn(p),S.isZero()?f=B+f:f=w[a-B.length]+B+f}for(this.isZero()&&(f="0"+f);f.length%l!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(o,l){return n(typeof u<"u"),this.toArrayLike(u,o,l)},i.prototype.toArray=function(o,l){return this.toArrayLike(Array,o,l)},i.prototype.toArrayLike=function(o,l,f){var h=this.byteLength(),m=f||Math.max(1,h);n(h<=m,"byte array longer than desired length"),n(m>0,"Requested array length <= 0"),this.strip();var y=l==="le",_=new o(m),d,a,p=this.clone();if(y){for(a=0;!p.isZero();a++)d=p.andln(255),p.iushrn(8),_[a]=d;for(;a<m;a++)_[a]=0}else{for(a=0;a<m-h;a++)_[a]=0;for(a=0;!p.isZero();a++)d=p.andln(255),p.iushrn(8),_[m-a-1]=d}return _},Math.clz32?i.prototype._countBits=function(o){return 32-Math.clz32(o)}:i.prototype._countBits=function(o){var l=o,f=0;return l>=4096&&(f+=13,l>>>=13),l>=64&&(f+=7,l>>>=7),l>=8&&(f+=4,l>>>=4),l>=2&&(f+=2,l>>>=2),f+l},i.prototype._zeroBits=function(o){if(o===0)return 26;var l=o,f=0;return l&8191||(f+=13,l>>>=13),l&127||(f+=7,l>>>=7),l&15||(f+=4,l>>>=4),l&3||(f+=2,l>>>=2),l&1||f++,f},i.prototype.bitLength=function(){var o=this.words[this.length-1],l=this._countBits(o);return(this.length-1)*26+l};function A(g){for(var o=new Array(g.bitLength()),l=0;l<o.length;l++){var f=l/26|0,h=l%26;o[l]=(g.words[f]&1<<h)>>>h}return o}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,l=0;l<this.length;l++){var f=this._zeroBits(this.words[l]);if(o+=f,f!==26)break}return o},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},i.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var l=0;l<o.length;l++)this.words[l]=this.words[l]|o.words[l];return this.strip()},i.prototype.ior=function(o){return n((this.negative|o.negative)===0),this.iuor(o)},i.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},i.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},i.prototype.iuand=function(o){var l;this.length>o.length?l=o:l=this;for(var f=0;f<l.length;f++)this.words[f]=this.words[f]&o.words[f];return this.length=l.length,this.strip()},i.prototype.iand=function(o){return n((this.negative|o.negative)===0),this.iuand(o)},i.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},i.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},i.prototype.iuxor=function(o){var l,f;this.length>o.length?(l=this,f=o):(l=o,f=this);for(var h=0;h<f.length;h++)this.words[h]=l.words[h]^f.words[h];if(this!==l)for(;h<l.length;h++)this.words[h]=l.words[h];return this.length=l.length,this.strip()},i.prototype.ixor=function(o){return n((this.negative|o.negative)===0),this.iuxor(o)},i.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},i.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},i.prototype.inotn=function(o){n(typeof o=="number"&&o>=0);var l=Math.ceil(o/26)|0,f=o%26;this._expand(l),f>0&&l--;for(var h=0;h<l;h++)this.words[h]=~this.words[h]&67108863;return f>0&&(this.words[h]=~this.words[h]&67108863>>26-f),this.strip()},i.prototype.notn=function(o){return this.clone().inotn(o)},i.prototype.setn=function(o,l){n(typeof o=="number"&&o>=0);var f=o/26|0,h=o%26;return this._expand(f+1),l?this.words[f]=this.words[f]|1<<h:this.words[f]=this.words[f]&~(1<<h),this.strip()},i.prototype.iadd=function(o){var l;if(this.negative!==0&&o.negative===0)return this.negative=0,l=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,l=this.isub(o),o.negative=1,l._normSign();var f,h;this.length>o.length?(f=this,h=o):(f=o,h=this);for(var m=0,y=0;y<h.length;y++)l=(f.words[y]|0)+(h.words[y]|0)+m,this.words[y]=l&67108863,m=l>>>26;for(;m!==0&&y<f.length;y++)l=(f.words[y]|0)+m,this.words[y]=l&67108863,m=l>>>26;if(this.length=f.length,m!==0)this.words[this.length]=m,this.length++;else if(f!==this)for(;y<f.length;y++)this.words[y]=f.words[y];return this},i.prototype.add=function(o){var l;return o.negative!==0&&this.negative===0?(o.negative=0,l=this.sub(o),o.negative^=1,l):o.negative===0&&this.negative!==0?(this.negative=0,l=o.sub(this),this.negative=1,l):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},i.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var l=this.iadd(o);return o.negative=1,l._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var f=this.cmp(o);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,m;f>0?(h=this,m=o):(h=o,m=this);for(var y=0,_=0;_<m.length;_++)l=(h.words[_]|0)-(m.words[_]|0)+y,y=l>>26,this.words[_]=l&67108863;for(;y!==0&&_<h.length;_++)l=(h.words[_]|0)+y,y=l>>26,this.words[_]=l&67108863;if(y===0&&_<h.length&&h!==this)for(;_<h.length;_++)this.words[_]=h.words[_];return this.length=Math.max(this.length,_),h!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(o){return this.clone().isub(o)};function N(g,o,l){l.negative=o.negative^g.negative;var f=g.length+o.length|0;l.length=f,f=f-1|0;var h=g.words[0]|0,m=o.words[0]|0,y=h*m,_=y&67108863,d=y/67108864|0;l.words[0]=_;for(var a=1;a<f;a++){for(var p=d>>>26,S=d&67108863,B=Math.min(a,o.length-1),Z=Math.max(0,a-g.length+1);Z<=B;Z++){var X=a-Z|0;h=g.words[X]|0,m=o.words[Z]|0,y=h*m+S,p+=y/67108864|0,S=y&67108863}l.words[a]=S|0,d=p|0}return d!==0?l.words[a]=d|0:l.length--,l.strip()}var D=function(o,l,f){var h=o.words,m=l.words,y=f.words,_=0,d,a,p,S=h[0]|0,B=S&8191,Z=S>>>13,X=h[1]|0,oe=X&8191,H=X>>>13,ee=h[2]|0,se=ee&8191,le=ee>>>13,Ge=h[3]|0,he=Ge&8191,de=Ge>>>13,Ye=h[4]|0,xe=Ye&8191,Se=Ye>>>13,st=h[5]|0,Te=st&8191,ke=st>>>13,it=h[6]|0,Ie=it&8191,Be=it>>>13,ft=h[7]|0,Ee=ft&8191,Me=ft>>>13,rt=h[8]|0,V=rt&8191,R=rt>>>13,L=h[9]|0,T=L&8191,I=L>>>13,k=m[0]|0,F=k&8191,Y=k>>>13,pe=m[1]|0,ie=pe&8191,ge=pe>>>13,qe=m[2]|0,be=qe&8191,Ce=qe>>>13,et=m[3]|0,Ne=et&8191,Fe=et>>>13,gt=m[4]|0,De=gt&8191,Oe=gt>>>13,_t=m[5]|0,Pe=_t&8191,Ve=_t>>>13,dt=m[6]|0,J=dt&8191,re=dt>>>13,_e=m[7]|0,ae=_e&8191,me=_e>>>13,$e=m[8]|0,ve=$e&8191,ye=$e>>>13,ze=m[9]|0,ce=ze&8191,we=ze>>>13;f.negative=o.negative^l.negative,f.length=19,d=Math.imul(B,F),a=Math.imul(B,Y),a=a+Math.imul(Z,F)|0,p=Math.imul(Z,Y);var We=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(We>>>26)|0,We&=67108863,d=Math.imul(oe,F),a=Math.imul(oe,Y),a=a+Math.imul(H,F)|0,p=Math.imul(H,Y),d=d+Math.imul(B,ie)|0,a=a+Math.imul(B,ge)|0,a=a+Math.imul(Z,ie)|0,p=p+Math.imul(Z,ge)|0;var Ze=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,d=Math.imul(se,F),a=Math.imul(se,Y),a=a+Math.imul(le,F)|0,p=Math.imul(le,Y),d=d+Math.imul(oe,ie)|0,a=a+Math.imul(oe,ge)|0,a=a+Math.imul(H,ie)|0,p=p+Math.imul(H,ge)|0,d=d+Math.imul(B,be)|0,a=a+Math.imul(B,Ce)|0,a=a+Math.imul(Z,be)|0,p=p+Math.imul(Z,Ce)|0;var yt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(yt>>>26)|0,yt&=67108863,d=Math.imul(he,F),a=Math.imul(he,Y),a=a+Math.imul(de,F)|0,p=Math.imul(de,Y),d=d+Math.imul(se,ie)|0,a=a+Math.imul(se,ge)|0,a=a+Math.imul(le,ie)|0,p=p+Math.imul(le,ge)|0,d=d+Math.imul(oe,be)|0,a=a+Math.imul(oe,Ce)|0,a=a+Math.imul(H,be)|0,p=p+Math.imul(H,Ce)|0,d=d+Math.imul(B,Ne)|0,a=a+Math.imul(B,Fe)|0,a=a+Math.imul(Z,Ne)|0,p=p+Math.imul(Z,Fe)|0;var ct=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(ct>>>26)|0,ct&=67108863,d=Math.imul(xe,F),a=Math.imul(xe,Y),a=a+Math.imul(Se,F)|0,p=Math.imul(Se,Y),d=d+Math.imul(he,ie)|0,a=a+Math.imul(he,ge)|0,a=a+Math.imul(de,ie)|0,p=p+Math.imul(de,ge)|0,d=d+Math.imul(se,be)|0,a=a+Math.imul(se,Ce)|0,a=a+Math.imul(le,be)|0,p=p+Math.imul(le,Ce)|0,d=d+Math.imul(oe,Ne)|0,a=a+Math.imul(oe,Fe)|0,a=a+Math.imul(H,Ne)|0,p=p+Math.imul(H,Fe)|0,d=d+Math.imul(B,De)|0,a=a+Math.imul(B,Oe)|0,a=a+Math.imul(Z,De)|0,p=p+Math.imul(Z,Oe)|0;var at=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(at>>>26)|0,at&=67108863,d=Math.imul(Te,F),a=Math.imul(Te,Y),a=a+Math.imul(ke,F)|0,p=Math.imul(ke,Y),d=d+Math.imul(xe,ie)|0,a=a+Math.imul(xe,ge)|0,a=a+Math.imul(Se,ie)|0,p=p+Math.imul(Se,ge)|0,d=d+Math.imul(he,be)|0,a=a+Math.imul(he,Ce)|0,a=a+Math.imul(de,be)|0,p=p+Math.imul(de,Ce)|0,d=d+Math.imul(se,Ne)|0,a=a+Math.imul(se,Fe)|0,a=a+Math.imul(le,Ne)|0,p=p+Math.imul(le,Fe)|0,d=d+Math.imul(oe,De)|0,a=a+Math.imul(oe,Oe)|0,a=a+Math.imul(H,De)|0,p=p+Math.imul(H,Oe)|0,d=d+Math.imul(B,Pe)|0,a=a+Math.imul(B,Ve)|0,a=a+Math.imul(Z,Pe)|0,p=p+Math.imul(Z,Ve)|0;var pt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(pt>>>26)|0,pt&=67108863,d=Math.imul(Ie,F),a=Math.imul(Ie,Y),a=a+Math.imul(Be,F)|0,p=Math.imul(Be,Y),d=d+Math.imul(Te,ie)|0,a=a+Math.imul(Te,ge)|0,a=a+Math.imul(ke,ie)|0,p=p+Math.imul(ke,ge)|0,d=d+Math.imul(xe,be)|0,a=a+Math.imul(xe,Ce)|0,a=a+Math.imul(Se,be)|0,p=p+Math.imul(Se,Ce)|0,d=d+Math.imul(he,Ne)|0,a=a+Math.imul(he,Fe)|0,a=a+Math.imul(de,Ne)|0,p=p+Math.imul(de,Fe)|0,d=d+Math.imul(se,De)|0,a=a+Math.imul(se,Oe)|0,a=a+Math.imul(le,De)|0,p=p+Math.imul(le,Oe)|0,d=d+Math.imul(oe,Pe)|0,a=a+Math.imul(oe,Ve)|0,a=a+Math.imul(H,Pe)|0,p=p+Math.imul(H,Ve)|0,d=d+Math.imul(B,J)|0,a=a+Math.imul(B,re)|0,a=a+Math.imul(Z,J)|0,p=p+Math.imul(Z,re)|0;var Ct=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,d=Math.imul(Ee,F),a=Math.imul(Ee,Y),a=a+Math.imul(Me,F)|0,p=Math.imul(Me,Y),d=d+Math.imul(Ie,ie)|0,a=a+Math.imul(Ie,ge)|0,a=a+Math.imul(Be,ie)|0,p=p+Math.imul(Be,ge)|0,d=d+Math.imul(Te,be)|0,a=a+Math.imul(Te,Ce)|0,a=a+Math.imul(ke,be)|0,p=p+Math.imul(ke,Ce)|0,d=d+Math.imul(xe,Ne)|0,a=a+Math.imul(xe,Fe)|0,a=a+Math.imul(Se,Ne)|0,p=p+Math.imul(Se,Fe)|0,d=d+Math.imul(he,De)|0,a=a+Math.imul(he,Oe)|0,a=a+Math.imul(de,De)|0,p=p+Math.imul(de,Oe)|0,d=d+Math.imul(se,Pe)|0,a=a+Math.imul(se,Ve)|0,a=a+Math.imul(le,Pe)|0,p=p+Math.imul(le,Ve)|0,d=d+Math.imul(oe,J)|0,a=a+Math.imul(oe,re)|0,a=a+Math.imul(H,J)|0,p=p+Math.imul(H,re)|0,d=d+Math.imul(B,ae)|0,a=a+Math.imul(B,me)|0,a=a+Math.imul(Z,ae)|0,p=p+Math.imul(Z,me)|0;var Ot=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,d=Math.imul(V,F),a=Math.imul(V,Y),a=a+Math.imul(R,F)|0,p=Math.imul(R,Y),d=d+Math.imul(Ee,ie)|0,a=a+Math.imul(Ee,ge)|0,a=a+Math.imul(Me,ie)|0,p=p+Math.imul(Me,ge)|0,d=d+Math.imul(Ie,be)|0,a=a+Math.imul(Ie,Ce)|0,a=a+Math.imul(Be,be)|0,p=p+Math.imul(Be,Ce)|0,d=d+Math.imul(Te,Ne)|0,a=a+Math.imul(Te,Fe)|0,a=a+Math.imul(ke,Ne)|0,p=p+Math.imul(ke,Fe)|0,d=d+Math.imul(xe,De)|0,a=a+Math.imul(xe,Oe)|0,a=a+Math.imul(Se,De)|0,p=p+Math.imul(Se,Oe)|0,d=d+Math.imul(he,Pe)|0,a=a+Math.imul(he,Ve)|0,a=a+Math.imul(de,Pe)|0,p=p+Math.imul(de,Ve)|0,d=d+Math.imul(se,J)|0,a=a+Math.imul(se,re)|0,a=a+Math.imul(le,J)|0,p=p+Math.imul(le,re)|0,d=d+Math.imul(oe,ae)|0,a=a+Math.imul(oe,me)|0,a=a+Math.imul(H,ae)|0,p=p+Math.imul(H,me)|0,d=d+Math.imul(B,ve)|0,a=a+Math.imul(B,ye)|0,a=a+Math.imul(Z,ve)|0,p=p+Math.imul(Z,ye)|0;var Tt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,d=Math.imul(T,F),a=Math.imul(T,Y),a=a+Math.imul(I,F)|0,p=Math.imul(I,Y),d=d+Math.imul(V,ie)|0,a=a+Math.imul(V,ge)|0,a=a+Math.imul(R,ie)|0,p=p+Math.imul(R,ge)|0,d=d+Math.imul(Ee,be)|0,a=a+Math.imul(Ee,Ce)|0,a=a+Math.imul(Me,be)|0,p=p+Math.imul(Me,Ce)|0,d=d+Math.imul(Ie,Ne)|0,a=a+Math.imul(Ie,Fe)|0,a=a+Math.imul(Be,Ne)|0,p=p+Math.imul(Be,Fe)|0,d=d+Math.imul(Te,De)|0,a=a+Math.imul(Te,Oe)|0,a=a+Math.imul(ke,De)|0,p=p+Math.imul(ke,Oe)|0,d=d+Math.imul(xe,Pe)|0,a=a+Math.imul(xe,Ve)|0,a=a+Math.imul(Se,Pe)|0,p=p+Math.imul(Se,Ve)|0,d=d+Math.imul(he,J)|0,a=a+Math.imul(he,re)|0,a=a+Math.imul(de,J)|0,p=p+Math.imul(de,re)|0,d=d+Math.imul(se,ae)|0,a=a+Math.imul(se,me)|0,a=a+Math.imul(le,ae)|0,p=p+Math.imul(le,me)|0,d=d+Math.imul(oe,ve)|0,a=a+Math.imul(oe,ye)|0,a=a+Math.imul(H,ve)|0,p=p+Math.imul(H,ye)|0,d=d+Math.imul(B,ce)|0,a=a+Math.imul(B,we)|0,a=a+Math.imul(Z,ce)|0,p=p+Math.imul(Z,we)|0;var xt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(xt>>>26)|0,xt&=67108863,d=Math.imul(T,ie),a=Math.imul(T,ge),a=a+Math.imul(I,ie)|0,p=Math.imul(I,ge),d=d+Math.imul(V,be)|0,a=a+Math.imul(V,Ce)|0,a=a+Math.imul(R,be)|0,p=p+Math.imul(R,Ce)|0,d=d+Math.imul(Ee,Ne)|0,a=a+Math.imul(Ee,Fe)|0,a=a+Math.imul(Me,Ne)|0,p=p+Math.imul(Me,Fe)|0,d=d+Math.imul(Ie,De)|0,a=a+Math.imul(Ie,Oe)|0,a=a+Math.imul(Be,De)|0,p=p+Math.imul(Be,Oe)|0,d=d+Math.imul(Te,Pe)|0,a=a+Math.imul(Te,Ve)|0,a=a+Math.imul(ke,Pe)|0,p=p+Math.imul(ke,Ve)|0,d=d+Math.imul(xe,J)|0,a=a+Math.imul(xe,re)|0,a=a+Math.imul(Se,J)|0,p=p+Math.imul(Se,re)|0,d=d+Math.imul(he,ae)|0,a=a+Math.imul(he,me)|0,a=a+Math.imul(de,ae)|0,p=p+Math.imul(de,me)|0,d=d+Math.imul(se,ve)|0,a=a+Math.imul(se,ye)|0,a=a+Math.imul(le,ve)|0,p=p+Math.imul(le,ye)|0,d=d+Math.imul(oe,ce)|0,a=a+Math.imul(oe,we)|0,a=a+Math.imul(H,ce)|0,p=p+Math.imul(H,we)|0;var zt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(zt>>>26)|0,zt&=67108863,d=Math.imul(T,be),a=Math.imul(T,Ce),a=a+Math.imul(I,be)|0,p=Math.imul(I,Ce),d=d+Math.imul(V,Ne)|0,a=a+Math.imul(V,Fe)|0,a=a+Math.imul(R,Ne)|0,p=p+Math.imul(R,Fe)|0,d=d+Math.imul(Ee,De)|0,a=a+Math.imul(Ee,Oe)|0,a=a+Math.imul(Me,De)|0,p=p+Math.imul(Me,Oe)|0,d=d+Math.imul(Ie,Pe)|0,a=a+Math.imul(Ie,Ve)|0,a=a+Math.imul(Be,Pe)|0,p=p+Math.imul(Be,Ve)|0,d=d+Math.imul(Te,J)|0,a=a+Math.imul(Te,re)|0,a=a+Math.imul(ke,J)|0,p=p+Math.imul(ke,re)|0,d=d+Math.imul(xe,ae)|0,a=a+Math.imul(xe,me)|0,a=a+Math.imul(Se,ae)|0,p=p+Math.imul(Se,me)|0,d=d+Math.imul(he,ve)|0,a=a+Math.imul(he,ye)|0,a=a+Math.imul(de,ve)|0,p=p+Math.imul(de,ye)|0,d=d+Math.imul(se,ce)|0,a=a+Math.imul(se,we)|0,a=a+Math.imul(le,ce)|0,p=p+Math.imul(le,we)|0;var Pt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,d=Math.imul(T,Ne),a=Math.imul(T,Fe),a=a+Math.imul(I,Ne)|0,p=Math.imul(I,Fe),d=d+Math.imul(V,De)|0,a=a+Math.imul(V,Oe)|0,a=a+Math.imul(R,De)|0,p=p+Math.imul(R,Oe)|0,d=d+Math.imul(Ee,Pe)|0,a=a+Math.imul(Ee,Ve)|0,a=a+Math.imul(Me,Pe)|0,p=p+Math.imul(Me,Ve)|0,d=d+Math.imul(Ie,J)|0,a=a+Math.imul(Ie,re)|0,a=a+Math.imul(Be,J)|0,p=p+Math.imul(Be,re)|0,d=d+Math.imul(Te,ae)|0,a=a+Math.imul(Te,me)|0,a=a+Math.imul(ke,ae)|0,p=p+Math.imul(ke,me)|0,d=d+Math.imul(xe,ve)|0,a=a+Math.imul(xe,ye)|0,a=a+Math.imul(Se,ve)|0,p=p+Math.imul(Se,ye)|0,d=d+Math.imul(he,ce)|0,a=a+Math.imul(he,we)|0,a=a+Math.imul(de,ce)|0,p=p+Math.imul(de,we)|0;var Mt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,d=Math.imul(T,De),a=Math.imul(T,Oe),a=a+Math.imul(I,De)|0,p=Math.imul(I,Oe),d=d+Math.imul(V,Pe)|0,a=a+Math.imul(V,Ve)|0,a=a+Math.imul(R,Pe)|0,p=p+Math.imul(R,Ve)|0,d=d+Math.imul(Ee,J)|0,a=a+Math.imul(Ee,re)|0,a=a+Math.imul(Me,J)|0,p=p+Math.imul(Me,re)|0,d=d+Math.imul(Ie,ae)|0,a=a+Math.imul(Ie,me)|0,a=a+Math.imul(Be,ae)|0,p=p+Math.imul(Be,me)|0,d=d+Math.imul(Te,ve)|0,a=a+Math.imul(Te,ye)|0,a=a+Math.imul(ke,ve)|0,p=p+Math.imul(ke,ye)|0,d=d+Math.imul(xe,ce)|0,a=a+Math.imul(xe,we)|0,a=a+Math.imul(Se,ce)|0,p=p+Math.imul(Se,we)|0;var St=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(St>>>26)|0,St&=67108863,d=Math.imul(T,Pe),a=Math.imul(T,Ve),a=a+Math.imul(I,Pe)|0,p=Math.imul(I,Ve),d=d+Math.imul(V,J)|0,a=a+Math.imul(V,re)|0,a=a+Math.imul(R,J)|0,p=p+Math.imul(R,re)|0,d=d+Math.imul(Ee,ae)|0,a=a+Math.imul(Ee,me)|0,a=a+Math.imul(Me,ae)|0,p=p+Math.imul(Me,me)|0,d=d+Math.imul(Ie,ve)|0,a=a+Math.imul(Ie,ye)|0,a=a+Math.imul(Be,ve)|0,p=p+Math.imul(Be,ye)|0,d=d+Math.imul(Te,ce)|0,a=a+Math.imul(Te,we)|0,a=a+Math.imul(ke,ce)|0,p=p+Math.imul(ke,we)|0;var Lt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,d=Math.imul(T,J),a=Math.imul(T,re),a=a+Math.imul(I,J)|0,p=Math.imul(I,re),d=d+Math.imul(V,ae)|0,a=a+Math.imul(V,me)|0,a=a+Math.imul(R,ae)|0,p=p+Math.imul(R,me)|0,d=d+Math.imul(Ee,ve)|0,a=a+Math.imul(Ee,ye)|0,a=a+Math.imul(Me,ve)|0,p=p+Math.imul(Me,ye)|0,d=d+Math.imul(Ie,ce)|0,a=a+Math.imul(Ie,we)|0,a=a+Math.imul(Be,ce)|0,p=p+Math.imul(Be,we)|0;var ut=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(ut>>>26)|0,ut&=67108863,d=Math.imul(T,ae),a=Math.imul(T,me),a=a+Math.imul(I,ae)|0,p=Math.imul(I,me),d=d+Math.imul(V,ve)|0,a=a+Math.imul(V,ye)|0,a=a+Math.imul(R,ve)|0,p=p+Math.imul(R,ye)|0,d=d+Math.imul(Ee,ce)|0,a=a+Math.imul(Ee,we)|0,a=a+Math.imul(Me,ce)|0,p=p+Math.imul(Me,we)|0;var vt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(vt>>>26)|0,vt&=67108863,d=Math.imul(T,ve),a=Math.imul(T,ye),a=a+Math.imul(I,ve)|0,p=Math.imul(I,ye),d=d+Math.imul(V,ce)|0,a=a+Math.imul(V,we)|0,a=a+Math.imul(R,ce)|0,p=p+Math.imul(R,we)|0;var Nt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,d=Math.imul(T,ce),a=Math.imul(T,we),a=a+Math.imul(I,ce)|0,p=Math.imul(I,we);var Ft=(_+d|0)+((a&8191)<<13)|0;return _=(p+(a>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,y[0]=We,y[1]=Ze,y[2]=yt,y[3]=ct,y[4]=at,y[5]=pt,y[6]=Ct,y[7]=Ot,y[8]=Tt,y[9]=xt,y[10]=zt,y[11]=Pt,y[12]=Mt,y[13]=St,y[14]=Lt,y[15]=ut,y[16]=vt,y[17]=Nt,y[18]=Ft,_!==0&&(y[19]=_,f.length++),f};Math.imul||(D=N);function W(g,o,l){l.negative=o.negative^g.negative,l.length=g.length+o.length;for(var f=0,h=0,m=0;m<l.length-1;m++){var y=h;h=0;for(var _=f&67108863,d=Math.min(m,o.length-1),a=Math.max(0,m-g.length+1);a<=d;a++){var p=m-a,S=g.words[p]|0,B=o.words[a]|0,Z=S*B,X=Z&67108863;y=y+(Z/67108864|0)|0,X=X+_|0,_=X&67108863,y=y+(X>>>26)|0,h+=y>>>26,y&=67108863}l.words[m]=_,f=y,y=h}return f!==0?l.words[m]=f:l.length--,l.strip()}function P(g,o,l){var f=new C;return f.mulp(g,o,l)}i.prototype.mulTo=function(o,l){var f,h=this.length+o.length;return this.length===10&&o.length===10?f=D(this,o,l):h<63?f=N(this,o,l):h<1024?f=W(this,o,l):f=P(this,o,l),f};function C(g,o){this.x=g,this.y=o}C.prototype.makeRBT=function(o){for(var l=new Array(o),f=i.prototype._countBits(o)-1,h=0;h<o;h++)l[h]=this.revBin(h,f,o);return l},C.prototype.revBin=function(o,l,f){if(o===0||o===f-1)return o;for(var h=0,m=0;m<l;m++)h|=(o&1)<<l-m-1,o>>=1;return h},C.prototype.permute=function(o,l,f,h,m,y){for(var _=0;_<y;_++)h[_]=l[o[_]],m[_]=f[o[_]]},C.prototype.transform=function(o,l,f,h,m,y){this.permute(y,o,l,f,h,m);for(var _=1;_<m;_<<=1)for(var d=_<<1,a=Math.cos(2*Math.PI/d),p=Math.sin(2*Math.PI/d),S=0;S<m;S+=d)for(var B=a,Z=p,X=0;X<_;X++){var oe=f[S+X],H=h[S+X],ee=f[S+X+_],se=h[S+X+_],le=B*ee-Z*se;se=B*se+Z*ee,ee=le,f[S+X]=oe+ee,h[S+X]=H+se,f[S+X+_]=oe-ee,h[S+X+_]=H-se,X!==d&&(le=a*B-p*Z,Z=a*Z+p*B,B=le)}},C.prototype.guessLen13b=function(o,l){var f=Math.max(l,o)|1,h=f&1,m=0;for(f=f/2|0;f;f=f>>>1)m++;return 1<<m+1+h},C.prototype.conjugate=function(o,l,f){if(!(f<=1))for(var h=0;h<f/2;h++){var m=o[h];o[h]=o[f-h-1],o[f-h-1]=m,m=l[h],l[h]=-l[f-h-1],l[f-h-1]=-m}},C.prototype.normalize13b=function(o,l){for(var f=0,h=0;h<l/2;h++){var m=Math.round(o[2*h+1]/l)*8192+Math.round(o[2*h]/l)+f;o[h]=m&67108863,m<67108864?f=0:f=m/67108864|0}return o},C.prototype.convert13b=function(o,l,f,h){for(var m=0,y=0;y<l;y++)m=m+(o[y]|0),f[2*y]=m&8191,m=m>>>13,f[2*y+1]=m&8191,m=m>>>13;for(y=2*l;y<h;++y)f[y]=0;n(m===0),n((m&-8192)===0)},C.prototype.stub=function(o){for(var l=new Array(o),f=0;f<o;f++)l[f]=0;return l},C.prototype.mulp=function(o,l,f){var h=2*this.guessLen13b(o.length,l.length),m=this.makeRBT(h),y=this.stub(h),_=new Array(h),d=new Array(h),a=new Array(h),p=new Array(h),S=new Array(h),B=new Array(h),Z=f.words;Z.length=h,this.convert13b(o.words,o.length,_,h),this.convert13b(l.words,l.length,p,h),this.transform(_,y,d,a,h,m),this.transform(p,y,S,B,h,m);for(var X=0;X<h;X++){var oe=d[X]*S[X]-a[X]*B[X];a[X]=d[X]*B[X]+a[X]*S[X],d[X]=oe}return this.conjugate(d,a,h),this.transform(d,a,Z,y,h,m),this.conjugate(Z,y,h),this.normalize13b(Z,h),f.negative=o.negative^l.negative,f.length=o.length+l.length,f.strip()},i.prototype.mul=function(o){var l=new i(null);return l.words=new Array(this.length+o.length),this.mulTo(o,l)},i.prototype.mulf=function(o){var l=new i(null);return l.words=new Array(this.length+o.length),P(this,o,l)},i.prototype.imul=function(o){return this.clone().mulTo(o,this)},i.prototype.imuln=function(o){n(typeof o=="number"),n(o<67108864);for(var l=0,f=0;f<this.length;f++){var h=(this.words[f]|0)*o,m=(h&67108863)+(l&67108863);l>>=26,l+=h/67108864|0,l+=m>>>26,this.words[f]=m&67108863}return l!==0&&(this.words[f]=l,this.length++),this},i.prototype.muln=function(o){return this.clone().imuln(o)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(o){var l=A(o);if(l.length===0)return new i(1);for(var f=this,h=0;h<l.length&&l[h]===0;h++,f=f.sqr());if(++h<l.length)for(var m=f.sqr();h<l.length;h++,m=m.sqr())l[h]!==0&&(f=f.mul(m));return f},i.prototype.iushln=function(o){n(typeof o=="number"&&o>=0);var l=o%26,f=(o-l)/26,h=67108863>>>26-l<<26-l,m;if(l!==0){var y=0;for(m=0;m<this.length;m++){var _=this.words[m]&h,d=(this.words[m]|0)-_<<l;this.words[m]=d|y,y=_>>>26-l}y&&(this.words[m]=y,this.length++)}if(f!==0){for(m=this.length-1;m>=0;m--)this.words[m+f]=this.words[m];for(m=0;m<f;m++)this.words[m]=0;this.length+=f}return this.strip()},i.prototype.ishln=function(o){return n(this.negative===0),this.iushln(o)},i.prototype.iushrn=function(o,l,f){n(typeof o=="number"&&o>=0);var h;l?h=(l-l%26)/26:h=0;var m=o%26,y=Math.min((o-m)/26,this.length),_=67108863^67108863>>>m<<m,d=f;if(h-=y,h=Math.max(0,h),d){for(var a=0;a<y;a++)d.words[a]=this.words[a];d.length=y}if(y!==0)if(this.length>y)for(this.length-=y,a=0;a<this.length;a++)this.words[a]=this.words[a+y];else this.words[0]=0,this.length=1;var p=0;for(a=this.length-1;a>=0&&(p!==0||a>=h);a--){var S=this.words[a]|0;this.words[a]=p<<26-m|S>>>m,p=S&_}return d&&p!==0&&(d.words[d.length++]=p),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(o,l,f){return n(this.negative===0),this.iushrn(o,l,f)},i.prototype.shln=function(o){return this.clone().ishln(o)},i.prototype.ushln=function(o){return this.clone().iushln(o)},i.prototype.shrn=function(o){return this.clone().ishrn(o)},i.prototype.ushrn=function(o){return this.clone().iushrn(o)},i.prototype.testn=function(o){n(typeof o=="number"&&o>=0);var l=o%26,f=(o-l)/26,h=1<<l;if(this.length<=f)return!1;var m=this.words[f];return!!(m&h)},i.prototype.imaskn=function(o){n(typeof o=="number"&&o>=0);var l=o%26,f=(o-l)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(l!==0&&f++,this.length=Math.min(f,this.length),l!==0){var h=67108863^67108863>>>l<<l;this.words[this.length-1]&=h}return this.strip()},i.prototype.maskn=function(o){return this.clone().imaskn(o)},i.prototype.iaddn=function(o){return n(typeof o=="number"),n(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},i.prototype._iaddn=function(o){this.words[0]+=o;for(var l=0;l<this.length&&this.words[l]>=67108864;l++)this.words[l]-=67108864,l===this.length-1?this.words[l+1]=1:this.words[l+1]++;return this.length=Math.max(this.length,l+1),this},i.prototype.isubn=function(o){if(n(typeof o=="number"),n(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var l=0;l<this.length&&this.words[l]<0;l++)this.words[l]+=67108864,this.words[l+1]-=1;return this.strip()},i.prototype.addn=function(o){return this.clone().iaddn(o)},i.prototype.subn=function(o){return this.clone().isubn(o)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(o,l,f){var h=o.length+f,m;this._expand(h);var y,_=0;for(m=0;m<o.length;m++){y=(this.words[m+f]|0)+_;var d=(o.words[m]|0)*l;y-=d&67108863,_=(y>>26)-(d/67108864|0),this.words[m+f]=y&67108863}for(;m<this.length-f;m++)y=(this.words[m+f]|0)+_,_=y>>26,this.words[m+f]=y&67108863;if(_===0)return this.strip();for(n(_===-1),_=0,m=0;m<this.length;m++)y=-(this.words[m]|0)+_,_=y>>26,this.words[m]=y&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(o,l){var f=this.length-o.length,h=this.clone(),m=o,y=m.words[m.length-1]|0,_=this._countBits(y);f=26-_,f!==0&&(m=m.ushln(f),h.iushln(f),y=m.words[m.length-1]|0);var d=h.length-m.length,a;if(l!=="mod"){a=new i(null),a.length=d+1,a.words=new Array(a.length);for(var p=0;p<a.length;p++)a.words[p]=0}var S=h.clone()._ishlnsubmul(m,1,d);S.negative===0&&(h=S,a&&(a.words[d]=1));for(var B=d-1;B>=0;B--){var Z=(h.words[m.length+B]|0)*67108864+(h.words[m.length+B-1]|0);for(Z=Math.min(Z/y|0,67108863),h._ishlnsubmul(m,Z,B);h.negative!==0;)Z--,h.negative=0,h._ishlnsubmul(m,1,B),h.isZero()||(h.negative^=1);a&&(a.words[B]=Z)}return a&&a.strip(),h.strip(),l!=="div"&&f!==0&&h.iushrn(f),{div:a||null,mod:h}},i.prototype.divmod=function(o,l,f){if(n(!o.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var h,m,y;return this.negative!==0&&o.negative===0?(y=this.neg().divmod(o,l),l!=="mod"&&(h=y.div.neg()),l!=="div"&&(m=y.mod.neg(),f&&m.negative!==0&&m.iadd(o)),{div:h,mod:m}):this.negative===0&&o.negative!==0?(y=this.divmod(o.neg(),l),l!=="mod"&&(h=y.div.neg()),{div:h,mod:y.mod}):this.negative&o.negative?(y=this.neg().divmod(o.neg(),l),l!=="div"&&(m=y.mod.neg(),f&&m.negative!==0&&m.isub(o)),{div:y.div,mod:m}):o.length>this.length||this.cmp(o)<0?{div:new i(0),mod:this}:o.length===1?l==="div"?{div:this.divn(o.words[0]),mod:null}:l==="mod"?{div:null,mod:new i(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new i(this.modn(o.words[0]))}:this._wordDiv(o,l)},i.prototype.div=function(o){return this.divmod(o,"div",!1).div},i.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},i.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},i.prototype.divRound=function(o){var l=this.divmod(o);if(l.mod.isZero())return l.div;var f=l.div.negative!==0?l.mod.isub(o):l.mod,h=o.ushrn(1),m=o.andln(1),y=f.cmp(h);return y<0||m===1&&y===0?l.div:l.div.negative!==0?l.div.isubn(1):l.div.iaddn(1)},i.prototype.modn=function(o){n(o<=67108863);for(var l=(1<<26)%o,f=0,h=this.length-1;h>=0;h--)f=(l*f+(this.words[h]|0))%o;return f},i.prototype.idivn=function(o){n(o<=67108863);for(var l=0,f=this.length-1;f>=0;f--){var h=(this.words[f]|0)+l*67108864;this.words[f]=h/o|0,l=h%o}return this.strip()},i.prototype.divn=function(o){return this.clone().idivn(o)},i.prototype.egcd=function(o){n(o.negative===0),n(!o.isZero());var l=this,f=o.clone();l.negative!==0?l=l.umod(o):l=l.clone();for(var h=new i(1),m=new i(0),y=new i(0),_=new i(1),d=0;l.isEven()&&f.isEven();)l.iushrn(1),f.iushrn(1),++d;for(var a=f.clone(),p=l.clone();!l.isZero();){for(var S=0,B=1;!(l.words[0]&B)&&S<26;++S,B<<=1);if(S>0)for(l.iushrn(S);S-- >0;)(h.isOdd()||m.isOdd())&&(h.iadd(a),m.isub(p)),h.iushrn(1),m.iushrn(1);for(var Z=0,X=1;!(f.words[0]&X)&&Z<26;++Z,X<<=1);if(Z>0)for(f.iushrn(Z);Z-- >0;)(y.isOdd()||_.isOdd())&&(y.iadd(a),_.isub(p)),y.iushrn(1),_.iushrn(1);l.cmp(f)>=0?(l.isub(f),h.isub(y),m.isub(_)):(f.isub(l),y.isub(h),_.isub(m))}return{a:y,b:_,gcd:f.iushln(d)}},i.prototype._invmp=function(o){n(o.negative===0),n(!o.isZero());var l=this,f=o.clone();l.negative!==0?l=l.umod(o):l=l.clone();for(var h=new i(1),m=new i(0),y=f.clone();l.cmpn(1)>0&&f.cmpn(1)>0;){for(var _=0,d=1;!(l.words[0]&d)&&_<26;++_,d<<=1);if(_>0)for(l.iushrn(_);_-- >0;)h.isOdd()&&h.iadd(y),h.iushrn(1);for(var a=0,p=1;!(f.words[0]&p)&&a<26;++a,p<<=1);if(a>0)for(f.iushrn(a);a-- >0;)m.isOdd()&&m.iadd(y),m.iushrn(1);l.cmp(f)>=0?(l.isub(f),h.isub(m)):(f.isub(l),m.isub(h))}var S;return l.cmpn(1)===0?S=h:S=m,S.cmpn(0)<0&&S.iadd(o),S},i.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var l=this.clone(),f=o.clone();l.negative=0,f.negative=0;for(var h=0;l.isEven()&&f.isEven();h++)l.iushrn(1),f.iushrn(1);do{for(;l.isEven();)l.iushrn(1);for(;f.isEven();)f.iushrn(1);var m=l.cmp(f);if(m<0){var y=l;l=f,f=y}else if(m===0||f.cmpn(1)===0)break;l.isub(f)}while(!0);return f.iushln(h)},i.prototype.invm=function(o){return this.egcd(o).a.umod(o)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(o){return this.words[0]&o},i.prototype.bincn=function(o){n(typeof o=="number");var l=o%26,f=(o-l)/26,h=1<<l;if(this.length<=f)return this._expand(f+1),this.words[f]|=h,this;for(var m=h,y=f;m!==0&&y<this.length;y++){var _=this.words[y]|0;_+=m,m=_>>>26,_&=67108863,this.words[y]=_}return m!==0&&(this.words[y]=m,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(o){var l=o<0;if(this.negative!==0&&!l)return-1;if(this.negative===0&&l)return 1;this.strip();var f;if(this.length>1)f=1;else{l&&(o=-o),n(o<=67108863,"Number is too big");var h=this.words[0]|0;f=h===o?0:h<o?-1:1}return this.negative!==0?-f|0:f},i.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var l=this.ucmp(o);return this.negative!==0?-l|0:l},i.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var l=0,f=this.length-1;f>=0;f--){var h=this.words[f]|0,m=o.words[f]|0;if(h!==m){h<m?l=-1:h>m&&(l=1);break}}return l},i.prototype.gtn=function(o){return this.cmpn(o)===1},i.prototype.gt=function(o){return this.cmp(o)===1},i.prototype.gten=function(o){return this.cmpn(o)>=0},i.prototype.gte=function(o){return this.cmp(o)>=0},i.prototype.ltn=function(o){return this.cmpn(o)===-1},i.prototype.lt=function(o){return this.cmp(o)===-1},i.prototype.lten=function(o){return this.cmpn(o)<=0},i.prototype.lte=function(o){return this.cmp(o)<=0},i.prototype.eqn=function(o){return this.cmpn(o)===0},i.prototype.eq=function(o){return this.cmp(o)===0},i.red=function(o){return new j(o)},i.prototype.toRed=function(o){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(o){return this.red=o,this},i.prototype.forceRed=function(o){return n(!this.red,"Already a number in reduction context"),this._forceRed(o)},i.prototype.redAdd=function(o){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},i.prototype.redIAdd=function(o){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},i.prototype.redSub=function(o){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},i.prototype.redISub=function(o){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},i.prototype.redShl=function(o){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},i.prototype.redMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},i.prototype.redIMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(o){return n(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var z={k256:null,p224:null,p192:null,p25519:null};function K(g,o){this.name=g,this.p=new i(o,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}K.prototype._tmp=function(){var o=new i(null);return o.words=new Array(Math.ceil(this.n/13)),o},K.prototype.ireduce=function(o){var l=o,f;do this.split(l,this.tmp),l=this.imulK(l),l=l.iadd(this.tmp),f=l.bitLength();while(f>this.n);var h=f<this.n?-1:l.ucmp(this.p);return h===0?(l.words[0]=0,l.length=1):h>0?l.isub(this.p):l.strip!==void 0?l.strip():l._strip(),l},K.prototype.split=function(o,l){o.iushrn(this.n,0,l)},K.prototype.imulK=function(o){return o.imul(this.k)};function ne(){K.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(ne,K),ne.prototype.split=function(o,l){for(var f=4194303,h=Math.min(o.length,9),m=0;m<h;m++)l.words[m]=o.words[m];if(l.length=h,o.length<=9){o.words[0]=0,o.length=1;return}var y=o.words[9];for(l.words[l.length++]=y&f,m=10;m<o.length;m++){var _=o.words[m]|0;o.words[m-10]=(_&f)<<4|y>>>22,y=_}y>>>=22,o.words[m-10]=y,y===0&&o.length>10?o.length-=10:o.length-=9},ne.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var l=0,f=0;f<o.length;f++){var h=o.words[f]|0;l+=h*977,o.words[f]=l&67108863,l=h*64+(l/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function ue(){K.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(ue,K);function G(){K.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(G,K);function q(){K.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(q,K),q.prototype.imulK=function(o){for(var l=0,f=0;f<o.length;f++){var h=(o.words[f]|0)*19+l,m=h&67108863;h>>>=26,o.words[f]=m,l=h}return l!==0&&(o.words[o.length++]=l),o},i._prime=function(o){if(z[o])return z[o];var l;if(o==="k256")l=new ne;else if(o==="p224")l=new ue;else if(o==="p192")l=new G;else if(o==="p25519")l=new q;else throw new Error("Unknown prime "+o);return z[o]=l,l};function j(g){if(typeof g=="string"){var o=i._prime(g);this.m=o.p,this.prime=o}else n(g.gtn(1),"modulus must be greater than 1"),this.m=g,this.prime=null}j.prototype._verify1=function(o){n(o.negative===0,"red works only with positives"),n(o.red,"red works only with red numbers")},j.prototype._verify2=function(o,l){n((o.negative|l.negative)===0,"red works only with positives"),n(o.red&&o.red===l.red,"red works only with red numbers")},j.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},j.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},j.prototype.add=function(o,l){this._verify2(o,l);var f=o.add(l);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},j.prototype.iadd=function(o,l){this._verify2(o,l);var f=o.iadd(l);return f.cmp(this.m)>=0&&f.isub(this.m),f},j.prototype.sub=function(o,l){this._verify2(o,l);var f=o.sub(l);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},j.prototype.isub=function(o,l){this._verify2(o,l);var f=o.isub(l);return f.cmpn(0)<0&&f.iadd(this.m),f},j.prototype.shl=function(o,l){return this._verify1(o),this.imod(o.ushln(l))},j.prototype.imul=function(o,l){return this._verify2(o,l),this.imod(o.imul(l))},j.prototype.mul=function(o,l){return this._verify2(o,l),this.imod(o.mul(l))},j.prototype.isqr=function(o){return this.imul(o,o.clone())},j.prototype.sqr=function(o){return this.mul(o,o)},j.prototype.sqrt=function(o){if(o.isZero())return o.clone();var l=this.m.andln(3);if(n(l%2===1),l===3){var f=this.m.add(new i(1)).iushrn(2);return this.pow(o,f)}for(var h=this.m.subn(1),m=0;!h.isZero()&&h.andln(1)===0;)m++,h.iushrn(1);n(!h.isZero());var y=new i(1).toRed(this),_=y.redNeg(),d=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new i(2*a*a).toRed(this);this.pow(a,d).cmp(_)!==0;)a.redIAdd(_);for(var p=this.pow(a,h),S=this.pow(o,h.addn(1).iushrn(1)),B=this.pow(o,h),Z=m;B.cmp(y)!==0;){for(var X=B,oe=0;X.cmp(y)!==0;oe++)X=X.redSqr();n(oe<Z);var H=this.pow(p,new i(1).iushln(Z-oe-1));S=S.redMul(H),p=H.redSqr(),B=B.redMul(p),Z=oe}return S},j.prototype.invm=function(o){var l=o._invmp(this.m);return l.negative!==0?(l.negative=0,this.imod(l).redNeg()):this.imod(l)},j.prototype.pow=function(o,l){if(l.isZero())return new i(1).toRed(this);if(l.cmpn(1)===0)return o.clone();var f=4,h=new Array(1<<f);h[0]=new i(1).toRed(this),h[1]=o;for(var m=2;m<h.length;m++)h[m]=this.mul(h[m-1],o);var y=h[0],_=0,d=0,a=l.bitLength()%26;for(a===0&&(a=26),m=l.length-1;m>=0;m--){for(var p=l.words[m],S=a-1;S>=0;S--){var B=p>>S&1;if(y!==h[0]&&(y=this.sqr(y)),B===0&&_===0){d=0;continue}_<<=1,_|=B,d++,!(d!==f&&(m!==0||S!==0))&&(y=this.mul(y,h[_]),d=0,_=0)}a=26}return y},j.prototype.convertTo=function(o){var l=o.umod(this.m);return l===o?l.clone():l},j.prototype.convertFrom=function(o){var l=o.clone();return l.red=null,l},i.mont=function(o){return new Q(o)};function Q(g){j.call(this,g),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(Q,j),Q.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},Q.prototype.convertFrom=function(o){var l=this.imod(o.mul(this.rinv));return l.red=null,l},Q.prototype.imul=function(o,l){if(o.isZero()||l.isZero())return o.words[0]=0,o.length=1,o;var f=o.imul(l),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=f.isub(h).iushrn(this.shift),y=m;return m.cmp(this.m)>=0?y=m.isub(this.m):m.cmpn(0)<0&&(y=m.iadd(this.m)),y._forceRed(this)},Q.prototype.mul=function(o,l){if(o.isZero()||l.isZero())return new i(0)._forceRed(this);var f=o.mul(l),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=f.isub(h).iushrn(this.shift),y=m;return m.cmp(this.m)>=0?y=m.isub(this.m):m.cmpn(0)<0&&(y=m.iadd(this.m)),y._forceRed(this)},Q.prototype.invm=function(o){var l=this.imod(o._invmp(this.m).mul(this.r2));return l._forceRed(this)}})(t,Vt)})(nb);var ZZ=nb.exports,Wg={},EM;function QZ(){return EM||(EM=1,function(t){var e=$c(),r=kt,n=t;n.define=function(u,c){return new s(u,c)};function s(i,u){this.name=i,this.body=u,this.decoders={},this.encoders={}}s.prototype._createNamed=function(u){var c;try{c=ui.runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{c=function(b){this._initNamed(b)}}return r(c,u),c.prototype._initNamed=function(b){u.call(this,b)},new c(this)},s.prototype._getDecoder=function(u){return u=u||"der",this.decoders.hasOwnProperty(u)||(this.decoders[u]=this._createNamed(e.decoders[u])),this.decoders[u]},s.prototype.decode=function(u,c,v){return this._getDecoder(c).decode(u,v)},s.prototype._getEncoder=function(u){return u=u||"der",this.encoders.hasOwnProperty(u)||(this.encoders[u]=this._createNamed(e.encoders[u])),this.encoders[u]},s.prototype.encode=function(u,c,v){return this._getEncoder(c).encode(u,v)}}(Wg)),Wg}var Gg={},QT={},YZ=kt;function pi(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}QT.Reporter=pi;pi.prototype.isError=function(e){return e instanceof Pu};pi.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}};pi.prototype.restore=function(e){var r=this._reporterState;r.obj=e.obj,r.path=r.path.slice(0,e.pathLen)};pi.prototype.enterKey=function(e){return this._reporterState.path.push(e)};pi.prototype.exitKey=function(e){var r=this._reporterState;r.path=r.path.slice(0,e-1)};pi.prototype.leaveKey=function(e,r,n){var s=this._reporterState;this.exitKey(e),s.obj!==null&&(s.obj[r]=n)};pi.prototype.path=function(){return this._reporterState.path.join("/")};pi.prototype.enterObject=function(){var e=this._reporterState,r=e.obj;return e.obj={},r};pi.prototype.leaveObject=function(e){var r=this._reporterState,n=r.obj;return r.obj=e,n};pi.prototype.error=function(e){var r,n=this._reporterState,s=e instanceof Pu;if(s?r=e:r=new Pu(n.path.map(function(i){return"["+JSON.stringify(i)+"]"}).join(""),e.message||e,e.stack),!n.options.partial)throw r;return s||n.errors.push(r),r};pi.prototype.wrapResult=function(e){var r=this._reporterState;return r.options.partial?{result:this.isError(e)?null:e,errors:r.errors}:e};function Pu(t,e){this.path=t,this.rethrow(e)}YZ(Pu,Error);Pu.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,Pu),!this.stack)try{throw new Error(this.message)}catch(r){this.stack=r.stack}return this};var jd={},SM;function IM(){if(SM)return jd;SM=1;var t=kt,e=_h().Reporter,r=$s.Buffer;function n(i,u){if(e.call(this,u),!r.isBuffer(i)){this.error("Input not Buffer");return}this.base=i,this.offset=0,this.length=i.length}t(n,e),jd.DecoderBuffer=n,n.prototype.save=function(){return{offset:this.offset,reporter:e.prototype.save.call(this)}},n.prototype.restore=function(u){var c=new n(this.base);return c.offset=u.offset,c.length=this.offset,this.offset=u.offset,e.prototype.restore.call(this,u.reporter),c},n.prototype.isEmpty=function(){return this.offset===this.length},n.prototype.readUInt8=function(u){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(u||"DecoderBuffer overrun")},n.prototype.skip=function(u,c){if(!(this.offset+u<=this.length))return this.error(c||"DecoderBuffer overrun");var v=new n(this.base);return v._reporterState=this._reporterState,v.offset=this.offset,v.length=this.offset+u,this.offset+=u,v},n.prototype.raw=function(u){return this.base.slice(u?u.offset:this.offset,this.length)};function s(i,u){if(Array.isArray(i))this.length=0,this.value=i.map(function(c){return c instanceof s||(c=new s(c,u)),this.length+=c.length,c},this);else if(typeof i=="number"){if(!(0<=i&&i<=255))return u.error("non-byte EncoderBuffer value");this.value=i,this.length=1}else if(typeof i=="string")this.value=i,this.length=r.byteLength(i);else if(r.isBuffer(i))this.value=i,this.length=i.length;else return u.error("Unsupported type: "+typeof i)}return jd.EncoderBuffer=s,s.prototype.join=function(u,c){return u||(u=new r(this.length)),c||(c=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(v){v.join(u,c),c+=v.length}):(typeof this.value=="number"?u[c]=this.value:typeof this.value=="string"?u.write(this.value,c):r.isBuffer(this.value)&&this.value.copy(u,c),c+=this.length)),u},jd}var Zg,AM;function JZ(){if(AM)return Zg;AM=1;var t=_h().Reporter,e=_h().EncoderBuffer,r=_h().DecoderBuffer,n=fi,s=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],i=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(s),u=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function c(b,w){var x={};this._baseState=x,x.enc=b,x.parent=w||null,x.children=null,x.tag=null,x.args=null,x.reverseArgs=null,x.choice=null,x.optional=!1,x.any=!1,x.obj=!1,x.use=null,x.useDecoder=null,x.key=null,x.default=null,x.explicit=null,x.implicit=null,x.contains=null,x.parent||(x.children=[],this._wrap())}Zg=c;var v=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return c.prototype.clone=function(){var w=this._baseState,x={};v.forEach(function(A){x[A]=w[A]});var E=new this.constructor(x.parent);return E._baseState=x,E},c.prototype._wrap=function(){var w=this._baseState;i.forEach(function(x){this[x]=function(){var A=new this.constructor(this);return w.children.push(A),A[x].apply(A,arguments)}},this)},c.prototype._init=function(w){var x=this._baseState;n(x.parent===null),w.call(this),x.children=x.children.filter(function(E){return E._baseState.parent===this},this),n.equal(x.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(w){var x=this._baseState,E=w.filter(function(A){return A instanceof this.constructor},this);w=w.filter(function(A){return!(A instanceof this.constructor)},this),E.length!==0&&(n(x.children===null),x.children=E,E.forEach(function(A){A._baseState.parent=this},this)),w.length!==0&&(n(x.args===null),x.args=w,x.reverseArgs=w.map(function(A){if(typeof A!="object"||A.constructor!==Object)return A;var N={};return Object.keys(A).forEach(function(D){D==(D|0)&&(D|=0);var W=A[D];N[W]=D}),N}))},u.forEach(function(b){c.prototype[b]=function(){var x=this._baseState;throw new Error(b+" not implemented for encoding: "+x.enc)}}),s.forEach(function(b){c.prototype[b]=function(){var x=this._baseState,E=Array.prototype.slice.call(arguments);return n(x.tag===null),x.tag=b,this._useArgs(E),this}}),c.prototype.use=function(w){n(w);var x=this._baseState;return n(x.use===null),x.use=w,this},c.prototype.optional=function(){var w=this._baseState;return w.optional=!0,this},c.prototype.def=function(w){var x=this._baseState;return n(x.default===null),x.default=w,x.optional=!0,this},c.prototype.explicit=function(w){var x=this._baseState;return n(x.explicit===null&&x.implicit===null),x.explicit=w,this},c.prototype.implicit=function(w){var x=this._baseState;return n(x.explicit===null&&x.implicit===null),x.implicit=w,this},c.prototype.obj=function(){var w=this._baseState,x=Array.prototype.slice.call(arguments);return w.obj=!0,x.length!==0&&this._useArgs(x),this},c.prototype.key=function(w){var x=this._baseState;return n(x.key===null),x.key=w,this},c.prototype.any=function(){var w=this._baseState;return w.any=!0,this},c.prototype.choice=function(w){var x=this._baseState;return n(x.choice===null),x.choice=w,this._useArgs(Object.keys(w).map(function(E){return w[E]})),this},c.prototype.contains=function(w){var x=this._baseState;return n(x.use===null),x.contains=w,this},c.prototype._decode=function(w,x){var E=this._baseState;if(E.parent===null)return w.wrapResult(E.children[0]._decode(w,x));var A=E.default,N=!0,D=null;if(E.key!==null&&(D=w.enterKey(E.key)),E.optional){var W=null;if(E.explicit!==null?W=E.explicit:E.implicit!==null?W=E.implicit:E.tag!==null&&(W=E.tag),W===null&&!E.any){var P=w.save();try{E.choice===null?this._decodeGeneric(E.tag,w,x):this._decodeChoice(w,x),N=!0}catch{N=!1}w.restore(P)}else if(N=this._peekTag(w,W,E.any),w.isError(N))return N}var C;if(E.obj&&N&&(C=w.enterObject()),N){if(E.explicit!==null){var z=this._decodeTag(w,E.explicit);if(w.isError(z))return z;w=z}var K=w.offset;if(E.use===null&&E.choice===null){if(E.any)var P=w.save();var ne=this._decodeTag(w,E.implicit!==null?E.implicit:E.tag,E.any);if(w.isError(ne))return ne;E.any?A=w.raw(P):w=ne}if(x&&x.track&&E.tag!==null&&x.track(w.path(),K,w.length,"tagged"),x&&x.track&&E.tag!==null&&x.track(w.path(),w.offset,w.length,"content"),E.any?A=A:E.choice===null?A=this._decodeGeneric(E.tag,w,x):A=this._decodeChoice(w,x),w.isError(A))return A;if(!E.any&&E.choice===null&&E.children!==null&&E.children.forEach(function(q){q._decode(w,x)}),E.contains&&(E.tag==="octstr"||E.tag==="bitstr")){var ue=new r(A);A=this._getUse(E.contains,w._reporterState.obj)._decode(ue,x)}}return E.obj&&N&&(A=w.leaveObject(C)),E.key!==null&&(A!==null||N===!0)?w.leaveKey(D,E.key,A):D!==null&&w.exitKey(D),A},c.prototype._decodeGeneric=function(w,x,E){var A=this._baseState;return w==="seq"||w==="set"?null:w==="seqof"||w==="setof"?this._decodeList(x,w,A.args[0],E):/str$/.test(w)?this._decodeStr(x,w,E):w==="objid"&&A.args?this._decodeObjid(x,A.args[0],A.args[1],E):w==="objid"?this._decodeObjid(x,null,null,E):w==="gentime"||w==="utctime"?this._decodeTime(x,w,E):w==="null_"?this._decodeNull(x,E):w==="bool"?this._decodeBool(x,E):w==="objDesc"?this._decodeStr(x,w,E):w==="int"||w==="enum"?this._decodeInt(x,A.args&&A.args[0],E):A.use!==null?this._getUse(A.use,x._reporterState.obj)._decode(x,E):x.error("unknown tag: "+w)},c.prototype._getUse=function(w,x){var E=this._baseState;return E.useDecoder=this._use(w,x),n(E.useDecoder._baseState.parent===null),E.useDecoder=E.useDecoder._baseState.children[0],E.implicit!==E.useDecoder._baseState.implicit&&(E.useDecoder=E.useDecoder.clone(),E.useDecoder._baseState.implicit=E.implicit),E.useDecoder},c.prototype._decodeChoice=function(w,x){var E=this._baseState,A=null,N=!1;return Object.keys(E.choice).some(function(D){var W=w.save(),P=E.choice[D];try{var C=P._decode(w,x);if(w.isError(C))return!1;A={type:D,value:C},N=!0}catch{return w.restore(W),!1}return!0},this),N?A:w.error("Choice not matched")},c.prototype._createEncoderBuffer=function(w){return new e(w,this.reporter)},c.prototype._encode=function(w,x,E){var A=this._baseState;if(!(A.default!==null&&A.default===w)){var N=this._encodeValue(w,x,E);if(N!==void 0&&!this._skipDefault(N,x,E))return N}},c.prototype._encodeValue=function(w,x,E){var A=this._baseState;if(A.parent===null)return A.children[0]._encode(w,x||new t);var P=null;if(this.reporter=x,A.optional&&w===void 0)if(A.default!==null)w=A.default;else return;var N=null,D=!1;if(A.any)P=this._createEncoderBuffer(w);else if(A.choice)P=this._encodeChoice(w,x);else if(A.contains)N=this._getUse(A.contains,E)._encode(w,x),D=!0;else if(A.children)N=A.children.map(function(K){if(K._baseState.tag==="null_")return K._encode(null,x,w);if(K._baseState.key===null)return x.error("Child should have a key");var ne=x.enterKey(K._baseState.key);if(typeof w!="object")return x.error("Child expected, but input is not object");var ue=K._encode(w[K._baseState.key],x,w);return x.leaveKey(ne),ue},this).filter(function(K){return K}),N=this._createEncoderBuffer(N);else if(A.tag==="seqof"||A.tag==="setof"){if(!(A.args&&A.args.length===1))return x.error("Too many args for : "+A.tag);if(!Array.isArray(w))return x.error("seqof/setof, but data is not Array");var W=this.clone();W._baseState.implicit=null,N=this._createEncoderBuffer(w.map(function(K){var ne=this._baseState;return this._getUse(ne.args[0],w)._encode(K,x)},W))}else A.use!==null?P=this._getUse(A.use,E)._encode(w,x):(N=this._encodePrimitive(A.tag,w),D=!0);var P;if(!A.any&&A.choice===null){var C=A.implicit!==null?A.implicit:A.tag,z=A.implicit===null?"universal":"context";C===null?A.use===null&&x.error("Tag could be omitted only for .use()"):A.use===null&&(P=this._encodeComposite(C,D,z,N))}return A.explicit!==null&&(P=this._encodeComposite(A.explicit,!1,"context",P)),P},c.prototype._encodeChoice=function(w,x){var E=this._baseState,A=E.choice[w.type];return A||n(!1,w.type+" not found in "+JSON.stringify(Object.keys(E.choice))),A._encode(w.value,x)},c.prototype._encodePrimitive=function(w,x){var E=this._baseState;if(/str$/.test(w))return this._encodeStr(x,w);if(w==="objid"&&E.args)return this._encodeObjid(x,E.reverseArgs[0],E.args[1]);if(w==="objid")return this._encodeObjid(x,null,null);if(w==="gentime"||w==="utctime")return this._encodeTime(x,w);if(w==="null_")return this._encodeNull();if(w==="int"||w==="enum")return this._encodeInt(x,E.args&&E.reverseArgs[0]);if(w==="bool")return this._encodeBool(x);if(w==="objDesc")return this._encodeStr(x,w);throw new Error("Unsupported tag: "+w)},c.prototype._isNumstr=function(w){return/^[0-9 ]*$/.test(w)},c.prototype._isPrintstr=function(w){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(w)},Zg}var TM;function _h(){return TM||(TM=1,function(t){var e=t;e.Reporter=QT.Reporter,e.DecoderBuffer=IM().DecoderBuffer,e.EncoderBuffer=IM().EncoderBuffer,e.Node=JZ()}(Gg)),Gg}var Qg={},Yg={},RM;function XZ(){return RM||(RM=1,function(t){var e=YT();t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=e._reverse(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=e._reverse(t.tag)}(Yg)),Yg}var kM;function YT(){return kM||(kM=1,function(t){var e=t;e._reverse=function(n){var s={};return Object.keys(n).forEach(function(i){(i|0)==i&&(i=i|0);var u=n[i];s[u]=i}),s},e.der=XZ()}(Qg)),Qg}var Jg={},Xg,CM;function JT(){if(CM)return Xg;CM=1;var t=kt,e=$c(),r=e.base,n=e.bignum,s=e.constants.der;function i(b){this.enc="der",this.name=b.name,this.entity=b,this.tree=new u,this.tree._init(b.body)}Xg=i,i.prototype.decode=function(w,x){return w instanceof r.DecoderBuffer||(w=new r.DecoderBuffer(w,x)),this.tree._decode(w,x)};function u(b){r.Node.call(this,"der",b)}t(u,r.Node),u.prototype._peekTag=function(w,x,E){if(w.isEmpty())return!1;var A=w.save(),N=c(w,'Failed to peek tag: "'+x+'"');return w.isError(N)?N:(w.restore(A),N.tag===x||N.tagStr===x||N.tagStr+"of"===x||E)},u.prototype._decodeTag=function(w,x,E){var A=c(w,'Failed to decode tag of "'+x+'"');if(w.isError(A))return A;var N=v(w,A.primitive,'Failed to get length of "'+x+'"');if(w.isError(N))return N;if(!E&&A.tag!==x&&A.tagStr!==x&&A.tagStr+"of"!==x)return w.error('Failed to match tag: "'+x+'"');if(A.primitive||N!==null)return w.skip(N,'Failed to match body of: "'+x+'"');var D=w.save(),W=this._skipUntilEnd(w,'Failed to skip indefinite length body: "'+this.tag+'"');return w.isError(W)?W:(N=w.offset-D.offset,w.restore(D),w.skip(N,'Failed to match body of: "'+x+'"'))},u.prototype._skipUntilEnd=function(w,x){for(;;){var E=c(w,x);if(w.isError(E))return E;var A=v(w,E.primitive,x);if(w.isError(A))return A;var N;if(E.primitive||A!==null?N=w.skip(A):N=this._skipUntilEnd(w,x),w.isError(N))return N;if(E.tagStr==="end")break}},u.prototype._decodeList=function(w,x,E,A){for(var N=[];!w.isEmpty();){var D=this._peekTag(w,"end");if(w.isError(D))return D;var W=E.decode(w,"der",A);if(w.isError(W)&&D)break;N.push(W)}return N},u.prototype._decodeStr=function(w,x){if(x==="bitstr"){var E=w.readUInt8();return w.isError(E)?E:{unused:E,data:w.raw()}}else if(x==="bmpstr"){var A=w.raw();if(A.length%2===1)return w.error("Decoding of string type: bmpstr length mismatch");for(var N="",D=0;D<A.length/2;D++)N+=String.fromCharCode(A.readUInt16BE(D*2));return N}else if(x==="numstr"){var W=w.raw().toString("ascii");return this._isNumstr(W)?W:w.error("Decoding of string type: numstr unsupported characters")}else{if(x==="octstr")return w.raw();if(x==="objDesc")return w.raw();if(x==="printstr"){var P=w.raw().toString("ascii");return this._isPrintstr(P)?P:w.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(x)?w.raw().toString():w.error("Decoding of string type: "+x+" unsupported")}},u.prototype._decodeObjid=function(w,x,E){for(var A,N=[],D=0;!w.isEmpty();){var W=w.readUInt8();D<<=7,D|=W&127,W&128||(N.push(D),D=0)}W&128&&N.push(D);var P=N[0]/40|0,C=N[0]%40;if(E?A=N:A=[P,C].concat(N.slice(1)),x){var z=x[A.join(" ")];z===void 0&&(z=x[A.join(".")]),z!==void 0&&(A=z)}return A},u.prototype._decodeTime=function(w,x){var E=w.raw().toString();if(x==="gentime")var A=E.slice(0,4)|0,N=E.slice(4,6)|0,D=E.slice(6,8)|0,W=E.slice(8,10)|0,P=E.slice(10,12)|0,C=E.slice(12,14)|0;else if(x==="utctime"){var A=E.slice(0,2)|0,N=E.slice(2,4)|0,D=E.slice(4,6)|0,W=E.slice(6,8)|0,P=E.slice(8,10)|0,C=E.slice(10,12)|0;A<70?A=2e3+A:A=1900+A}else return w.error("Decoding "+x+" time is not supported yet");return Date.UTC(A,N-1,D,W,P,C,0)},u.prototype._decodeNull=function(w){return null},u.prototype._decodeBool=function(w){var x=w.readUInt8();return w.isError(x)?x:x!==0},u.prototype._decodeInt=function(w,x){var E=w.raw(),A=new n(E);return x&&(A=x[A.toString(10)]||A),A},u.prototype._use=function(w,x){return typeof w=="function"&&(w=w(x)),w._getDecoder("der").tree};function c(b,w){var x=b.readUInt8(w);if(b.isError(x))return x;var E=s.tagClass[x>>6],A=(x&32)===0;if((x&31)===31){var N=x;for(x=0;(N&128)===128;){if(N=b.readUInt8(w),b.isError(N))return N;x<<=7,x|=N&127}}else x&=31;var D=s.tag[x];return{cls:E,primitive:A,tag:x,tagStr:D}}function v(b,w,x){var E=b.readUInt8(x);if(b.isError(E))return E;if(!w&&E===128)return null;if(!(E&128))return E;var A=E&127;if(A>4)return b.error("length octect is too long");E=0;for(var N=0;N<A;N++){E<<=8;var D=b.readUInt8(x);if(b.isError(D))return D;E|=D}return E}return Xg}var e1,PM;function eQ(){if(PM)return e1;PM=1;var t=kt,e=$s.Buffer,r=JT();function n(s){r.call(this,s),this.enc="pem"}return t(n,r),e1=n,n.prototype.decode=function(i,u){for(var c=i.toString().split(/[\r\n]+/g),v=u.label.toUpperCase(),b=/^-----(BEGIN|END) ([^-]+)-----$/,w=-1,x=-1,E=0;E<c.length;E++){var A=c[E].match(b);if(A!==null&&A[2]===v)if(w===-1){if(A[1]!=="BEGIN")break;w=E}else{if(A[1]!=="END")break;x=E;break}}if(w===-1||x===-1)throw new Error("PEM section not found for: "+v);var N=c.slice(w+1,x).join("");N.replace(/[^a-z0-9\+\/=]+/gi,"");var D=new e(N,"base64");return r.prototype.decode.call(this,D,u)},e1}var NM;function tQ(){return NM||(NM=1,function(t){var e=t;e.der=JT(),e.pem=eQ()}(Jg)),Jg}var t1={},r1,BM;function XT(){if(BM)return r1;BM=1;var t=kt,e=$s.Buffer,r=$c(),n=r.base,s=r.constants.der;function i(b){this.enc="der",this.name=b.name,this.entity=b,this.tree=new u,this.tree._init(b.body)}r1=i,i.prototype.encode=function(w,x){return this.tree._encode(w,x).join()};function u(b){n.Node.call(this,"der",b)}t(u,n.Node),u.prototype._encodeComposite=function(w,x,E,A){var N=v(w,x,E,this.reporter);if(A.length<128){var P=new e(2);return P[0]=N,P[1]=A.length,this._createEncoderBuffer([P,A])}for(var D=1,W=A.length;W>=256;W>>=8)D++;var P=new e(2+D);P[0]=N,P[1]=128|D;for(var W=1+D,C=A.length;C>0;W--,C>>=8)P[W]=C&255;return this._createEncoderBuffer([P,A])},u.prototype._encodeStr=function(w,x){if(x==="bitstr")return this._createEncoderBuffer([w.unused|0,w.data]);if(x==="bmpstr"){for(var E=new e(w.length*2),A=0;A<w.length;A++)E.writeUInt16BE(w.charCodeAt(A),A*2);return this._createEncoderBuffer(E)}else return x==="numstr"?this._isNumstr(w)?this._createEncoderBuffer(w):this.reporter.error("Encoding of string type: numstr supports only digits and space"):x==="printstr"?this._isPrintstr(w)?this._createEncoderBuffer(w):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(x)?this._createEncoderBuffer(w):x==="objDesc"?this._createEncoderBuffer(w):this.reporter.error("Encoding of string type: "+x+" unsupported")},u.prototype._encodeObjid=function(w,x,E){if(typeof w=="string"){if(!x)return this.reporter.error("string objid given, but no values map found");if(!x.hasOwnProperty(w))return this.reporter.error("objid not found in values map");w=x[w].split(/[\s\.]+/g);for(var A=0;A<w.length;A++)w[A]|=0}else if(Array.isArray(w)){w=w.slice();for(var A=0;A<w.length;A++)w[A]|=0}if(!Array.isArray(w))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(w));if(!E){if(w[1]>=40)return this.reporter.error("Second objid identifier OOB");w.splice(0,2,w[0]*40+w[1])}for(var N=0,A=0;A<w.length;A++){var D=w[A];for(N++;D>=128;D>>=7)N++}for(var W=new e(N),P=W.length-1,A=w.length-1;A>=0;A--){var D=w[A];for(W[P--]=D&127;(D>>=7)>0;)W[P--]=128|D&127}return this._createEncoderBuffer(W)};function c(b){return b<10?"0"+b:b}u.prototype._encodeTime=function(w,x){var E,A=new Date(w);return x==="gentime"?E=[c(A.getFullYear()),c(A.getUTCMonth()+1),c(A.getUTCDate()),c(A.getUTCHours()),c(A.getUTCMinutes()),c(A.getUTCSeconds()),"Z"].join(""):x==="utctime"?E=[c(A.getFullYear()%100),c(A.getUTCMonth()+1),c(A.getUTCDate()),c(A.getUTCHours()),c(A.getUTCMinutes()),c(A.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+x+" time is not supported yet"),this._encodeStr(E,"octstr")},u.prototype._encodeNull=function(){return this._createEncoderBuffer("")},u.prototype._encodeInt=function(w,x){if(typeof w=="string"){if(!x)return this.reporter.error("String int or enum given, but no values map");if(!x.hasOwnProperty(w))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(w));w=x[w]}if(typeof w!="number"&&!e.isBuffer(w)){var E=w.toArray();!w.sign&&E[0]&128&&E.unshift(0),w=new e(E)}if(e.isBuffer(w)){var A=w.length;w.length===0&&A++;var D=new e(A);return w.copy(D),w.length===0&&(D[0]=0),this._createEncoderBuffer(D)}if(w<128)return this._createEncoderBuffer(w);if(w<256)return this._createEncoderBuffer([0,w]);for(var A=1,N=w;N>=256;N>>=8)A++;for(var D=new Array(A),N=D.length-1;N>=0;N--)D[N]=w&255,w>>=8;return D[0]&128&&D.unshift(0),this._createEncoderBuffer(new e(D))},u.prototype._encodeBool=function(w){return this._createEncoderBuffer(w?255:0)},u.prototype._use=function(w,x){return typeof w=="function"&&(w=w(x)),w._getEncoder("der").tree},u.prototype._skipDefault=function(w,x,E){var A=this._baseState,N;if(A.default===null)return!1;var D=w.join();if(A.defaultBuffer===void 0&&(A.defaultBuffer=this._encodeValue(A.default,x,E).join()),D.length!==A.defaultBuffer.length)return!1;for(N=0;N<D.length;N++)if(D[N]!==A.defaultBuffer[N])return!1;return!0};function v(b,w,x,E){var A;if(b==="seqof"?b="seq":b==="setof"&&(b="set"),s.tagByName.hasOwnProperty(b))A=s.tagByName[b];else if(typeof b=="number"&&(b|0)===b)A=b;else return E.error("Unknown tag: "+b);return A>=31?E.error("Multi-octet tag encoding unsupported"):(w||(A|=32),A|=s.tagClassByName[x||"universal"]<<6,A)}return r1}var n1,DM;function rQ(){if(DM)return n1;DM=1;var t=kt,e=XT();function r(n){e.call(this,n),this.enc="pem"}return t(r,e),n1=r,r.prototype.encode=function(s,i){for(var u=e.prototype.encode.call(this,s),c=u.toString("base64"),v=["-----BEGIN "+i.label+"-----"],b=0;b<c.length;b+=64)v.push(c.slice(b,b+64));return v.push("-----END "+i.label+"-----"),v.join(`
`)},n1}var OM;function nQ(){return OM||(OM=1,function(t){var e=t;e.der=XT(),e.pem=rQ()}(t1)),t1}var LM;function $c(){return LM||(LM=1,function(t){var e=t;e.bignum=ZZ,e.define=QZ().define,e.base=_h(),e.constants=YT(),e.decoders=tQ(),e.encoders=nQ()}(Kg)),Kg}var Ni=$c(),FM=Ni.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),iQ=Ni.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),ib=Ni.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),sQ=Ni.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(ib),this.key("subjectPublicKey").bitstr())}),oQ=Ni.define("RelativeDistinguishedName",function(){this.setof(iQ)}),aQ=Ni.define("RDNSequence",function(){this.seqof(oQ)}),VM=Ni.define("Name",function(){this.choice({rdnSequence:this.use(aQ)})}),lQ=Ni.define("Validity",function(){this.seq().obj(this.key("notBefore").use(FM),this.key("notAfter").use(FM))}),uQ=Ni.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),fQ=Ni.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(ib),this.key("issuer").use(VM),this.key("validity").use(lQ),this.key("subject").use(VM),this.key("subjectPublicKeyInfo").use(sQ),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(uQ).optional())}),hQ=Ni.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(fQ),this.key("signatureAlgorithm").use(ib),this.key("signatureValue").bitstr())}),cQ=hQ,Bi=$c();Pi.certificate=cQ;var dQ=Bi.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});Pi.RSAPrivateKey=dQ;var pQ=Bi.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});Pi.RSAPublicKey=pQ;var eR=Bi.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),mQ=Bi.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(eR),this.key("subjectPublicKey").bitstr())});Pi.PublicKey=mQ;var vQ=Bi.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(eR),this.key("subjectPrivateKey").octstr())});Pi.PrivateKey=vQ;var gQ=Bi.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});Pi.EncryptedPrivateKey=gQ;var yQ=Bi.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});Pi.DSAPrivateKey=yQ;Pi.DSAparam=Bi.define("DSAparam",function(){this.int()});var wQ=Bi.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),_Q=Bi.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(wQ),this.key("publicKey").optional().explicit(1).bitstr())});Pi.ECPrivateKey=_Q;Pi.signature=Bi.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())});const bQ={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var xQ=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,MQ=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,EQ=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,SQ=Gm,IQ=Hn,zd=At.Buffer,AQ=function(t,e){var r=t.toString(),n=r.match(xQ),s;if(n){var u="aes"+n[1],c=zd.from(n[2],"hex"),v=zd.from(n[3].replace(/[\r\n]/g,""),"base64"),b=SQ(e,c.slice(0,8),parseInt(n[1],10)).key,w=[],x=IQ.createDecipheriv(u,b,c);w.push(x.update(v)),w.push(x.final()),s=zd.concat(w)}else{var i=r.match(EQ);s=zd.from(i[2].replace(/[\r\n]/g,""),"base64")}var E=r.match(MQ)[1];return{tag:E,data:s}},Mn=Pi,TQ=bQ,RQ=AQ,kQ=Hn,CQ=Hm,_2=At.Buffer;function PQ(t,e){var r=t.algorithm.decrypt.kde.kdeparams.salt,n=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),s=TQ[t.algorithm.decrypt.cipher.algo.join(".")],i=t.algorithm.decrypt.cipher.iv,u=t.subjectPrivateKey,c=parseInt(s.split("-")[1],10)/8,v=CQ.pbkdf2Sync(e,r,n,c,"sha1"),b=kQ.createDecipheriv(s,v,i),w=[];return w.push(b.update(u)),w.push(b.final()),_2.concat(w)}function tR(t){var e;typeof t=="object"&&!_2.isBuffer(t)&&(e=t.passphrase,t=t.key),typeof t=="string"&&(t=_2.from(t));var r=RQ(t,e),n=r.tag,s=r.data,i,u;switch(n){case"CERTIFICATE":u=Mn.certificate.decode(s,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(u||(u=Mn.PublicKey.decode(s,"der")),i=u.algorithm.algorithm.join("."),i){case"1.2.840.113549.1.1.1":return Mn.RSAPublicKey.decode(u.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return u.subjectPrivateKey=u.subjectPublicKey,{type:"ec",data:u};case"1.2.840.10040.4.1":return u.algorithm.params.pub_key=Mn.DSAparam.decode(u.subjectPublicKey.data,"der"),{type:"dsa",data:u.algorithm.params};default:throw new Error("unknown key id "+i)}case"ENCRYPTED PRIVATE KEY":s=Mn.EncryptedPrivateKey.decode(s,"der"),s=PQ(s,e);case"PRIVATE KEY":switch(u=Mn.PrivateKey.decode(s,"der"),i=u.algorithm.algorithm.join("."),i){case"1.2.840.113549.1.1.1":return Mn.RSAPrivateKey.decode(u.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:u.algorithm.curve,privateKey:Mn.ECPrivateKey.decode(u.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return u.algorithm.params.priv_key=Mn.DSAparam.decode(u.subjectPrivateKey,"der"),{type:"dsa",params:u.algorithm.params};default:throw new Error("unknown key id "+i)}case"RSA PUBLIC KEY":return Mn.RSAPublicKey.decode(s,"der");case"RSA PRIVATE KEY":return Mn.RSAPrivateKey.decode(s,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:Mn.DSAPrivateKey.decode(s,"der")};case"EC PRIVATE KEY":return s=Mn.ECPrivateKey.decode(s,"der"),{curve:s.parameters.value,privateKey:s.privateKey};default:throw new Error("unknown key type "+n)}}tR.signature=Mn.signature;var fv=tR;const rR={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var UM;function NQ(){if(UM)return Of.exports;UM=1;var t=At.Buffer,e=vA,r=Q_,n=rb().ec,s=Z_,i=fv,u=rR,c=1;function v(P,C,z,K,ne){var ue=i(C);if(ue.curve){if(K!=="ecdsa"&&K!=="ecdsa/rsa")throw new Error("wrong private key type");return b(P,ue)}else if(ue.type==="dsa"){if(K!=="dsa")throw new Error("wrong private key type");return w(P,ue,z)}if(K!=="rsa"&&K!=="ecdsa/rsa")throw new Error("wrong private key type");if(C.padding!==void 0&&C.padding!==c)throw new Error("illegal or unsupported padding mode");P=t.concat([ne,P]);for(var G=ue.modulus.byteLength(),q=[0,1];P.length+q.length+1<G;)q.push(255);q.push(0);for(var j=-1;++j<P.length;)q.push(P[j]);var Q=r(q,ue);return Q}function b(P,C){var z=u[C.curve.join(".")];if(!z)throw new Error("unknown curve "+C.curve.join("."));var K=new n(z),ne=K.keyFromPrivate(C.privateKey),ue=ne.sign(P);return t.from(ue.toDER())}function w(P,C,z){for(var K=C.params.priv_key,ne=C.params.p,ue=C.params.q,G=C.params.g,q=new s(0),j,Q=A(P,ue).mod(ue),g=!1,o=E(K,ue,P,z);g===!1;)j=D(ue,o,z),q=W(G,j,ne,ue),g=j.invm(ue).imul(Q.add(K.mul(q))).mod(ue),g.cmpn(0)===0&&(g=!1,q=new s(0));return x(q,g)}function x(P,C){P=P.toArray(),C=C.toArray(),P[0]&128&&(P=[0].concat(P)),C[0]&128&&(C=[0].concat(C));var z=P.length+C.length+4,K=[48,z,2,P.length];return K=K.concat(P,[2,C.length],C),t.from(K)}function E(P,C,z,K){if(P=t.from(P.toArray()),P.length<C.byteLength()){var ne=t.alloc(C.byteLength()-P.length);P=t.concat([ne,P])}var ue=z.length,G=N(z,C),q=t.alloc(ue);q.fill(1);var j=t.alloc(ue);return j=e(K,j).update(q).update(t.from([0])).update(P).update(G).digest(),q=e(K,j).update(q).digest(),j=e(K,j).update(q).update(t.from([1])).update(P).update(G).digest(),q=e(K,j).update(q).digest(),{k:j,v:q}}function A(P,C){var z=new s(P),K=(P.length<<3)-C.bitLength();return K>0&&z.ishrn(K),z}function N(P,C){P=A(P,C),P=P.mod(C);var z=t.from(P.toArray());if(z.length<C.byteLength()){var K=t.alloc(C.byteLength()-z.length);z=t.concat([K,z])}return z}function D(P,C,z){var K,ne;do{for(K=t.alloc(0);K.length*8<P.bitLength();)C.v=e(z,C.k).update(C.v).digest(),K=t.concat([K,C.v]);ne=A(K,P),C.k=e(z,C.k).update(C.v).update(t.from([0])).digest(),C.v=e(z,C.k).update(C.v).digest()}while(ne.cmp(P)!==-1);return ne}function W(P,C,z,K){return P.toRed(s.mont(z)).redPow(C).fromRed().mod(K)}return Of.exports=v,Of.exports.getKey=E,Of.exports.makeKey=D,Of.exports}var i1,jM;function BQ(){if(jM)return i1;jM=1;var t=At.Buffer,e=Z_,r=rb().ec,n=fv,s=rR;function i(b,w,x,E,A){var N=n(x);if(N.type==="ec"){if(E!=="ecdsa"&&E!=="ecdsa/rsa")throw new Error("wrong public key type");return u(b,w,N)}else if(N.type==="dsa"){if(E!=="dsa")throw new Error("wrong public key type");return c(b,w,N)}if(E!=="rsa"&&E!=="ecdsa/rsa")throw new Error("wrong public key type");w=t.concat([A,w]);for(var D=N.modulus.byteLength(),W=[1],P=0;w.length+W.length+2<D;)W.push(255),P+=1;W.push(0);for(var C=-1;++C<w.length;)W.push(w[C]);W=t.from(W);var z=e.mont(N.modulus);b=new e(b).toRed(z),b=b.redPow(new e(N.publicExponent)),b=t.from(b.fromRed().toArray());var K=P<8?1:0;for(D=Math.min(b.length,W.length),b.length!==W.length&&(K=1),C=-1;++C<D;)K|=b[C]^W[C];return K===0}function u(b,w,x){var E=s[x.data.algorithm.curve.join(".")];if(!E)throw new Error("unknown curve "+x.data.algorithm.curve.join("."));var A=new r(E),N=x.data.subjectPrivateKey.data;return A.verify(w,b,N)}function c(b,w,x){var E=x.data.p,A=x.data.q,N=x.data.g,D=x.data.pub_key,W=n.signature.decode(b,"der"),P=W.s,C=W.r;v(P,A),v(C,A);var z=e.mont(E),K=P.invm(A),ne=N.toRed(z).redPow(new e(w).mul(K).mod(A)).fromRed().mul(D.toRed(z).redPow(C.mul(K).mod(A)).fromRed()).mod(E).mod(A);return ne.cmp(C)===0}function v(b,w){if(b.cmpn(0)<=0)throw new Error("invalid sig");if(b.cmp(w)>=0)throw new Error("invalid sig")}return i1=i,i1}var s1,zM;function DQ(){if(zM)return s1;zM=1;var t=At.Buffer,e=Dc,r=qW,n=kt,s=NQ(),i=BQ(),u=gA;Object.keys(u).forEach(function(x){u[x].id=t.from(u[x].id,"hex"),u[x.toLowerCase()]=u[x]});function c(x){r.Writable.call(this);var E=u[x];if(!E)throw new Error("Unknown message digest");this._hashType=E.hash,this._hash=e(E.hash),this._tag=E.id,this._signType=E.sign}n(c,r.Writable),c.prototype._write=function(E,A,N){this._hash.update(E),N()},c.prototype.update=function(E,A){return this._hash.update(typeof E=="string"?t.from(E,A):E),this},c.prototype.sign=function(E,A){this.end();var N=this._hash.digest(),D=s(N,E,this._hashType,this._signType,this._tag);return A?D.toString(A):D};function v(x){r.Writable.call(this);var E=u[x];if(!E)throw new Error("Unknown message digest");this._hash=e(E.hash),this._tag=E.id,this._signType=E.sign}n(v,r.Writable),v.prototype._write=function(E,A,N){this._hash.update(E),N()},v.prototype.update=function(E,A){return this._hash.update(typeof E=="string"?t.from(E,A):E),this},v.prototype.verify=function(E,A,N){var D=typeof A=="string"?t.from(A,N):A;this.end();var W=this._hash.digest();return i(D,W,E,this._signType,this._tag)};function b(x){return new c(x)}function w(x){return new v(x)}return s1={Sign:b,Verify:w,createSign:b,createVerify:w},s1}var sb={exports:{}};sb.exports;(function(t){(function(e,r){function n(g,o){if(!g)throw new Error(o||"Assertion failed")}function s(g,o){g.super_=o;var l=function(){};l.prototype=o.prototype,g.prototype=new l,g.prototype.constructor=g}function i(g,o,l){if(i.isBN(g))return g;this.negative=0,this.words=null,this.length=0,this.red=null,g!==null&&((o==="le"||o==="be")&&(l=o,o=10),this._init(g||0,o||10,l||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=ui.Buffer}catch{}i.isBN=function(o){return o instanceof i?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===i.wordSize&&Array.isArray(o.words)},i.max=function(o,l){return o.cmp(l)>0?o:l},i.min=function(o,l){return o.cmp(l)<0?o:l},i.prototype._init=function(o,l,f){if(typeof o=="number")return this._initNumber(o,l,f);if(typeof o=="object")return this._initArray(o,l,f);l==="hex"&&(l=16),n(l===(l|0)&&l>=2&&l<=36),o=o.toString().replace(/\s+/g,"");var h=0;o[0]==="-"&&(h++,this.negative=1),h<o.length&&(l===16?this._parseHex(o,h,f):(this._parseBase(o,l,h),f==="le"&&this._initArray(this.toArray(),l,f)))},i.prototype._initNumber=function(o,l,f){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(n(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),l,f)},i.prototype._initArray=function(o,l,f){if(n(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var m,y,_=0;if(f==="be")for(h=o.length-1,m=0;h>=0;h-=3)y=o[h]|o[h-1]<<8|o[h-2]<<16,this.words[m]|=y<<_&67108863,this.words[m+1]=y>>>26-_&67108863,_+=24,_>=26&&(_-=26,m++);else if(f==="le")for(h=0,m=0;h<o.length;h+=3)y=o[h]|o[h+1]<<8|o[h+2]<<16,this.words[m]|=y<<_&67108863,this.words[m+1]=y>>>26-_&67108863,_+=24,_>=26&&(_-=26,m++);return this.strip()};function c(g,o){var l=g.charCodeAt(o);return l>=65&&l<=70?l-55:l>=97&&l<=102?l-87:l-48&15}function v(g,o,l){var f=c(g,l);return l-1>=o&&(f|=c(g,l-1)<<4),f}i.prototype._parseHex=function(o,l,f){this.length=Math.ceil((o.length-l)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var m=0,y=0,_;if(f==="be")for(h=o.length-1;h>=l;h-=2)_=v(o,l,h)<<m,this.words[y]|=_&67108863,m>=18?(m-=18,y+=1,this.words[y]|=_>>>26):m+=8;else{var d=o.length-l;for(h=d%2===0?l+1:l;h<o.length;h+=2)_=v(o,l,h)<<m,this.words[y]|=_&67108863,m>=18?(m-=18,y+=1,this.words[y]|=_>>>26):m+=8}this.strip()};function b(g,o,l,f){for(var h=0,m=Math.min(g.length,l),y=o;y<m;y++){var _=g.charCodeAt(y)-48;h*=f,_>=49?h+=_-49+10:_>=17?h+=_-17+10:h+=_}return h}i.prototype._parseBase=function(o,l,f){this.words=[0],this.length=1;for(var h=0,m=1;m<=67108863;m*=l)h++;h--,m=m/l|0;for(var y=o.length-f,_=y%h,d=Math.min(y,y-_)+f,a=0,p=f;p<d;p+=h)a=b(o,p,p+h,l),this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(_!==0){var S=1;for(a=b(o,p,o.length,l),p=0;p<_;p++)S*=l;this.imuln(S),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},i.prototype.copy=function(o){o.words=new Array(this.length);for(var l=0;l<this.length;l++)o.words[l]=this.words[l];o.length=this.length,o.negative=this.negative,o.red=this.red},i.prototype.clone=function(){var o=new i(null);return this.copy(o),o},i.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(o,l){o=o||10,l=l|0||1;var f;if(o===16||o==="hex"){f="";for(var h=0,m=0,y=0;y<this.length;y++){var _=this.words[y],d=((_<<h|m)&16777215).toString(16);m=_>>>24-h&16777215,h+=2,h>=26&&(h-=26,y--),m!==0||y!==this.length-1?f=w[6-d.length]+d+f:f=d+f}for(m!==0&&(f=m.toString(16)+f);f.length%l!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(o===(o|0)&&o>=2&&o<=36){var a=x[o],p=E[o];f="";var S=this.clone();for(S.negative=0;!S.isZero();){var B=S.modn(p).toString(o);S=S.idivn(p),S.isZero()?f=B+f:f=w[a-B.length]+B+f}for(this.isZero()&&(f="0"+f);f.length%l!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(o,l){return n(typeof u<"u"),this.toArrayLike(u,o,l)},i.prototype.toArray=function(o,l){return this.toArrayLike(Array,o,l)},i.prototype.toArrayLike=function(o,l,f){var h=this.byteLength(),m=f||Math.max(1,h);n(h<=m,"byte array longer than desired length"),n(m>0,"Requested array length <= 0"),this.strip();var y=l==="le",_=new o(m),d,a,p=this.clone();if(y){for(a=0;!p.isZero();a++)d=p.andln(255),p.iushrn(8),_[a]=d;for(;a<m;a++)_[a]=0}else{for(a=0;a<m-h;a++)_[a]=0;for(a=0;!p.isZero();a++)d=p.andln(255),p.iushrn(8),_[m-a-1]=d}return _},Math.clz32?i.prototype._countBits=function(o){return 32-Math.clz32(o)}:i.prototype._countBits=function(o){var l=o,f=0;return l>=4096&&(f+=13,l>>>=13),l>=64&&(f+=7,l>>>=7),l>=8&&(f+=4,l>>>=4),l>=2&&(f+=2,l>>>=2),f+l},i.prototype._zeroBits=function(o){if(o===0)return 26;var l=o,f=0;return l&8191||(f+=13,l>>>=13),l&127||(f+=7,l>>>=7),l&15||(f+=4,l>>>=4),l&3||(f+=2,l>>>=2),l&1||f++,f},i.prototype.bitLength=function(){var o=this.words[this.length-1],l=this._countBits(o);return(this.length-1)*26+l};function A(g){for(var o=new Array(g.bitLength()),l=0;l<o.length;l++){var f=l/26|0,h=l%26;o[l]=(g.words[f]&1<<h)>>>h}return o}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,l=0;l<this.length;l++){var f=this._zeroBits(this.words[l]);if(o+=f,f!==26)break}return o},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},i.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var l=0;l<o.length;l++)this.words[l]=this.words[l]|o.words[l];return this.strip()},i.prototype.ior=function(o){return n((this.negative|o.negative)===0),this.iuor(o)},i.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},i.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},i.prototype.iuand=function(o){var l;this.length>o.length?l=o:l=this;for(var f=0;f<l.length;f++)this.words[f]=this.words[f]&o.words[f];return this.length=l.length,this.strip()},i.prototype.iand=function(o){return n((this.negative|o.negative)===0),this.iuand(o)},i.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},i.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},i.prototype.iuxor=function(o){var l,f;this.length>o.length?(l=this,f=o):(l=o,f=this);for(var h=0;h<f.length;h++)this.words[h]=l.words[h]^f.words[h];if(this!==l)for(;h<l.length;h++)this.words[h]=l.words[h];return this.length=l.length,this.strip()},i.prototype.ixor=function(o){return n((this.negative|o.negative)===0),this.iuxor(o)},i.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},i.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},i.prototype.inotn=function(o){n(typeof o=="number"&&o>=0);var l=Math.ceil(o/26)|0,f=o%26;this._expand(l),f>0&&l--;for(var h=0;h<l;h++)this.words[h]=~this.words[h]&67108863;return f>0&&(this.words[h]=~this.words[h]&67108863>>26-f),this.strip()},i.prototype.notn=function(o){return this.clone().inotn(o)},i.prototype.setn=function(o,l){n(typeof o=="number"&&o>=0);var f=o/26|0,h=o%26;return this._expand(f+1),l?this.words[f]=this.words[f]|1<<h:this.words[f]=this.words[f]&~(1<<h),this.strip()},i.prototype.iadd=function(o){var l;if(this.negative!==0&&o.negative===0)return this.negative=0,l=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,l=this.isub(o),o.negative=1,l._normSign();var f,h;this.length>o.length?(f=this,h=o):(f=o,h=this);for(var m=0,y=0;y<h.length;y++)l=(f.words[y]|0)+(h.words[y]|0)+m,this.words[y]=l&67108863,m=l>>>26;for(;m!==0&&y<f.length;y++)l=(f.words[y]|0)+m,this.words[y]=l&67108863,m=l>>>26;if(this.length=f.length,m!==0)this.words[this.length]=m,this.length++;else if(f!==this)for(;y<f.length;y++)this.words[y]=f.words[y];return this},i.prototype.add=function(o){var l;return o.negative!==0&&this.negative===0?(o.negative=0,l=this.sub(o),o.negative^=1,l):o.negative===0&&this.negative!==0?(this.negative=0,l=o.sub(this),this.negative=1,l):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},i.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var l=this.iadd(o);return o.negative=1,l._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var f=this.cmp(o);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,m;f>0?(h=this,m=o):(h=o,m=this);for(var y=0,_=0;_<m.length;_++)l=(h.words[_]|0)-(m.words[_]|0)+y,y=l>>26,this.words[_]=l&67108863;for(;y!==0&&_<h.length;_++)l=(h.words[_]|0)+y,y=l>>26,this.words[_]=l&67108863;if(y===0&&_<h.length&&h!==this)for(;_<h.length;_++)this.words[_]=h.words[_];return this.length=Math.max(this.length,_),h!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(o){return this.clone().isub(o)};function N(g,o,l){l.negative=o.negative^g.negative;var f=g.length+o.length|0;l.length=f,f=f-1|0;var h=g.words[0]|0,m=o.words[0]|0,y=h*m,_=y&67108863,d=y/67108864|0;l.words[0]=_;for(var a=1;a<f;a++){for(var p=d>>>26,S=d&67108863,B=Math.min(a,o.length-1),Z=Math.max(0,a-g.length+1);Z<=B;Z++){var X=a-Z|0;h=g.words[X]|0,m=o.words[Z]|0,y=h*m+S,p+=y/67108864|0,S=y&67108863}l.words[a]=S|0,d=p|0}return d!==0?l.words[a]=d|0:l.length--,l.strip()}var D=function(o,l,f){var h=o.words,m=l.words,y=f.words,_=0,d,a,p,S=h[0]|0,B=S&8191,Z=S>>>13,X=h[1]|0,oe=X&8191,H=X>>>13,ee=h[2]|0,se=ee&8191,le=ee>>>13,Ge=h[3]|0,he=Ge&8191,de=Ge>>>13,Ye=h[4]|0,xe=Ye&8191,Se=Ye>>>13,st=h[5]|0,Te=st&8191,ke=st>>>13,it=h[6]|0,Ie=it&8191,Be=it>>>13,ft=h[7]|0,Ee=ft&8191,Me=ft>>>13,rt=h[8]|0,V=rt&8191,R=rt>>>13,L=h[9]|0,T=L&8191,I=L>>>13,k=m[0]|0,F=k&8191,Y=k>>>13,pe=m[1]|0,ie=pe&8191,ge=pe>>>13,qe=m[2]|0,be=qe&8191,Ce=qe>>>13,et=m[3]|0,Ne=et&8191,Fe=et>>>13,gt=m[4]|0,De=gt&8191,Oe=gt>>>13,_t=m[5]|0,Pe=_t&8191,Ve=_t>>>13,dt=m[6]|0,J=dt&8191,re=dt>>>13,_e=m[7]|0,ae=_e&8191,me=_e>>>13,$e=m[8]|0,ve=$e&8191,ye=$e>>>13,ze=m[9]|0,ce=ze&8191,we=ze>>>13;f.negative=o.negative^l.negative,f.length=19,d=Math.imul(B,F),a=Math.imul(B,Y),a=a+Math.imul(Z,F)|0,p=Math.imul(Z,Y);var We=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(We>>>26)|0,We&=67108863,d=Math.imul(oe,F),a=Math.imul(oe,Y),a=a+Math.imul(H,F)|0,p=Math.imul(H,Y),d=d+Math.imul(B,ie)|0,a=a+Math.imul(B,ge)|0,a=a+Math.imul(Z,ie)|0,p=p+Math.imul(Z,ge)|0;var Ze=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,d=Math.imul(se,F),a=Math.imul(se,Y),a=a+Math.imul(le,F)|0,p=Math.imul(le,Y),d=d+Math.imul(oe,ie)|0,a=a+Math.imul(oe,ge)|0,a=a+Math.imul(H,ie)|0,p=p+Math.imul(H,ge)|0,d=d+Math.imul(B,be)|0,a=a+Math.imul(B,Ce)|0,a=a+Math.imul(Z,be)|0,p=p+Math.imul(Z,Ce)|0;var yt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(yt>>>26)|0,yt&=67108863,d=Math.imul(he,F),a=Math.imul(he,Y),a=a+Math.imul(de,F)|0,p=Math.imul(de,Y),d=d+Math.imul(se,ie)|0,a=a+Math.imul(se,ge)|0,a=a+Math.imul(le,ie)|0,p=p+Math.imul(le,ge)|0,d=d+Math.imul(oe,be)|0,a=a+Math.imul(oe,Ce)|0,a=a+Math.imul(H,be)|0,p=p+Math.imul(H,Ce)|0,d=d+Math.imul(B,Ne)|0,a=a+Math.imul(B,Fe)|0,a=a+Math.imul(Z,Ne)|0,p=p+Math.imul(Z,Fe)|0;var ct=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(ct>>>26)|0,ct&=67108863,d=Math.imul(xe,F),a=Math.imul(xe,Y),a=a+Math.imul(Se,F)|0,p=Math.imul(Se,Y),d=d+Math.imul(he,ie)|0,a=a+Math.imul(he,ge)|0,a=a+Math.imul(de,ie)|0,p=p+Math.imul(de,ge)|0,d=d+Math.imul(se,be)|0,a=a+Math.imul(se,Ce)|0,a=a+Math.imul(le,be)|0,p=p+Math.imul(le,Ce)|0,d=d+Math.imul(oe,Ne)|0,a=a+Math.imul(oe,Fe)|0,a=a+Math.imul(H,Ne)|0,p=p+Math.imul(H,Fe)|0,d=d+Math.imul(B,De)|0,a=a+Math.imul(B,Oe)|0,a=a+Math.imul(Z,De)|0,p=p+Math.imul(Z,Oe)|0;var at=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(at>>>26)|0,at&=67108863,d=Math.imul(Te,F),a=Math.imul(Te,Y),a=a+Math.imul(ke,F)|0,p=Math.imul(ke,Y),d=d+Math.imul(xe,ie)|0,a=a+Math.imul(xe,ge)|0,a=a+Math.imul(Se,ie)|0,p=p+Math.imul(Se,ge)|0,d=d+Math.imul(he,be)|0,a=a+Math.imul(he,Ce)|0,a=a+Math.imul(de,be)|0,p=p+Math.imul(de,Ce)|0,d=d+Math.imul(se,Ne)|0,a=a+Math.imul(se,Fe)|0,a=a+Math.imul(le,Ne)|0,p=p+Math.imul(le,Fe)|0,d=d+Math.imul(oe,De)|0,a=a+Math.imul(oe,Oe)|0,a=a+Math.imul(H,De)|0,p=p+Math.imul(H,Oe)|0,d=d+Math.imul(B,Pe)|0,a=a+Math.imul(B,Ve)|0,a=a+Math.imul(Z,Pe)|0,p=p+Math.imul(Z,Ve)|0;var pt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(pt>>>26)|0,pt&=67108863,d=Math.imul(Ie,F),a=Math.imul(Ie,Y),a=a+Math.imul(Be,F)|0,p=Math.imul(Be,Y),d=d+Math.imul(Te,ie)|0,a=a+Math.imul(Te,ge)|0,a=a+Math.imul(ke,ie)|0,p=p+Math.imul(ke,ge)|0,d=d+Math.imul(xe,be)|0,a=a+Math.imul(xe,Ce)|0,a=a+Math.imul(Se,be)|0,p=p+Math.imul(Se,Ce)|0,d=d+Math.imul(he,Ne)|0,a=a+Math.imul(he,Fe)|0,a=a+Math.imul(de,Ne)|0,p=p+Math.imul(de,Fe)|0,d=d+Math.imul(se,De)|0,a=a+Math.imul(se,Oe)|0,a=a+Math.imul(le,De)|0,p=p+Math.imul(le,Oe)|0,d=d+Math.imul(oe,Pe)|0,a=a+Math.imul(oe,Ve)|0,a=a+Math.imul(H,Pe)|0,p=p+Math.imul(H,Ve)|0,d=d+Math.imul(B,J)|0,a=a+Math.imul(B,re)|0,a=a+Math.imul(Z,J)|0,p=p+Math.imul(Z,re)|0;var Ct=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,d=Math.imul(Ee,F),a=Math.imul(Ee,Y),a=a+Math.imul(Me,F)|0,p=Math.imul(Me,Y),d=d+Math.imul(Ie,ie)|0,a=a+Math.imul(Ie,ge)|0,a=a+Math.imul(Be,ie)|0,p=p+Math.imul(Be,ge)|0,d=d+Math.imul(Te,be)|0,a=a+Math.imul(Te,Ce)|0,a=a+Math.imul(ke,be)|0,p=p+Math.imul(ke,Ce)|0,d=d+Math.imul(xe,Ne)|0,a=a+Math.imul(xe,Fe)|0,a=a+Math.imul(Se,Ne)|0,p=p+Math.imul(Se,Fe)|0,d=d+Math.imul(he,De)|0,a=a+Math.imul(he,Oe)|0,a=a+Math.imul(de,De)|0,p=p+Math.imul(de,Oe)|0,d=d+Math.imul(se,Pe)|0,a=a+Math.imul(se,Ve)|0,a=a+Math.imul(le,Pe)|0,p=p+Math.imul(le,Ve)|0,d=d+Math.imul(oe,J)|0,a=a+Math.imul(oe,re)|0,a=a+Math.imul(H,J)|0,p=p+Math.imul(H,re)|0,d=d+Math.imul(B,ae)|0,a=a+Math.imul(B,me)|0,a=a+Math.imul(Z,ae)|0,p=p+Math.imul(Z,me)|0;var Ot=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,d=Math.imul(V,F),a=Math.imul(V,Y),a=a+Math.imul(R,F)|0,p=Math.imul(R,Y),d=d+Math.imul(Ee,ie)|0,a=a+Math.imul(Ee,ge)|0,a=a+Math.imul(Me,ie)|0,p=p+Math.imul(Me,ge)|0,d=d+Math.imul(Ie,be)|0,a=a+Math.imul(Ie,Ce)|0,a=a+Math.imul(Be,be)|0,p=p+Math.imul(Be,Ce)|0,d=d+Math.imul(Te,Ne)|0,a=a+Math.imul(Te,Fe)|0,a=a+Math.imul(ke,Ne)|0,p=p+Math.imul(ke,Fe)|0,d=d+Math.imul(xe,De)|0,a=a+Math.imul(xe,Oe)|0,a=a+Math.imul(Se,De)|0,p=p+Math.imul(Se,Oe)|0,d=d+Math.imul(he,Pe)|0,a=a+Math.imul(he,Ve)|0,a=a+Math.imul(de,Pe)|0,p=p+Math.imul(de,Ve)|0,d=d+Math.imul(se,J)|0,a=a+Math.imul(se,re)|0,a=a+Math.imul(le,J)|0,p=p+Math.imul(le,re)|0,d=d+Math.imul(oe,ae)|0,a=a+Math.imul(oe,me)|0,a=a+Math.imul(H,ae)|0,p=p+Math.imul(H,me)|0,d=d+Math.imul(B,ve)|0,a=a+Math.imul(B,ye)|0,a=a+Math.imul(Z,ve)|0,p=p+Math.imul(Z,ye)|0;var Tt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,d=Math.imul(T,F),a=Math.imul(T,Y),a=a+Math.imul(I,F)|0,p=Math.imul(I,Y),d=d+Math.imul(V,ie)|0,a=a+Math.imul(V,ge)|0,a=a+Math.imul(R,ie)|0,p=p+Math.imul(R,ge)|0,d=d+Math.imul(Ee,be)|0,a=a+Math.imul(Ee,Ce)|0,a=a+Math.imul(Me,be)|0,p=p+Math.imul(Me,Ce)|0,d=d+Math.imul(Ie,Ne)|0,a=a+Math.imul(Ie,Fe)|0,a=a+Math.imul(Be,Ne)|0,p=p+Math.imul(Be,Fe)|0,d=d+Math.imul(Te,De)|0,a=a+Math.imul(Te,Oe)|0,a=a+Math.imul(ke,De)|0,p=p+Math.imul(ke,Oe)|0,d=d+Math.imul(xe,Pe)|0,a=a+Math.imul(xe,Ve)|0,a=a+Math.imul(Se,Pe)|0,p=p+Math.imul(Se,Ve)|0,d=d+Math.imul(he,J)|0,a=a+Math.imul(he,re)|0,a=a+Math.imul(de,J)|0,p=p+Math.imul(de,re)|0,d=d+Math.imul(se,ae)|0,a=a+Math.imul(se,me)|0,a=a+Math.imul(le,ae)|0,p=p+Math.imul(le,me)|0,d=d+Math.imul(oe,ve)|0,a=a+Math.imul(oe,ye)|0,a=a+Math.imul(H,ve)|0,p=p+Math.imul(H,ye)|0,d=d+Math.imul(B,ce)|0,a=a+Math.imul(B,we)|0,a=a+Math.imul(Z,ce)|0,p=p+Math.imul(Z,we)|0;var xt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(xt>>>26)|0,xt&=67108863,d=Math.imul(T,ie),a=Math.imul(T,ge),a=a+Math.imul(I,ie)|0,p=Math.imul(I,ge),d=d+Math.imul(V,be)|0,a=a+Math.imul(V,Ce)|0,a=a+Math.imul(R,be)|0,p=p+Math.imul(R,Ce)|0,d=d+Math.imul(Ee,Ne)|0,a=a+Math.imul(Ee,Fe)|0,a=a+Math.imul(Me,Ne)|0,p=p+Math.imul(Me,Fe)|0,d=d+Math.imul(Ie,De)|0,a=a+Math.imul(Ie,Oe)|0,a=a+Math.imul(Be,De)|0,p=p+Math.imul(Be,Oe)|0,d=d+Math.imul(Te,Pe)|0,a=a+Math.imul(Te,Ve)|0,a=a+Math.imul(ke,Pe)|0,p=p+Math.imul(ke,Ve)|0,d=d+Math.imul(xe,J)|0,a=a+Math.imul(xe,re)|0,a=a+Math.imul(Se,J)|0,p=p+Math.imul(Se,re)|0,d=d+Math.imul(he,ae)|0,a=a+Math.imul(he,me)|0,a=a+Math.imul(de,ae)|0,p=p+Math.imul(de,me)|0,d=d+Math.imul(se,ve)|0,a=a+Math.imul(se,ye)|0,a=a+Math.imul(le,ve)|0,p=p+Math.imul(le,ye)|0,d=d+Math.imul(oe,ce)|0,a=a+Math.imul(oe,we)|0,a=a+Math.imul(H,ce)|0,p=p+Math.imul(H,we)|0;var zt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(zt>>>26)|0,zt&=67108863,d=Math.imul(T,be),a=Math.imul(T,Ce),a=a+Math.imul(I,be)|0,p=Math.imul(I,Ce),d=d+Math.imul(V,Ne)|0,a=a+Math.imul(V,Fe)|0,a=a+Math.imul(R,Ne)|0,p=p+Math.imul(R,Fe)|0,d=d+Math.imul(Ee,De)|0,a=a+Math.imul(Ee,Oe)|0,a=a+Math.imul(Me,De)|0,p=p+Math.imul(Me,Oe)|0,d=d+Math.imul(Ie,Pe)|0,a=a+Math.imul(Ie,Ve)|0,a=a+Math.imul(Be,Pe)|0,p=p+Math.imul(Be,Ve)|0,d=d+Math.imul(Te,J)|0,a=a+Math.imul(Te,re)|0,a=a+Math.imul(ke,J)|0,p=p+Math.imul(ke,re)|0,d=d+Math.imul(xe,ae)|0,a=a+Math.imul(xe,me)|0,a=a+Math.imul(Se,ae)|0,p=p+Math.imul(Se,me)|0,d=d+Math.imul(he,ve)|0,a=a+Math.imul(he,ye)|0,a=a+Math.imul(de,ve)|0,p=p+Math.imul(de,ye)|0,d=d+Math.imul(se,ce)|0,a=a+Math.imul(se,we)|0,a=a+Math.imul(le,ce)|0,p=p+Math.imul(le,we)|0;var Pt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,d=Math.imul(T,Ne),a=Math.imul(T,Fe),a=a+Math.imul(I,Ne)|0,p=Math.imul(I,Fe),d=d+Math.imul(V,De)|0,a=a+Math.imul(V,Oe)|0,a=a+Math.imul(R,De)|0,p=p+Math.imul(R,Oe)|0,d=d+Math.imul(Ee,Pe)|0,a=a+Math.imul(Ee,Ve)|0,a=a+Math.imul(Me,Pe)|0,p=p+Math.imul(Me,Ve)|0,d=d+Math.imul(Ie,J)|0,a=a+Math.imul(Ie,re)|0,a=a+Math.imul(Be,J)|0,p=p+Math.imul(Be,re)|0,d=d+Math.imul(Te,ae)|0,a=a+Math.imul(Te,me)|0,a=a+Math.imul(ke,ae)|0,p=p+Math.imul(ke,me)|0,d=d+Math.imul(xe,ve)|0,a=a+Math.imul(xe,ye)|0,a=a+Math.imul(Se,ve)|0,p=p+Math.imul(Se,ye)|0,d=d+Math.imul(he,ce)|0,a=a+Math.imul(he,we)|0,a=a+Math.imul(de,ce)|0,p=p+Math.imul(de,we)|0;var Mt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,d=Math.imul(T,De),a=Math.imul(T,Oe),a=a+Math.imul(I,De)|0,p=Math.imul(I,Oe),d=d+Math.imul(V,Pe)|0,a=a+Math.imul(V,Ve)|0,a=a+Math.imul(R,Pe)|0,p=p+Math.imul(R,Ve)|0,d=d+Math.imul(Ee,J)|0,a=a+Math.imul(Ee,re)|0,a=a+Math.imul(Me,J)|0,p=p+Math.imul(Me,re)|0,d=d+Math.imul(Ie,ae)|0,a=a+Math.imul(Ie,me)|0,a=a+Math.imul(Be,ae)|0,p=p+Math.imul(Be,me)|0,d=d+Math.imul(Te,ve)|0,a=a+Math.imul(Te,ye)|0,a=a+Math.imul(ke,ve)|0,p=p+Math.imul(ke,ye)|0,d=d+Math.imul(xe,ce)|0,a=a+Math.imul(xe,we)|0,a=a+Math.imul(Se,ce)|0,p=p+Math.imul(Se,we)|0;var St=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(St>>>26)|0,St&=67108863,d=Math.imul(T,Pe),a=Math.imul(T,Ve),a=a+Math.imul(I,Pe)|0,p=Math.imul(I,Ve),d=d+Math.imul(V,J)|0,a=a+Math.imul(V,re)|0,a=a+Math.imul(R,J)|0,p=p+Math.imul(R,re)|0,d=d+Math.imul(Ee,ae)|0,a=a+Math.imul(Ee,me)|0,a=a+Math.imul(Me,ae)|0,p=p+Math.imul(Me,me)|0,d=d+Math.imul(Ie,ve)|0,a=a+Math.imul(Ie,ye)|0,a=a+Math.imul(Be,ve)|0,p=p+Math.imul(Be,ye)|0,d=d+Math.imul(Te,ce)|0,a=a+Math.imul(Te,we)|0,a=a+Math.imul(ke,ce)|0,p=p+Math.imul(ke,we)|0;var Lt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,d=Math.imul(T,J),a=Math.imul(T,re),a=a+Math.imul(I,J)|0,p=Math.imul(I,re),d=d+Math.imul(V,ae)|0,a=a+Math.imul(V,me)|0,a=a+Math.imul(R,ae)|0,p=p+Math.imul(R,me)|0,d=d+Math.imul(Ee,ve)|0,a=a+Math.imul(Ee,ye)|0,a=a+Math.imul(Me,ve)|0,p=p+Math.imul(Me,ye)|0,d=d+Math.imul(Ie,ce)|0,a=a+Math.imul(Ie,we)|0,a=a+Math.imul(Be,ce)|0,p=p+Math.imul(Be,we)|0;var ut=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(ut>>>26)|0,ut&=67108863,d=Math.imul(T,ae),a=Math.imul(T,me),a=a+Math.imul(I,ae)|0,p=Math.imul(I,me),d=d+Math.imul(V,ve)|0,a=a+Math.imul(V,ye)|0,a=a+Math.imul(R,ve)|0,p=p+Math.imul(R,ye)|0,d=d+Math.imul(Ee,ce)|0,a=a+Math.imul(Ee,we)|0,a=a+Math.imul(Me,ce)|0,p=p+Math.imul(Me,we)|0;var vt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(vt>>>26)|0,vt&=67108863,d=Math.imul(T,ve),a=Math.imul(T,ye),a=a+Math.imul(I,ve)|0,p=Math.imul(I,ye),d=d+Math.imul(V,ce)|0,a=a+Math.imul(V,we)|0,a=a+Math.imul(R,ce)|0,p=p+Math.imul(R,we)|0;var Nt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,d=Math.imul(T,ce),a=Math.imul(T,we),a=a+Math.imul(I,ce)|0,p=Math.imul(I,we);var Ft=(_+d|0)+((a&8191)<<13)|0;return _=(p+(a>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,y[0]=We,y[1]=Ze,y[2]=yt,y[3]=ct,y[4]=at,y[5]=pt,y[6]=Ct,y[7]=Ot,y[8]=Tt,y[9]=xt,y[10]=zt,y[11]=Pt,y[12]=Mt,y[13]=St,y[14]=Lt,y[15]=ut,y[16]=vt,y[17]=Nt,y[18]=Ft,_!==0&&(y[19]=_,f.length++),f};Math.imul||(D=N);function W(g,o,l){l.negative=o.negative^g.negative,l.length=g.length+o.length;for(var f=0,h=0,m=0;m<l.length-1;m++){var y=h;h=0;for(var _=f&67108863,d=Math.min(m,o.length-1),a=Math.max(0,m-g.length+1);a<=d;a++){var p=m-a,S=g.words[p]|0,B=o.words[a]|0,Z=S*B,X=Z&67108863;y=y+(Z/67108864|0)|0,X=X+_|0,_=X&67108863,y=y+(X>>>26)|0,h+=y>>>26,y&=67108863}l.words[m]=_,f=y,y=h}return f!==0?l.words[m]=f:l.length--,l.strip()}function P(g,o,l){var f=new C;return f.mulp(g,o,l)}i.prototype.mulTo=function(o,l){var f,h=this.length+o.length;return this.length===10&&o.length===10?f=D(this,o,l):h<63?f=N(this,o,l):h<1024?f=W(this,o,l):f=P(this,o,l),f};function C(g,o){this.x=g,this.y=o}C.prototype.makeRBT=function(o){for(var l=new Array(o),f=i.prototype._countBits(o)-1,h=0;h<o;h++)l[h]=this.revBin(h,f,o);return l},C.prototype.revBin=function(o,l,f){if(o===0||o===f-1)return o;for(var h=0,m=0;m<l;m++)h|=(o&1)<<l-m-1,o>>=1;return h},C.prototype.permute=function(o,l,f,h,m,y){for(var _=0;_<y;_++)h[_]=l[o[_]],m[_]=f[o[_]]},C.prototype.transform=function(o,l,f,h,m,y){this.permute(y,o,l,f,h,m);for(var _=1;_<m;_<<=1)for(var d=_<<1,a=Math.cos(2*Math.PI/d),p=Math.sin(2*Math.PI/d),S=0;S<m;S+=d)for(var B=a,Z=p,X=0;X<_;X++){var oe=f[S+X],H=h[S+X],ee=f[S+X+_],se=h[S+X+_],le=B*ee-Z*se;se=B*se+Z*ee,ee=le,f[S+X]=oe+ee,h[S+X]=H+se,f[S+X+_]=oe-ee,h[S+X+_]=H-se,X!==d&&(le=a*B-p*Z,Z=a*Z+p*B,B=le)}},C.prototype.guessLen13b=function(o,l){var f=Math.max(l,o)|1,h=f&1,m=0;for(f=f/2|0;f;f=f>>>1)m++;return 1<<m+1+h},C.prototype.conjugate=function(o,l,f){if(!(f<=1))for(var h=0;h<f/2;h++){var m=o[h];o[h]=o[f-h-1],o[f-h-1]=m,m=l[h],l[h]=-l[f-h-1],l[f-h-1]=-m}},C.prototype.normalize13b=function(o,l){for(var f=0,h=0;h<l/2;h++){var m=Math.round(o[2*h+1]/l)*8192+Math.round(o[2*h]/l)+f;o[h]=m&67108863,m<67108864?f=0:f=m/67108864|0}return o},C.prototype.convert13b=function(o,l,f,h){for(var m=0,y=0;y<l;y++)m=m+(o[y]|0),f[2*y]=m&8191,m=m>>>13,f[2*y+1]=m&8191,m=m>>>13;for(y=2*l;y<h;++y)f[y]=0;n(m===0),n((m&-8192)===0)},C.prototype.stub=function(o){for(var l=new Array(o),f=0;f<o;f++)l[f]=0;return l},C.prototype.mulp=function(o,l,f){var h=2*this.guessLen13b(o.length,l.length),m=this.makeRBT(h),y=this.stub(h),_=new Array(h),d=new Array(h),a=new Array(h),p=new Array(h),S=new Array(h),B=new Array(h),Z=f.words;Z.length=h,this.convert13b(o.words,o.length,_,h),this.convert13b(l.words,l.length,p,h),this.transform(_,y,d,a,h,m),this.transform(p,y,S,B,h,m);for(var X=0;X<h;X++){var oe=d[X]*S[X]-a[X]*B[X];a[X]=d[X]*B[X]+a[X]*S[X],d[X]=oe}return this.conjugate(d,a,h),this.transform(d,a,Z,y,h,m),this.conjugate(Z,y,h),this.normalize13b(Z,h),f.negative=o.negative^l.negative,f.length=o.length+l.length,f.strip()},i.prototype.mul=function(o){var l=new i(null);return l.words=new Array(this.length+o.length),this.mulTo(o,l)},i.prototype.mulf=function(o){var l=new i(null);return l.words=new Array(this.length+o.length),P(this,o,l)},i.prototype.imul=function(o){return this.clone().mulTo(o,this)},i.prototype.imuln=function(o){n(typeof o=="number"),n(o<67108864);for(var l=0,f=0;f<this.length;f++){var h=(this.words[f]|0)*o,m=(h&67108863)+(l&67108863);l>>=26,l+=h/67108864|0,l+=m>>>26,this.words[f]=m&67108863}return l!==0&&(this.words[f]=l,this.length++),this},i.prototype.muln=function(o){return this.clone().imuln(o)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(o){var l=A(o);if(l.length===0)return new i(1);for(var f=this,h=0;h<l.length&&l[h]===0;h++,f=f.sqr());if(++h<l.length)for(var m=f.sqr();h<l.length;h++,m=m.sqr())l[h]!==0&&(f=f.mul(m));return f},i.prototype.iushln=function(o){n(typeof o=="number"&&o>=0);var l=o%26,f=(o-l)/26,h=67108863>>>26-l<<26-l,m;if(l!==0){var y=0;for(m=0;m<this.length;m++){var _=this.words[m]&h,d=(this.words[m]|0)-_<<l;this.words[m]=d|y,y=_>>>26-l}y&&(this.words[m]=y,this.length++)}if(f!==0){for(m=this.length-1;m>=0;m--)this.words[m+f]=this.words[m];for(m=0;m<f;m++)this.words[m]=0;this.length+=f}return this.strip()},i.prototype.ishln=function(o){return n(this.negative===0),this.iushln(o)},i.prototype.iushrn=function(o,l,f){n(typeof o=="number"&&o>=0);var h;l?h=(l-l%26)/26:h=0;var m=o%26,y=Math.min((o-m)/26,this.length),_=67108863^67108863>>>m<<m,d=f;if(h-=y,h=Math.max(0,h),d){for(var a=0;a<y;a++)d.words[a]=this.words[a];d.length=y}if(y!==0)if(this.length>y)for(this.length-=y,a=0;a<this.length;a++)this.words[a]=this.words[a+y];else this.words[0]=0,this.length=1;var p=0;for(a=this.length-1;a>=0&&(p!==0||a>=h);a--){var S=this.words[a]|0;this.words[a]=p<<26-m|S>>>m,p=S&_}return d&&p!==0&&(d.words[d.length++]=p),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(o,l,f){return n(this.negative===0),this.iushrn(o,l,f)},i.prototype.shln=function(o){return this.clone().ishln(o)},i.prototype.ushln=function(o){return this.clone().iushln(o)},i.prototype.shrn=function(o){return this.clone().ishrn(o)},i.prototype.ushrn=function(o){return this.clone().iushrn(o)},i.prototype.testn=function(o){n(typeof o=="number"&&o>=0);var l=o%26,f=(o-l)/26,h=1<<l;if(this.length<=f)return!1;var m=this.words[f];return!!(m&h)},i.prototype.imaskn=function(o){n(typeof o=="number"&&o>=0);var l=o%26,f=(o-l)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(l!==0&&f++,this.length=Math.min(f,this.length),l!==0){var h=67108863^67108863>>>l<<l;this.words[this.length-1]&=h}return this.strip()},i.prototype.maskn=function(o){return this.clone().imaskn(o)},i.prototype.iaddn=function(o){return n(typeof o=="number"),n(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},i.prototype._iaddn=function(o){this.words[0]+=o;for(var l=0;l<this.length&&this.words[l]>=67108864;l++)this.words[l]-=67108864,l===this.length-1?this.words[l+1]=1:this.words[l+1]++;return this.length=Math.max(this.length,l+1),this},i.prototype.isubn=function(o){if(n(typeof o=="number"),n(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var l=0;l<this.length&&this.words[l]<0;l++)this.words[l]+=67108864,this.words[l+1]-=1;return this.strip()},i.prototype.addn=function(o){return this.clone().iaddn(o)},i.prototype.subn=function(o){return this.clone().isubn(o)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(o,l,f){var h=o.length+f,m;this._expand(h);var y,_=0;for(m=0;m<o.length;m++){y=(this.words[m+f]|0)+_;var d=(o.words[m]|0)*l;y-=d&67108863,_=(y>>26)-(d/67108864|0),this.words[m+f]=y&67108863}for(;m<this.length-f;m++)y=(this.words[m+f]|0)+_,_=y>>26,this.words[m+f]=y&67108863;if(_===0)return this.strip();for(n(_===-1),_=0,m=0;m<this.length;m++)y=-(this.words[m]|0)+_,_=y>>26,this.words[m]=y&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(o,l){var f=this.length-o.length,h=this.clone(),m=o,y=m.words[m.length-1]|0,_=this._countBits(y);f=26-_,f!==0&&(m=m.ushln(f),h.iushln(f),y=m.words[m.length-1]|0);var d=h.length-m.length,a;if(l!=="mod"){a=new i(null),a.length=d+1,a.words=new Array(a.length);for(var p=0;p<a.length;p++)a.words[p]=0}var S=h.clone()._ishlnsubmul(m,1,d);S.negative===0&&(h=S,a&&(a.words[d]=1));for(var B=d-1;B>=0;B--){var Z=(h.words[m.length+B]|0)*67108864+(h.words[m.length+B-1]|0);for(Z=Math.min(Z/y|0,67108863),h._ishlnsubmul(m,Z,B);h.negative!==0;)Z--,h.negative=0,h._ishlnsubmul(m,1,B),h.isZero()||(h.negative^=1);a&&(a.words[B]=Z)}return a&&a.strip(),h.strip(),l!=="div"&&f!==0&&h.iushrn(f),{div:a||null,mod:h}},i.prototype.divmod=function(o,l,f){if(n(!o.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var h,m,y;return this.negative!==0&&o.negative===0?(y=this.neg().divmod(o,l),l!=="mod"&&(h=y.div.neg()),l!=="div"&&(m=y.mod.neg(),f&&m.negative!==0&&m.iadd(o)),{div:h,mod:m}):this.negative===0&&o.negative!==0?(y=this.divmod(o.neg(),l),l!=="mod"&&(h=y.div.neg()),{div:h,mod:y.mod}):this.negative&o.negative?(y=this.neg().divmod(o.neg(),l),l!=="div"&&(m=y.mod.neg(),f&&m.negative!==0&&m.isub(o)),{div:y.div,mod:m}):o.length>this.length||this.cmp(o)<0?{div:new i(0),mod:this}:o.length===1?l==="div"?{div:this.divn(o.words[0]),mod:null}:l==="mod"?{div:null,mod:new i(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new i(this.modn(o.words[0]))}:this._wordDiv(o,l)},i.prototype.div=function(o){return this.divmod(o,"div",!1).div},i.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},i.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},i.prototype.divRound=function(o){var l=this.divmod(o);if(l.mod.isZero())return l.div;var f=l.div.negative!==0?l.mod.isub(o):l.mod,h=o.ushrn(1),m=o.andln(1),y=f.cmp(h);return y<0||m===1&&y===0?l.div:l.div.negative!==0?l.div.isubn(1):l.div.iaddn(1)},i.prototype.modn=function(o){n(o<=67108863);for(var l=(1<<26)%o,f=0,h=this.length-1;h>=0;h--)f=(l*f+(this.words[h]|0))%o;return f},i.prototype.idivn=function(o){n(o<=67108863);for(var l=0,f=this.length-1;f>=0;f--){var h=(this.words[f]|0)+l*67108864;this.words[f]=h/o|0,l=h%o}return this.strip()},i.prototype.divn=function(o){return this.clone().idivn(o)},i.prototype.egcd=function(o){n(o.negative===0),n(!o.isZero());var l=this,f=o.clone();l.negative!==0?l=l.umod(o):l=l.clone();for(var h=new i(1),m=new i(0),y=new i(0),_=new i(1),d=0;l.isEven()&&f.isEven();)l.iushrn(1),f.iushrn(1),++d;for(var a=f.clone(),p=l.clone();!l.isZero();){for(var S=0,B=1;!(l.words[0]&B)&&S<26;++S,B<<=1);if(S>0)for(l.iushrn(S);S-- >0;)(h.isOdd()||m.isOdd())&&(h.iadd(a),m.isub(p)),h.iushrn(1),m.iushrn(1);for(var Z=0,X=1;!(f.words[0]&X)&&Z<26;++Z,X<<=1);if(Z>0)for(f.iushrn(Z);Z-- >0;)(y.isOdd()||_.isOdd())&&(y.iadd(a),_.isub(p)),y.iushrn(1),_.iushrn(1);l.cmp(f)>=0?(l.isub(f),h.isub(y),m.isub(_)):(f.isub(l),y.isub(h),_.isub(m))}return{a:y,b:_,gcd:f.iushln(d)}},i.prototype._invmp=function(o){n(o.negative===0),n(!o.isZero());var l=this,f=o.clone();l.negative!==0?l=l.umod(o):l=l.clone();for(var h=new i(1),m=new i(0),y=f.clone();l.cmpn(1)>0&&f.cmpn(1)>0;){for(var _=0,d=1;!(l.words[0]&d)&&_<26;++_,d<<=1);if(_>0)for(l.iushrn(_);_-- >0;)h.isOdd()&&h.iadd(y),h.iushrn(1);for(var a=0,p=1;!(f.words[0]&p)&&a<26;++a,p<<=1);if(a>0)for(f.iushrn(a);a-- >0;)m.isOdd()&&m.iadd(y),m.iushrn(1);l.cmp(f)>=0?(l.isub(f),h.isub(m)):(f.isub(l),m.isub(h))}var S;return l.cmpn(1)===0?S=h:S=m,S.cmpn(0)<0&&S.iadd(o),S},i.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var l=this.clone(),f=o.clone();l.negative=0,f.negative=0;for(var h=0;l.isEven()&&f.isEven();h++)l.iushrn(1),f.iushrn(1);do{for(;l.isEven();)l.iushrn(1);for(;f.isEven();)f.iushrn(1);var m=l.cmp(f);if(m<0){var y=l;l=f,f=y}else if(m===0||f.cmpn(1)===0)break;l.isub(f)}while(!0);return f.iushln(h)},i.prototype.invm=function(o){return this.egcd(o).a.umod(o)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(o){return this.words[0]&o},i.prototype.bincn=function(o){n(typeof o=="number");var l=o%26,f=(o-l)/26,h=1<<l;if(this.length<=f)return this._expand(f+1),this.words[f]|=h,this;for(var m=h,y=f;m!==0&&y<this.length;y++){var _=this.words[y]|0;_+=m,m=_>>>26,_&=67108863,this.words[y]=_}return m!==0&&(this.words[y]=m,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(o){var l=o<0;if(this.negative!==0&&!l)return-1;if(this.negative===0&&l)return 1;this.strip();var f;if(this.length>1)f=1;else{l&&(o=-o),n(o<=67108863,"Number is too big");var h=this.words[0]|0;f=h===o?0:h<o?-1:1}return this.negative!==0?-f|0:f},i.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var l=this.ucmp(o);return this.negative!==0?-l|0:l},i.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var l=0,f=this.length-1;f>=0;f--){var h=this.words[f]|0,m=o.words[f]|0;if(h!==m){h<m?l=-1:h>m&&(l=1);break}}return l},i.prototype.gtn=function(o){return this.cmpn(o)===1},i.prototype.gt=function(o){return this.cmp(o)===1},i.prototype.gten=function(o){return this.cmpn(o)>=0},i.prototype.gte=function(o){return this.cmp(o)>=0},i.prototype.ltn=function(o){return this.cmpn(o)===-1},i.prototype.lt=function(o){return this.cmp(o)===-1},i.prototype.lten=function(o){return this.cmpn(o)<=0},i.prototype.lte=function(o){return this.cmp(o)<=0},i.prototype.eqn=function(o){return this.cmpn(o)===0},i.prototype.eq=function(o){return this.cmp(o)===0},i.red=function(o){return new j(o)},i.prototype.toRed=function(o){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(o){return this.red=o,this},i.prototype.forceRed=function(o){return n(!this.red,"Already a number in reduction context"),this._forceRed(o)},i.prototype.redAdd=function(o){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},i.prototype.redIAdd=function(o){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},i.prototype.redSub=function(o){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},i.prototype.redISub=function(o){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},i.prototype.redShl=function(o){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},i.prototype.redMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},i.prototype.redIMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(o){return n(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var z={k256:null,p224:null,p192:null,p25519:null};function K(g,o){this.name=g,this.p=new i(o,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}K.prototype._tmp=function(){var o=new i(null);return o.words=new Array(Math.ceil(this.n/13)),o},K.prototype.ireduce=function(o){var l=o,f;do this.split(l,this.tmp),l=this.imulK(l),l=l.iadd(this.tmp),f=l.bitLength();while(f>this.n);var h=f<this.n?-1:l.ucmp(this.p);return h===0?(l.words[0]=0,l.length=1):h>0?l.isub(this.p):l.strip!==void 0?l.strip():l._strip(),l},K.prototype.split=function(o,l){o.iushrn(this.n,0,l)},K.prototype.imulK=function(o){return o.imul(this.k)};function ne(){K.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(ne,K),ne.prototype.split=function(o,l){for(var f=4194303,h=Math.min(o.length,9),m=0;m<h;m++)l.words[m]=o.words[m];if(l.length=h,o.length<=9){o.words[0]=0,o.length=1;return}var y=o.words[9];for(l.words[l.length++]=y&f,m=10;m<o.length;m++){var _=o.words[m]|0;o.words[m-10]=(_&f)<<4|y>>>22,y=_}y>>>=22,o.words[m-10]=y,y===0&&o.length>10?o.length-=10:o.length-=9},ne.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var l=0,f=0;f<o.length;f++){var h=o.words[f]|0;l+=h*977,o.words[f]=l&67108863,l=h*64+(l/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function ue(){K.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(ue,K);function G(){K.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(G,K);function q(){K.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(q,K),q.prototype.imulK=function(o){for(var l=0,f=0;f<o.length;f++){var h=(o.words[f]|0)*19+l,m=h&67108863;h>>>=26,o.words[f]=m,l=h}return l!==0&&(o.words[o.length++]=l),o},i._prime=function(o){if(z[o])return z[o];var l;if(o==="k256")l=new ne;else if(o==="p224")l=new ue;else if(o==="p192")l=new G;else if(o==="p25519")l=new q;else throw new Error("Unknown prime "+o);return z[o]=l,l};function j(g){if(typeof g=="string"){var o=i._prime(g);this.m=o.p,this.prime=o}else n(g.gtn(1),"modulus must be greater than 1"),this.m=g,this.prime=null}j.prototype._verify1=function(o){n(o.negative===0,"red works only with positives"),n(o.red,"red works only with red numbers")},j.prototype._verify2=function(o,l){n((o.negative|l.negative)===0,"red works only with positives"),n(o.red&&o.red===l.red,"red works only with red numbers")},j.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},j.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},j.prototype.add=function(o,l){this._verify2(o,l);var f=o.add(l);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},j.prototype.iadd=function(o,l){this._verify2(o,l);var f=o.iadd(l);return f.cmp(this.m)>=0&&f.isub(this.m),f},j.prototype.sub=function(o,l){this._verify2(o,l);var f=o.sub(l);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},j.prototype.isub=function(o,l){this._verify2(o,l);var f=o.isub(l);return f.cmpn(0)<0&&f.iadd(this.m),f},j.prototype.shl=function(o,l){return this._verify1(o),this.imod(o.ushln(l))},j.prototype.imul=function(o,l){return this._verify2(o,l),this.imod(o.imul(l))},j.prototype.mul=function(o,l){return this._verify2(o,l),this.imod(o.mul(l))},j.prototype.isqr=function(o){return this.imul(o,o.clone())},j.prototype.sqr=function(o){return this.mul(o,o)},j.prototype.sqrt=function(o){if(o.isZero())return o.clone();var l=this.m.andln(3);if(n(l%2===1),l===3){var f=this.m.add(new i(1)).iushrn(2);return this.pow(o,f)}for(var h=this.m.subn(1),m=0;!h.isZero()&&h.andln(1)===0;)m++,h.iushrn(1);n(!h.isZero());var y=new i(1).toRed(this),_=y.redNeg(),d=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new i(2*a*a).toRed(this);this.pow(a,d).cmp(_)!==0;)a.redIAdd(_);for(var p=this.pow(a,h),S=this.pow(o,h.addn(1).iushrn(1)),B=this.pow(o,h),Z=m;B.cmp(y)!==0;){for(var X=B,oe=0;X.cmp(y)!==0;oe++)X=X.redSqr();n(oe<Z);var H=this.pow(p,new i(1).iushln(Z-oe-1));S=S.redMul(H),p=H.redSqr(),B=B.redMul(p),Z=oe}return S},j.prototype.invm=function(o){var l=o._invmp(this.m);return l.negative!==0?(l.negative=0,this.imod(l).redNeg()):this.imod(l)},j.prototype.pow=function(o,l){if(l.isZero())return new i(1).toRed(this);if(l.cmpn(1)===0)return o.clone();var f=4,h=new Array(1<<f);h[0]=new i(1).toRed(this),h[1]=o;for(var m=2;m<h.length;m++)h[m]=this.mul(h[m-1],o);var y=h[0],_=0,d=0,a=l.bitLength()%26;for(a===0&&(a=26),m=l.length-1;m>=0;m--){for(var p=l.words[m],S=a-1;S>=0;S--){var B=p>>S&1;if(y!==h[0]&&(y=this.sqr(y)),B===0&&_===0){d=0;continue}_<<=1,_|=B,d++,!(d!==f&&(m!==0||S!==0))&&(y=this.mul(y,h[_]),d=0,_=0)}a=26}return y},j.prototype.convertTo=function(o){var l=o.umod(this.m);return l===o?l.clone():l},j.prototype.convertFrom=function(o){var l=o.clone();return l.red=null,l},i.mont=function(o){return new Q(o)};function Q(g){j.call(this,g),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(Q,j),Q.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},Q.prototype.convertFrom=function(o){var l=this.imod(o.mul(this.rinv));return l.red=null,l},Q.prototype.imul=function(o,l){if(o.isZero()||l.isZero())return o.words[0]=0,o.length=1,o;var f=o.imul(l),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=f.isub(h).iushrn(this.shift),y=m;return m.cmp(this.m)>=0?y=m.isub(this.m):m.cmpn(0)<0&&(y=m.iadd(this.m)),y._forceRed(this)},Q.prototype.mul=function(o,l){if(o.isZero()||l.isZero())return new i(0)._forceRed(this);var f=o.mul(l),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=f.isub(h).iushrn(this.shift),y=m;return m.cmp(this.m)>=0?y=m.isub(this.m):m.cmpn(0)<0&&(y=m.iadd(this.m)),y._forceRed(this)},Q.prototype.invm=function(o){var l=this.imod(o._invmp(this.m).mul(this.r2));return l._forceRed(this)}})(t,Vt)})(sb);var OQ=sb.exports,o1,$M;function LQ(){if($M)return o1;$M=1;var t=rb(),e=OQ;o1=function(u){return new n(u)};var r={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};r.p224=r.secp224r1,r.p256=r.secp256r1=r.prime256v1,r.p192=r.secp192r1=r.prime192v1,r.p384=r.secp384r1,r.p521=r.secp521r1;function n(i){this.curveType=r[i],this.curveType||(this.curveType={name:i}),this.curve=new t.ec(this.curveType.name),this.keys=void 0}n.prototype.generateKeys=function(i,u){return this.keys=this.curve.genKeyPair(),this.getPublicKey(i,u)},n.prototype.computeSecret=function(i,u,c){u=u||"utf8",Wt.isBuffer(i)||(i=new Wt(i,u));var v=this.curve.keyFromPublic(i).getPublic(),b=v.mul(this.keys.getPrivate()).getX();return s(b,c,this.curveType.byteLength)},n.prototype.getPublicKey=function(i,u){var c=this.keys.getPublic(u==="compressed",!0);return u==="hybrid"&&(c[c.length-1]%2?c[0]=7:c[0]=6),s(c,i)},n.prototype.getPrivateKey=function(i){return s(this.keys.getPrivate(),i)},n.prototype.setPublicKey=function(i,u){return u=u||"utf8",Wt.isBuffer(i)||(i=new Wt(i,u)),this.keys._importPublic(i),this},n.prototype.setPrivateKey=function(i,u){u=u||"utf8",Wt.isBuffer(i)||(i=new Wt(i,u));var c=new e(i);return c=c.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(c),this};function s(i,u,c){Array.isArray(i)||(i=i.toArray());var v=new Wt(i);if(c&&v.length<c){var b=new Wt(c-v.length);b.fill(0),v=Wt.concat([b,v])}return u?v.toString(u):v}return o1}var nR={},FQ=Dc,b2=At.Buffer,iR=function(t,e){for(var r=b2.alloc(0),n=0,s;r.length<e;)s=VQ(n++),r=b2.concat([r,FQ("sha1").update(t).update(s).digest()]);return r.slice(0,e)};function VQ(t){var e=b2.allocUnsafe(4);return e.writeUInt32BE(t,0),e}var sR=function(e,r){for(var n=e.length,s=-1;++s<n;)e[s]^=r[s];return e},ob={exports:{}};ob.exports;(function(t){(function(e,r){function n(g,o){if(!g)throw new Error(o||"Assertion failed")}function s(g,o){g.super_=o;var l=function(){};l.prototype=o.prototype,g.prototype=new l,g.prototype.constructor=g}function i(g,o,l){if(i.isBN(g))return g;this.negative=0,this.words=null,this.length=0,this.red=null,g!==null&&((o==="le"||o==="be")&&(l=o,o=10),this._init(g||0,o||10,l||"be"))}typeof e=="object"?e.exports=i:r.BN=i,i.BN=i,i.wordSize=26;var u;try{typeof window<"u"&&typeof window.Buffer<"u"?u=window.Buffer:u=ui.Buffer}catch{}i.isBN=function(o){return o instanceof i?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===i.wordSize&&Array.isArray(o.words)},i.max=function(o,l){return o.cmp(l)>0?o:l},i.min=function(o,l){return o.cmp(l)<0?o:l},i.prototype._init=function(o,l,f){if(typeof o=="number")return this._initNumber(o,l,f);if(typeof o=="object")return this._initArray(o,l,f);l==="hex"&&(l=16),n(l===(l|0)&&l>=2&&l<=36),o=o.toString().replace(/\s+/g,"");var h=0;o[0]==="-"&&(h++,this.negative=1),h<o.length&&(l===16?this._parseHex(o,h,f):(this._parseBase(o,l,h),f==="le"&&this._initArray(this.toArray(),l,f)))},i.prototype._initNumber=function(o,l,f){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(n(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),l,f)},i.prototype._initArray=function(o,l,f){if(n(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var m,y,_=0;if(f==="be")for(h=o.length-1,m=0;h>=0;h-=3)y=o[h]|o[h-1]<<8|o[h-2]<<16,this.words[m]|=y<<_&67108863,this.words[m+1]=y>>>26-_&67108863,_+=24,_>=26&&(_-=26,m++);else if(f==="le")for(h=0,m=0;h<o.length;h+=3)y=o[h]|o[h+1]<<8|o[h+2]<<16,this.words[m]|=y<<_&67108863,this.words[m+1]=y>>>26-_&67108863,_+=24,_>=26&&(_-=26,m++);return this.strip()};function c(g,o){var l=g.charCodeAt(o);return l>=65&&l<=70?l-55:l>=97&&l<=102?l-87:l-48&15}function v(g,o,l){var f=c(g,l);return l-1>=o&&(f|=c(g,l-1)<<4),f}i.prototype._parseHex=function(o,l,f){this.length=Math.ceil((o.length-l)/6),this.words=new Array(this.length);for(var h=0;h<this.length;h++)this.words[h]=0;var m=0,y=0,_;if(f==="be")for(h=o.length-1;h>=l;h-=2)_=v(o,l,h)<<m,this.words[y]|=_&67108863,m>=18?(m-=18,y+=1,this.words[y]|=_>>>26):m+=8;else{var d=o.length-l;for(h=d%2===0?l+1:l;h<o.length;h+=2)_=v(o,l,h)<<m,this.words[y]|=_&67108863,m>=18?(m-=18,y+=1,this.words[y]|=_>>>26):m+=8}this.strip()};function b(g,o,l,f){for(var h=0,m=Math.min(g.length,l),y=o;y<m;y++){var _=g.charCodeAt(y)-48;h*=f,_>=49?h+=_-49+10:_>=17?h+=_-17+10:h+=_}return h}i.prototype._parseBase=function(o,l,f){this.words=[0],this.length=1;for(var h=0,m=1;m<=67108863;m*=l)h++;h--,m=m/l|0;for(var y=o.length-f,_=y%h,d=Math.min(y,y-_)+f,a=0,p=f;p<d;p+=h)a=b(o,p,p+h,l),this.imuln(m),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a);if(_!==0){var S=1;for(a=b(o,p,o.length,l),p=0;p<_;p++)S*=l;this.imuln(S),this.words[0]+a<67108864?this.words[0]+=a:this._iaddn(a)}this.strip()},i.prototype.copy=function(o){o.words=new Array(this.length);for(var l=0;l<this.length;l++)o.words[l]=this.words[l];o.length=this.length,o.negative=this.negative,o.red=this.red},i.prototype.clone=function(){var o=new i(null);return this.copy(o),o},i.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],x=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(o,l){o=o||10,l=l|0||1;var f;if(o===16||o==="hex"){f="";for(var h=0,m=0,y=0;y<this.length;y++){var _=this.words[y],d=((_<<h|m)&16777215).toString(16);m=_>>>24-h&16777215,h+=2,h>=26&&(h-=26,y--),m!==0||y!==this.length-1?f=w[6-d.length]+d+f:f=d+f}for(m!==0&&(f=m.toString(16)+f);f.length%l!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(o===(o|0)&&o>=2&&o<=36){var a=x[o],p=E[o];f="";var S=this.clone();for(S.negative=0;!S.isZero();){var B=S.modn(p).toString(o);S=S.idivn(p),S.isZero()?f=B+f:f=w[a-B.length]+B+f}for(this.isZero()&&(f="0"+f);f.length%l!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(o,l){return n(typeof u<"u"),this.toArrayLike(u,o,l)},i.prototype.toArray=function(o,l){return this.toArrayLike(Array,o,l)},i.prototype.toArrayLike=function(o,l,f){var h=this.byteLength(),m=f||Math.max(1,h);n(h<=m,"byte array longer than desired length"),n(m>0,"Requested array length <= 0"),this.strip();var y=l==="le",_=new o(m),d,a,p=this.clone();if(y){for(a=0;!p.isZero();a++)d=p.andln(255),p.iushrn(8),_[a]=d;for(;a<m;a++)_[a]=0}else{for(a=0;a<m-h;a++)_[a]=0;for(a=0;!p.isZero();a++)d=p.andln(255),p.iushrn(8),_[m-a-1]=d}return _},Math.clz32?i.prototype._countBits=function(o){return 32-Math.clz32(o)}:i.prototype._countBits=function(o){var l=o,f=0;return l>=4096&&(f+=13,l>>>=13),l>=64&&(f+=7,l>>>=7),l>=8&&(f+=4,l>>>=4),l>=2&&(f+=2,l>>>=2),f+l},i.prototype._zeroBits=function(o){if(o===0)return 26;var l=o,f=0;return l&8191||(f+=13,l>>>=13),l&127||(f+=7,l>>>=7),l&15||(f+=4,l>>>=4),l&3||(f+=2,l>>>=2),l&1||f++,f},i.prototype.bitLength=function(){var o=this.words[this.length-1],l=this._countBits(o);return(this.length-1)*26+l};function A(g){for(var o=new Array(g.bitLength()),l=0;l<o.length;l++){var f=l/26|0,h=l%26;o[l]=(g.words[f]&1<<h)>>>h}return o}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,l=0;l<this.length;l++){var f=this._zeroBits(this.words[l]);if(o+=f,f!==26)break}return o},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},i.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var l=0;l<o.length;l++)this.words[l]=this.words[l]|o.words[l];return this.strip()},i.prototype.ior=function(o){return n((this.negative|o.negative)===0),this.iuor(o)},i.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},i.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},i.prototype.iuand=function(o){var l;this.length>o.length?l=o:l=this;for(var f=0;f<l.length;f++)this.words[f]=this.words[f]&o.words[f];return this.length=l.length,this.strip()},i.prototype.iand=function(o){return n((this.negative|o.negative)===0),this.iuand(o)},i.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},i.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},i.prototype.iuxor=function(o){var l,f;this.length>o.length?(l=this,f=o):(l=o,f=this);for(var h=0;h<f.length;h++)this.words[h]=l.words[h]^f.words[h];if(this!==l)for(;h<l.length;h++)this.words[h]=l.words[h];return this.length=l.length,this.strip()},i.prototype.ixor=function(o){return n((this.negative|o.negative)===0),this.iuxor(o)},i.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},i.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},i.prototype.inotn=function(o){n(typeof o=="number"&&o>=0);var l=Math.ceil(o/26)|0,f=o%26;this._expand(l),f>0&&l--;for(var h=0;h<l;h++)this.words[h]=~this.words[h]&67108863;return f>0&&(this.words[h]=~this.words[h]&67108863>>26-f),this.strip()},i.prototype.notn=function(o){return this.clone().inotn(o)},i.prototype.setn=function(o,l){n(typeof o=="number"&&o>=0);var f=o/26|0,h=o%26;return this._expand(f+1),l?this.words[f]=this.words[f]|1<<h:this.words[f]=this.words[f]&~(1<<h),this.strip()},i.prototype.iadd=function(o){var l;if(this.negative!==0&&o.negative===0)return this.negative=0,l=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,l=this.isub(o),o.negative=1,l._normSign();var f,h;this.length>o.length?(f=this,h=o):(f=o,h=this);for(var m=0,y=0;y<h.length;y++)l=(f.words[y]|0)+(h.words[y]|0)+m,this.words[y]=l&67108863,m=l>>>26;for(;m!==0&&y<f.length;y++)l=(f.words[y]|0)+m,this.words[y]=l&67108863,m=l>>>26;if(this.length=f.length,m!==0)this.words[this.length]=m,this.length++;else if(f!==this)for(;y<f.length;y++)this.words[y]=f.words[y];return this},i.prototype.add=function(o){var l;return o.negative!==0&&this.negative===0?(o.negative=0,l=this.sub(o),o.negative^=1,l):o.negative===0&&this.negative!==0?(this.negative=0,l=o.sub(this),this.negative=1,l):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},i.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var l=this.iadd(o);return o.negative=1,l._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var f=this.cmp(o);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var h,m;f>0?(h=this,m=o):(h=o,m=this);for(var y=0,_=0;_<m.length;_++)l=(h.words[_]|0)-(m.words[_]|0)+y,y=l>>26,this.words[_]=l&67108863;for(;y!==0&&_<h.length;_++)l=(h.words[_]|0)+y,y=l>>26,this.words[_]=l&67108863;if(y===0&&_<h.length&&h!==this)for(;_<h.length;_++)this.words[_]=h.words[_];return this.length=Math.max(this.length,_),h!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(o){return this.clone().isub(o)};function N(g,o,l){l.negative=o.negative^g.negative;var f=g.length+o.length|0;l.length=f,f=f-1|0;var h=g.words[0]|0,m=o.words[0]|0,y=h*m,_=y&67108863,d=y/67108864|0;l.words[0]=_;for(var a=1;a<f;a++){for(var p=d>>>26,S=d&67108863,B=Math.min(a,o.length-1),Z=Math.max(0,a-g.length+1);Z<=B;Z++){var X=a-Z|0;h=g.words[X]|0,m=o.words[Z]|0,y=h*m+S,p+=y/67108864|0,S=y&67108863}l.words[a]=S|0,d=p|0}return d!==0?l.words[a]=d|0:l.length--,l.strip()}var D=function(o,l,f){var h=o.words,m=l.words,y=f.words,_=0,d,a,p,S=h[0]|0,B=S&8191,Z=S>>>13,X=h[1]|0,oe=X&8191,H=X>>>13,ee=h[2]|0,se=ee&8191,le=ee>>>13,Ge=h[3]|0,he=Ge&8191,de=Ge>>>13,Ye=h[4]|0,xe=Ye&8191,Se=Ye>>>13,st=h[5]|0,Te=st&8191,ke=st>>>13,it=h[6]|0,Ie=it&8191,Be=it>>>13,ft=h[7]|0,Ee=ft&8191,Me=ft>>>13,rt=h[8]|0,V=rt&8191,R=rt>>>13,L=h[9]|0,T=L&8191,I=L>>>13,k=m[0]|0,F=k&8191,Y=k>>>13,pe=m[1]|0,ie=pe&8191,ge=pe>>>13,qe=m[2]|0,be=qe&8191,Ce=qe>>>13,et=m[3]|0,Ne=et&8191,Fe=et>>>13,gt=m[4]|0,De=gt&8191,Oe=gt>>>13,_t=m[5]|0,Pe=_t&8191,Ve=_t>>>13,dt=m[6]|0,J=dt&8191,re=dt>>>13,_e=m[7]|0,ae=_e&8191,me=_e>>>13,$e=m[8]|0,ve=$e&8191,ye=$e>>>13,ze=m[9]|0,ce=ze&8191,we=ze>>>13;f.negative=o.negative^l.negative,f.length=19,d=Math.imul(B,F),a=Math.imul(B,Y),a=a+Math.imul(Z,F)|0,p=Math.imul(Z,Y);var We=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(We>>>26)|0,We&=67108863,d=Math.imul(oe,F),a=Math.imul(oe,Y),a=a+Math.imul(H,F)|0,p=Math.imul(H,Y),d=d+Math.imul(B,ie)|0,a=a+Math.imul(B,ge)|0,a=a+Math.imul(Z,ie)|0,p=p+Math.imul(Z,ge)|0;var Ze=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Ze>>>26)|0,Ze&=67108863,d=Math.imul(se,F),a=Math.imul(se,Y),a=a+Math.imul(le,F)|0,p=Math.imul(le,Y),d=d+Math.imul(oe,ie)|0,a=a+Math.imul(oe,ge)|0,a=a+Math.imul(H,ie)|0,p=p+Math.imul(H,ge)|0,d=d+Math.imul(B,be)|0,a=a+Math.imul(B,Ce)|0,a=a+Math.imul(Z,be)|0,p=p+Math.imul(Z,Ce)|0;var yt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(yt>>>26)|0,yt&=67108863,d=Math.imul(he,F),a=Math.imul(he,Y),a=a+Math.imul(de,F)|0,p=Math.imul(de,Y),d=d+Math.imul(se,ie)|0,a=a+Math.imul(se,ge)|0,a=a+Math.imul(le,ie)|0,p=p+Math.imul(le,ge)|0,d=d+Math.imul(oe,be)|0,a=a+Math.imul(oe,Ce)|0,a=a+Math.imul(H,be)|0,p=p+Math.imul(H,Ce)|0,d=d+Math.imul(B,Ne)|0,a=a+Math.imul(B,Fe)|0,a=a+Math.imul(Z,Ne)|0,p=p+Math.imul(Z,Fe)|0;var ct=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(ct>>>26)|0,ct&=67108863,d=Math.imul(xe,F),a=Math.imul(xe,Y),a=a+Math.imul(Se,F)|0,p=Math.imul(Se,Y),d=d+Math.imul(he,ie)|0,a=a+Math.imul(he,ge)|0,a=a+Math.imul(de,ie)|0,p=p+Math.imul(de,ge)|0,d=d+Math.imul(se,be)|0,a=a+Math.imul(se,Ce)|0,a=a+Math.imul(le,be)|0,p=p+Math.imul(le,Ce)|0,d=d+Math.imul(oe,Ne)|0,a=a+Math.imul(oe,Fe)|0,a=a+Math.imul(H,Ne)|0,p=p+Math.imul(H,Fe)|0,d=d+Math.imul(B,De)|0,a=a+Math.imul(B,Oe)|0,a=a+Math.imul(Z,De)|0,p=p+Math.imul(Z,Oe)|0;var at=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(at>>>26)|0,at&=67108863,d=Math.imul(Te,F),a=Math.imul(Te,Y),a=a+Math.imul(ke,F)|0,p=Math.imul(ke,Y),d=d+Math.imul(xe,ie)|0,a=a+Math.imul(xe,ge)|0,a=a+Math.imul(Se,ie)|0,p=p+Math.imul(Se,ge)|0,d=d+Math.imul(he,be)|0,a=a+Math.imul(he,Ce)|0,a=a+Math.imul(de,be)|0,p=p+Math.imul(de,Ce)|0,d=d+Math.imul(se,Ne)|0,a=a+Math.imul(se,Fe)|0,a=a+Math.imul(le,Ne)|0,p=p+Math.imul(le,Fe)|0,d=d+Math.imul(oe,De)|0,a=a+Math.imul(oe,Oe)|0,a=a+Math.imul(H,De)|0,p=p+Math.imul(H,Oe)|0,d=d+Math.imul(B,Pe)|0,a=a+Math.imul(B,Ve)|0,a=a+Math.imul(Z,Pe)|0,p=p+Math.imul(Z,Ve)|0;var pt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(pt>>>26)|0,pt&=67108863,d=Math.imul(Ie,F),a=Math.imul(Ie,Y),a=a+Math.imul(Be,F)|0,p=Math.imul(Be,Y),d=d+Math.imul(Te,ie)|0,a=a+Math.imul(Te,ge)|0,a=a+Math.imul(ke,ie)|0,p=p+Math.imul(ke,ge)|0,d=d+Math.imul(xe,be)|0,a=a+Math.imul(xe,Ce)|0,a=a+Math.imul(Se,be)|0,p=p+Math.imul(Se,Ce)|0,d=d+Math.imul(he,Ne)|0,a=a+Math.imul(he,Fe)|0,a=a+Math.imul(de,Ne)|0,p=p+Math.imul(de,Fe)|0,d=d+Math.imul(se,De)|0,a=a+Math.imul(se,Oe)|0,a=a+Math.imul(le,De)|0,p=p+Math.imul(le,Oe)|0,d=d+Math.imul(oe,Pe)|0,a=a+Math.imul(oe,Ve)|0,a=a+Math.imul(H,Pe)|0,p=p+Math.imul(H,Ve)|0,d=d+Math.imul(B,J)|0,a=a+Math.imul(B,re)|0,a=a+Math.imul(Z,J)|0,p=p+Math.imul(Z,re)|0;var Ct=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,d=Math.imul(Ee,F),a=Math.imul(Ee,Y),a=a+Math.imul(Me,F)|0,p=Math.imul(Me,Y),d=d+Math.imul(Ie,ie)|0,a=a+Math.imul(Ie,ge)|0,a=a+Math.imul(Be,ie)|0,p=p+Math.imul(Be,ge)|0,d=d+Math.imul(Te,be)|0,a=a+Math.imul(Te,Ce)|0,a=a+Math.imul(ke,be)|0,p=p+Math.imul(ke,Ce)|0,d=d+Math.imul(xe,Ne)|0,a=a+Math.imul(xe,Fe)|0,a=a+Math.imul(Se,Ne)|0,p=p+Math.imul(Se,Fe)|0,d=d+Math.imul(he,De)|0,a=a+Math.imul(he,Oe)|0,a=a+Math.imul(de,De)|0,p=p+Math.imul(de,Oe)|0,d=d+Math.imul(se,Pe)|0,a=a+Math.imul(se,Ve)|0,a=a+Math.imul(le,Pe)|0,p=p+Math.imul(le,Ve)|0,d=d+Math.imul(oe,J)|0,a=a+Math.imul(oe,re)|0,a=a+Math.imul(H,J)|0,p=p+Math.imul(H,re)|0,d=d+Math.imul(B,ae)|0,a=a+Math.imul(B,me)|0,a=a+Math.imul(Z,ae)|0,p=p+Math.imul(Z,me)|0;var Ot=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,d=Math.imul(V,F),a=Math.imul(V,Y),a=a+Math.imul(R,F)|0,p=Math.imul(R,Y),d=d+Math.imul(Ee,ie)|0,a=a+Math.imul(Ee,ge)|0,a=a+Math.imul(Me,ie)|0,p=p+Math.imul(Me,ge)|0,d=d+Math.imul(Ie,be)|0,a=a+Math.imul(Ie,Ce)|0,a=a+Math.imul(Be,be)|0,p=p+Math.imul(Be,Ce)|0,d=d+Math.imul(Te,Ne)|0,a=a+Math.imul(Te,Fe)|0,a=a+Math.imul(ke,Ne)|0,p=p+Math.imul(ke,Fe)|0,d=d+Math.imul(xe,De)|0,a=a+Math.imul(xe,Oe)|0,a=a+Math.imul(Se,De)|0,p=p+Math.imul(Se,Oe)|0,d=d+Math.imul(he,Pe)|0,a=a+Math.imul(he,Ve)|0,a=a+Math.imul(de,Pe)|0,p=p+Math.imul(de,Ve)|0,d=d+Math.imul(se,J)|0,a=a+Math.imul(se,re)|0,a=a+Math.imul(le,J)|0,p=p+Math.imul(le,re)|0,d=d+Math.imul(oe,ae)|0,a=a+Math.imul(oe,me)|0,a=a+Math.imul(H,ae)|0,p=p+Math.imul(H,me)|0,d=d+Math.imul(B,ve)|0,a=a+Math.imul(B,ye)|0,a=a+Math.imul(Z,ve)|0,p=p+Math.imul(Z,ye)|0;var Tt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,d=Math.imul(T,F),a=Math.imul(T,Y),a=a+Math.imul(I,F)|0,p=Math.imul(I,Y),d=d+Math.imul(V,ie)|0,a=a+Math.imul(V,ge)|0,a=a+Math.imul(R,ie)|0,p=p+Math.imul(R,ge)|0,d=d+Math.imul(Ee,be)|0,a=a+Math.imul(Ee,Ce)|0,a=a+Math.imul(Me,be)|0,p=p+Math.imul(Me,Ce)|0,d=d+Math.imul(Ie,Ne)|0,a=a+Math.imul(Ie,Fe)|0,a=a+Math.imul(Be,Ne)|0,p=p+Math.imul(Be,Fe)|0,d=d+Math.imul(Te,De)|0,a=a+Math.imul(Te,Oe)|0,a=a+Math.imul(ke,De)|0,p=p+Math.imul(ke,Oe)|0,d=d+Math.imul(xe,Pe)|0,a=a+Math.imul(xe,Ve)|0,a=a+Math.imul(Se,Pe)|0,p=p+Math.imul(Se,Ve)|0,d=d+Math.imul(he,J)|0,a=a+Math.imul(he,re)|0,a=a+Math.imul(de,J)|0,p=p+Math.imul(de,re)|0,d=d+Math.imul(se,ae)|0,a=a+Math.imul(se,me)|0,a=a+Math.imul(le,ae)|0,p=p+Math.imul(le,me)|0,d=d+Math.imul(oe,ve)|0,a=a+Math.imul(oe,ye)|0,a=a+Math.imul(H,ve)|0,p=p+Math.imul(H,ye)|0,d=d+Math.imul(B,ce)|0,a=a+Math.imul(B,we)|0,a=a+Math.imul(Z,ce)|0,p=p+Math.imul(Z,we)|0;var xt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(xt>>>26)|0,xt&=67108863,d=Math.imul(T,ie),a=Math.imul(T,ge),a=a+Math.imul(I,ie)|0,p=Math.imul(I,ge),d=d+Math.imul(V,be)|0,a=a+Math.imul(V,Ce)|0,a=a+Math.imul(R,be)|0,p=p+Math.imul(R,Ce)|0,d=d+Math.imul(Ee,Ne)|0,a=a+Math.imul(Ee,Fe)|0,a=a+Math.imul(Me,Ne)|0,p=p+Math.imul(Me,Fe)|0,d=d+Math.imul(Ie,De)|0,a=a+Math.imul(Ie,Oe)|0,a=a+Math.imul(Be,De)|0,p=p+Math.imul(Be,Oe)|0,d=d+Math.imul(Te,Pe)|0,a=a+Math.imul(Te,Ve)|0,a=a+Math.imul(ke,Pe)|0,p=p+Math.imul(ke,Ve)|0,d=d+Math.imul(xe,J)|0,a=a+Math.imul(xe,re)|0,a=a+Math.imul(Se,J)|0,p=p+Math.imul(Se,re)|0,d=d+Math.imul(he,ae)|0,a=a+Math.imul(he,me)|0,a=a+Math.imul(de,ae)|0,p=p+Math.imul(de,me)|0,d=d+Math.imul(se,ve)|0,a=a+Math.imul(se,ye)|0,a=a+Math.imul(le,ve)|0,p=p+Math.imul(le,ye)|0,d=d+Math.imul(oe,ce)|0,a=a+Math.imul(oe,we)|0,a=a+Math.imul(H,ce)|0,p=p+Math.imul(H,we)|0;var zt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(zt>>>26)|0,zt&=67108863,d=Math.imul(T,be),a=Math.imul(T,Ce),a=a+Math.imul(I,be)|0,p=Math.imul(I,Ce),d=d+Math.imul(V,Ne)|0,a=a+Math.imul(V,Fe)|0,a=a+Math.imul(R,Ne)|0,p=p+Math.imul(R,Fe)|0,d=d+Math.imul(Ee,De)|0,a=a+Math.imul(Ee,Oe)|0,a=a+Math.imul(Me,De)|0,p=p+Math.imul(Me,Oe)|0,d=d+Math.imul(Ie,Pe)|0,a=a+Math.imul(Ie,Ve)|0,a=a+Math.imul(Be,Pe)|0,p=p+Math.imul(Be,Ve)|0,d=d+Math.imul(Te,J)|0,a=a+Math.imul(Te,re)|0,a=a+Math.imul(ke,J)|0,p=p+Math.imul(ke,re)|0,d=d+Math.imul(xe,ae)|0,a=a+Math.imul(xe,me)|0,a=a+Math.imul(Se,ae)|0,p=p+Math.imul(Se,me)|0,d=d+Math.imul(he,ve)|0,a=a+Math.imul(he,ye)|0,a=a+Math.imul(de,ve)|0,p=p+Math.imul(de,ye)|0,d=d+Math.imul(se,ce)|0,a=a+Math.imul(se,we)|0,a=a+Math.imul(le,ce)|0,p=p+Math.imul(le,we)|0;var Pt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,d=Math.imul(T,Ne),a=Math.imul(T,Fe),a=a+Math.imul(I,Ne)|0,p=Math.imul(I,Fe),d=d+Math.imul(V,De)|0,a=a+Math.imul(V,Oe)|0,a=a+Math.imul(R,De)|0,p=p+Math.imul(R,Oe)|0,d=d+Math.imul(Ee,Pe)|0,a=a+Math.imul(Ee,Ve)|0,a=a+Math.imul(Me,Pe)|0,p=p+Math.imul(Me,Ve)|0,d=d+Math.imul(Ie,J)|0,a=a+Math.imul(Ie,re)|0,a=a+Math.imul(Be,J)|0,p=p+Math.imul(Be,re)|0,d=d+Math.imul(Te,ae)|0,a=a+Math.imul(Te,me)|0,a=a+Math.imul(ke,ae)|0,p=p+Math.imul(ke,me)|0,d=d+Math.imul(xe,ve)|0,a=a+Math.imul(xe,ye)|0,a=a+Math.imul(Se,ve)|0,p=p+Math.imul(Se,ye)|0,d=d+Math.imul(he,ce)|0,a=a+Math.imul(he,we)|0,a=a+Math.imul(de,ce)|0,p=p+Math.imul(de,we)|0;var Mt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,d=Math.imul(T,De),a=Math.imul(T,Oe),a=a+Math.imul(I,De)|0,p=Math.imul(I,Oe),d=d+Math.imul(V,Pe)|0,a=a+Math.imul(V,Ve)|0,a=a+Math.imul(R,Pe)|0,p=p+Math.imul(R,Ve)|0,d=d+Math.imul(Ee,J)|0,a=a+Math.imul(Ee,re)|0,a=a+Math.imul(Me,J)|0,p=p+Math.imul(Me,re)|0,d=d+Math.imul(Ie,ae)|0,a=a+Math.imul(Ie,me)|0,a=a+Math.imul(Be,ae)|0,p=p+Math.imul(Be,me)|0,d=d+Math.imul(Te,ve)|0,a=a+Math.imul(Te,ye)|0,a=a+Math.imul(ke,ve)|0,p=p+Math.imul(ke,ye)|0,d=d+Math.imul(xe,ce)|0,a=a+Math.imul(xe,we)|0,a=a+Math.imul(Se,ce)|0,p=p+Math.imul(Se,we)|0;var St=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(St>>>26)|0,St&=67108863,d=Math.imul(T,Pe),a=Math.imul(T,Ve),a=a+Math.imul(I,Pe)|0,p=Math.imul(I,Ve),d=d+Math.imul(V,J)|0,a=a+Math.imul(V,re)|0,a=a+Math.imul(R,J)|0,p=p+Math.imul(R,re)|0,d=d+Math.imul(Ee,ae)|0,a=a+Math.imul(Ee,me)|0,a=a+Math.imul(Me,ae)|0,p=p+Math.imul(Me,me)|0,d=d+Math.imul(Ie,ve)|0,a=a+Math.imul(Ie,ye)|0,a=a+Math.imul(Be,ve)|0,p=p+Math.imul(Be,ye)|0,d=d+Math.imul(Te,ce)|0,a=a+Math.imul(Te,we)|0,a=a+Math.imul(ke,ce)|0,p=p+Math.imul(ke,we)|0;var Lt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,d=Math.imul(T,J),a=Math.imul(T,re),a=a+Math.imul(I,J)|0,p=Math.imul(I,re),d=d+Math.imul(V,ae)|0,a=a+Math.imul(V,me)|0,a=a+Math.imul(R,ae)|0,p=p+Math.imul(R,me)|0,d=d+Math.imul(Ee,ve)|0,a=a+Math.imul(Ee,ye)|0,a=a+Math.imul(Me,ve)|0,p=p+Math.imul(Me,ye)|0,d=d+Math.imul(Ie,ce)|0,a=a+Math.imul(Ie,we)|0,a=a+Math.imul(Be,ce)|0,p=p+Math.imul(Be,we)|0;var ut=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(ut>>>26)|0,ut&=67108863,d=Math.imul(T,ae),a=Math.imul(T,me),a=a+Math.imul(I,ae)|0,p=Math.imul(I,me),d=d+Math.imul(V,ve)|0,a=a+Math.imul(V,ye)|0,a=a+Math.imul(R,ve)|0,p=p+Math.imul(R,ye)|0,d=d+Math.imul(Ee,ce)|0,a=a+Math.imul(Ee,we)|0,a=a+Math.imul(Me,ce)|0,p=p+Math.imul(Me,we)|0;var vt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(vt>>>26)|0,vt&=67108863,d=Math.imul(T,ve),a=Math.imul(T,ye),a=a+Math.imul(I,ve)|0,p=Math.imul(I,ye),d=d+Math.imul(V,ce)|0,a=a+Math.imul(V,we)|0,a=a+Math.imul(R,ce)|0,p=p+Math.imul(R,we)|0;var Nt=(_+d|0)+((a&8191)<<13)|0;_=(p+(a>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,d=Math.imul(T,ce),a=Math.imul(T,we),a=a+Math.imul(I,ce)|0,p=Math.imul(I,we);var Ft=(_+d|0)+((a&8191)<<13)|0;return _=(p+(a>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,y[0]=We,y[1]=Ze,y[2]=yt,y[3]=ct,y[4]=at,y[5]=pt,y[6]=Ct,y[7]=Ot,y[8]=Tt,y[9]=xt,y[10]=zt,y[11]=Pt,y[12]=Mt,y[13]=St,y[14]=Lt,y[15]=ut,y[16]=vt,y[17]=Nt,y[18]=Ft,_!==0&&(y[19]=_,f.length++),f};Math.imul||(D=N);function W(g,o,l){l.negative=o.negative^g.negative,l.length=g.length+o.length;for(var f=0,h=0,m=0;m<l.length-1;m++){var y=h;h=0;for(var _=f&67108863,d=Math.min(m,o.length-1),a=Math.max(0,m-g.length+1);a<=d;a++){var p=m-a,S=g.words[p]|0,B=o.words[a]|0,Z=S*B,X=Z&67108863;y=y+(Z/67108864|0)|0,X=X+_|0,_=X&67108863,y=y+(X>>>26)|0,h+=y>>>26,y&=67108863}l.words[m]=_,f=y,y=h}return f!==0?l.words[m]=f:l.length--,l.strip()}function P(g,o,l){var f=new C;return f.mulp(g,o,l)}i.prototype.mulTo=function(o,l){var f,h=this.length+o.length;return this.length===10&&o.length===10?f=D(this,o,l):h<63?f=N(this,o,l):h<1024?f=W(this,o,l):f=P(this,o,l),f};function C(g,o){this.x=g,this.y=o}C.prototype.makeRBT=function(o){for(var l=new Array(o),f=i.prototype._countBits(o)-1,h=0;h<o;h++)l[h]=this.revBin(h,f,o);return l},C.prototype.revBin=function(o,l,f){if(o===0||o===f-1)return o;for(var h=0,m=0;m<l;m++)h|=(o&1)<<l-m-1,o>>=1;return h},C.prototype.permute=function(o,l,f,h,m,y){for(var _=0;_<y;_++)h[_]=l[o[_]],m[_]=f[o[_]]},C.prototype.transform=function(o,l,f,h,m,y){this.permute(y,o,l,f,h,m);for(var _=1;_<m;_<<=1)for(var d=_<<1,a=Math.cos(2*Math.PI/d),p=Math.sin(2*Math.PI/d),S=0;S<m;S+=d)for(var B=a,Z=p,X=0;X<_;X++){var oe=f[S+X],H=h[S+X],ee=f[S+X+_],se=h[S+X+_],le=B*ee-Z*se;se=B*se+Z*ee,ee=le,f[S+X]=oe+ee,h[S+X]=H+se,f[S+X+_]=oe-ee,h[S+X+_]=H-se,X!==d&&(le=a*B-p*Z,Z=a*Z+p*B,B=le)}},C.prototype.guessLen13b=function(o,l){var f=Math.max(l,o)|1,h=f&1,m=0;for(f=f/2|0;f;f=f>>>1)m++;return 1<<m+1+h},C.prototype.conjugate=function(o,l,f){if(!(f<=1))for(var h=0;h<f/2;h++){var m=o[h];o[h]=o[f-h-1],o[f-h-1]=m,m=l[h],l[h]=-l[f-h-1],l[f-h-1]=-m}},C.prototype.normalize13b=function(o,l){for(var f=0,h=0;h<l/2;h++){var m=Math.round(o[2*h+1]/l)*8192+Math.round(o[2*h]/l)+f;o[h]=m&67108863,m<67108864?f=0:f=m/67108864|0}return o},C.prototype.convert13b=function(o,l,f,h){for(var m=0,y=0;y<l;y++)m=m+(o[y]|0),f[2*y]=m&8191,m=m>>>13,f[2*y+1]=m&8191,m=m>>>13;for(y=2*l;y<h;++y)f[y]=0;n(m===0),n((m&-8192)===0)},C.prototype.stub=function(o){for(var l=new Array(o),f=0;f<o;f++)l[f]=0;return l},C.prototype.mulp=function(o,l,f){var h=2*this.guessLen13b(o.length,l.length),m=this.makeRBT(h),y=this.stub(h),_=new Array(h),d=new Array(h),a=new Array(h),p=new Array(h),S=new Array(h),B=new Array(h),Z=f.words;Z.length=h,this.convert13b(o.words,o.length,_,h),this.convert13b(l.words,l.length,p,h),this.transform(_,y,d,a,h,m),this.transform(p,y,S,B,h,m);for(var X=0;X<h;X++){var oe=d[X]*S[X]-a[X]*B[X];a[X]=d[X]*B[X]+a[X]*S[X],d[X]=oe}return this.conjugate(d,a,h),this.transform(d,a,Z,y,h,m),this.conjugate(Z,y,h),this.normalize13b(Z,h),f.negative=o.negative^l.negative,f.length=o.length+l.length,f.strip()},i.prototype.mul=function(o){var l=new i(null);return l.words=new Array(this.length+o.length),this.mulTo(o,l)},i.prototype.mulf=function(o){var l=new i(null);return l.words=new Array(this.length+o.length),P(this,o,l)},i.prototype.imul=function(o){return this.clone().mulTo(o,this)},i.prototype.imuln=function(o){n(typeof o=="number"),n(o<67108864);for(var l=0,f=0;f<this.length;f++){var h=(this.words[f]|0)*o,m=(h&67108863)+(l&67108863);l>>=26,l+=h/67108864|0,l+=m>>>26,this.words[f]=m&67108863}return l!==0&&(this.words[f]=l,this.length++),this},i.prototype.muln=function(o){return this.clone().imuln(o)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(o){var l=A(o);if(l.length===0)return new i(1);for(var f=this,h=0;h<l.length&&l[h]===0;h++,f=f.sqr());if(++h<l.length)for(var m=f.sqr();h<l.length;h++,m=m.sqr())l[h]!==0&&(f=f.mul(m));return f},i.prototype.iushln=function(o){n(typeof o=="number"&&o>=0);var l=o%26,f=(o-l)/26,h=67108863>>>26-l<<26-l,m;if(l!==0){var y=0;for(m=0;m<this.length;m++){var _=this.words[m]&h,d=(this.words[m]|0)-_<<l;this.words[m]=d|y,y=_>>>26-l}y&&(this.words[m]=y,this.length++)}if(f!==0){for(m=this.length-1;m>=0;m--)this.words[m+f]=this.words[m];for(m=0;m<f;m++)this.words[m]=0;this.length+=f}return this.strip()},i.prototype.ishln=function(o){return n(this.negative===0),this.iushln(o)},i.prototype.iushrn=function(o,l,f){n(typeof o=="number"&&o>=0);var h;l?h=(l-l%26)/26:h=0;var m=o%26,y=Math.min((o-m)/26,this.length),_=67108863^67108863>>>m<<m,d=f;if(h-=y,h=Math.max(0,h),d){for(var a=0;a<y;a++)d.words[a]=this.words[a];d.length=y}if(y!==0)if(this.length>y)for(this.length-=y,a=0;a<this.length;a++)this.words[a]=this.words[a+y];else this.words[0]=0,this.length=1;var p=0;for(a=this.length-1;a>=0&&(p!==0||a>=h);a--){var S=this.words[a]|0;this.words[a]=p<<26-m|S>>>m,p=S&_}return d&&p!==0&&(d.words[d.length++]=p),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(o,l,f){return n(this.negative===0),this.iushrn(o,l,f)},i.prototype.shln=function(o){return this.clone().ishln(o)},i.prototype.ushln=function(o){return this.clone().iushln(o)},i.prototype.shrn=function(o){return this.clone().ishrn(o)},i.prototype.ushrn=function(o){return this.clone().iushrn(o)},i.prototype.testn=function(o){n(typeof o=="number"&&o>=0);var l=o%26,f=(o-l)/26,h=1<<l;if(this.length<=f)return!1;var m=this.words[f];return!!(m&h)},i.prototype.imaskn=function(o){n(typeof o=="number"&&o>=0);var l=o%26,f=(o-l)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(l!==0&&f++,this.length=Math.min(f,this.length),l!==0){var h=67108863^67108863>>>l<<l;this.words[this.length-1]&=h}return this.strip()},i.prototype.maskn=function(o){return this.clone().imaskn(o)},i.prototype.iaddn=function(o){return n(typeof o=="number"),n(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},i.prototype._iaddn=function(o){this.words[0]+=o;for(var l=0;l<this.length&&this.words[l]>=67108864;l++)this.words[l]-=67108864,l===this.length-1?this.words[l+1]=1:this.words[l+1]++;return this.length=Math.max(this.length,l+1),this},i.prototype.isubn=function(o){if(n(typeof o=="number"),n(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var l=0;l<this.length&&this.words[l]<0;l++)this.words[l]+=67108864,this.words[l+1]-=1;return this.strip()},i.prototype.addn=function(o){return this.clone().iaddn(o)},i.prototype.subn=function(o){return this.clone().isubn(o)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(o,l,f){var h=o.length+f,m;this._expand(h);var y,_=0;for(m=0;m<o.length;m++){y=(this.words[m+f]|0)+_;var d=(o.words[m]|0)*l;y-=d&67108863,_=(y>>26)-(d/67108864|0),this.words[m+f]=y&67108863}for(;m<this.length-f;m++)y=(this.words[m+f]|0)+_,_=y>>26,this.words[m+f]=y&67108863;if(_===0)return this.strip();for(n(_===-1),_=0,m=0;m<this.length;m++)y=-(this.words[m]|0)+_,_=y>>26,this.words[m]=y&67108863;return this.negative=1,this.strip()},i.prototype._wordDiv=function(o,l){var f=this.length-o.length,h=this.clone(),m=o,y=m.words[m.length-1]|0,_=this._countBits(y);f=26-_,f!==0&&(m=m.ushln(f),h.iushln(f),y=m.words[m.length-1]|0);var d=h.length-m.length,a;if(l!=="mod"){a=new i(null),a.length=d+1,a.words=new Array(a.length);for(var p=0;p<a.length;p++)a.words[p]=0}var S=h.clone()._ishlnsubmul(m,1,d);S.negative===0&&(h=S,a&&(a.words[d]=1));for(var B=d-1;B>=0;B--){var Z=(h.words[m.length+B]|0)*67108864+(h.words[m.length+B-1]|0);for(Z=Math.min(Z/y|0,67108863),h._ishlnsubmul(m,Z,B);h.negative!==0;)Z--,h.negative=0,h._ishlnsubmul(m,1,B),h.isZero()||(h.negative^=1);a&&(a.words[B]=Z)}return a&&a.strip(),h.strip(),l!=="div"&&f!==0&&h.iushrn(f),{div:a||null,mod:h}},i.prototype.divmod=function(o,l,f){if(n(!o.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var h,m,y;return this.negative!==0&&o.negative===0?(y=this.neg().divmod(o,l),l!=="mod"&&(h=y.div.neg()),l!=="div"&&(m=y.mod.neg(),f&&m.negative!==0&&m.iadd(o)),{div:h,mod:m}):this.negative===0&&o.negative!==0?(y=this.divmod(o.neg(),l),l!=="mod"&&(h=y.div.neg()),{div:h,mod:y.mod}):this.negative&o.negative?(y=this.neg().divmod(o.neg(),l),l!=="div"&&(m=y.mod.neg(),f&&m.negative!==0&&m.isub(o)),{div:y.div,mod:m}):o.length>this.length||this.cmp(o)<0?{div:new i(0),mod:this}:o.length===1?l==="div"?{div:this.divn(o.words[0]),mod:null}:l==="mod"?{div:null,mod:new i(this.modn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new i(this.modn(o.words[0]))}:this._wordDiv(o,l)},i.prototype.div=function(o){return this.divmod(o,"div",!1).div},i.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},i.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},i.prototype.divRound=function(o){var l=this.divmod(o);if(l.mod.isZero())return l.div;var f=l.div.negative!==0?l.mod.isub(o):l.mod,h=o.ushrn(1),m=o.andln(1),y=f.cmp(h);return y<0||m===1&&y===0?l.div:l.div.negative!==0?l.div.isubn(1):l.div.iaddn(1)},i.prototype.modn=function(o){n(o<=67108863);for(var l=(1<<26)%o,f=0,h=this.length-1;h>=0;h--)f=(l*f+(this.words[h]|0))%o;return f},i.prototype.idivn=function(o){n(o<=67108863);for(var l=0,f=this.length-1;f>=0;f--){var h=(this.words[f]|0)+l*67108864;this.words[f]=h/o|0,l=h%o}return this.strip()},i.prototype.divn=function(o){return this.clone().idivn(o)},i.prototype.egcd=function(o){n(o.negative===0),n(!o.isZero());var l=this,f=o.clone();l.negative!==0?l=l.umod(o):l=l.clone();for(var h=new i(1),m=new i(0),y=new i(0),_=new i(1),d=0;l.isEven()&&f.isEven();)l.iushrn(1),f.iushrn(1),++d;for(var a=f.clone(),p=l.clone();!l.isZero();){for(var S=0,B=1;!(l.words[0]&B)&&S<26;++S,B<<=1);if(S>0)for(l.iushrn(S);S-- >0;)(h.isOdd()||m.isOdd())&&(h.iadd(a),m.isub(p)),h.iushrn(1),m.iushrn(1);for(var Z=0,X=1;!(f.words[0]&X)&&Z<26;++Z,X<<=1);if(Z>0)for(f.iushrn(Z);Z-- >0;)(y.isOdd()||_.isOdd())&&(y.iadd(a),_.isub(p)),y.iushrn(1),_.iushrn(1);l.cmp(f)>=0?(l.isub(f),h.isub(y),m.isub(_)):(f.isub(l),y.isub(h),_.isub(m))}return{a:y,b:_,gcd:f.iushln(d)}},i.prototype._invmp=function(o){n(o.negative===0),n(!o.isZero());var l=this,f=o.clone();l.negative!==0?l=l.umod(o):l=l.clone();for(var h=new i(1),m=new i(0),y=f.clone();l.cmpn(1)>0&&f.cmpn(1)>0;){for(var _=0,d=1;!(l.words[0]&d)&&_<26;++_,d<<=1);if(_>0)for(l.iushrn(_);_-- >0;)h.isOdd()&&h.iadd(y),h.iushrn(1);for(var a=0,p=1;!(f.words[0]&p)&&a<26;++a,p<<=1);if(a>0)for(f.iushrn(a);a-- >0;)m.isOdd()&&m.iadd(y),m.iushrn(1);l.cmp(f)>=0?(l.isub(f),h.isub(m)):(f.isub(l),m.isub(h))}var S;return l.cmpn(1)===0?S=h:S=m,S.cmpn(0)<0&&S.iadd(o),S},i.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var l=this.clone(),f=o.clone();l.negative=0,f.negative=0;for(var h=0;l.isEven()&&f.isEven();h++)l.iushrn(1),f.iushrn(1);do{for(;l.isEven();)l.iushrn(1);for(;f.isEven();)f.iushrn(1);var m=l.cmp(f);if(m<0){var y=l;l=f,f=y}else if(m===0||f.cmpn(1)===0)break;l.isub(f)}while(!0);return f.iushln(h)},i.prototype.invm=function(o){return this.egcd(o).a.umod(o)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(o){return this.words[0]&o},i.prototype.bincn=function(o){n(typeof o=="number");var l=o%26,f=(o-l)/26,h=1<<l;if(this.length<=f)return this._expand(f+1),this.words[f]|=h,this;for(var m=h,y=f;m!==0&&y<this.length;y++){var _=this.words[y]|0;_+=m,m=_>>>26,_&=67108863,this.words[y]=_}return m!==0&&(this.words[y]=m,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(o){var l=o<0;if(this.negative!==0&&!l)return-1;if(this.negative===0&&l)return 1;this.strip();var f;if(this.length>1)f=1;else{l&&(o=-o),n(o<=67108863,"Number is too big");var h=this.words[0]|0;f=h===o?0:h<o?-1:1}return this.negative!==0?-f|0:f},i.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var l=this.ucmp(o);return this.negative!==0?-l|0:l},i.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var l=0,f=this.length-1;f>=0;f--){var h=this.words[f]|0,m=o.words[f]|0;if(h!==m){h<m?l=-1:h>m&&(l=1);break}}return l},i.prototype.gtn=function(o){return this.cmpn(o)===1},i.prototype.gt=function(o){return this.cmp(o)===1},i.prototype.gten=function(o){return this.cmpn(o)>=0},i.prototype.gte=function(o){return this.cmp(o)>=0},i.prototype.ltn=function(o){return this.cmpn(o)===-1},i.prototype.lt=function(o){return this.cmp(o)===-1},i.prototype.lten=function(o){return this.cmpn(o)<=0},i.prototype.lte=function(o){return this.cmp(o)<=0},i.prototype.eqn=function(o){return this.cmpn(o)===0},i.prototype.eq=function(o){return this.cmp(o)===0},i.red=function(o){return new j(o)},i.prototype.toRed=function(o){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(o){return this.red=o,this},i.prototype.forceRed=function(o){return n(!this.red,"Already a number in reduction context"),this._forceRed(o)},i.prototype.redAdd=function(o){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},i.prototype.redIAdd=function(o){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},i.prototype.redSub=function(o){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},i.prototype.redISub=function(o){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},i.prototype.redShl=function(o){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},i.prototype.redMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},i.prototype.redIMul=function(o){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(o){return n(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var z={k256:null,p224:null,p192:null,p25519:null};function K(g,o){this.name=g,this.p=new i(o,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}K.prototype._tmp=function(){var o=new i(null);return o.words=new Array(Math.ceil(this.n/13)),o},K.prototype.ireduce=function(o){var l=o,f;do this.split(l,this.tmp),l=this.imulK(l),l=l.iadd(this.tmp),f=l.bitLength();while(f>this.n);var h=f<this.n?-1:l.ucmp(this.p);return h===0?(l.words[0]=0,l.length=1):h>0?l.isub(this.p):l.strip!==void 0?l.strip():l._strip(),l},K.prototype.split=function(o,l){o.iushrn(this.n,0,l)},K.prototype.imulK=function(o){return o.imul(this.k)};function ne(){K.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(ne,K),ne.prototype.split=function(o,l){for(var f=4194303,h=Math.min(o.length,9),m=0;m<h;m++)l.words[m]=o.words[m];if(l.length=h,o.length<=9){o.words[0]=0,o.length=1;return}var y=o.words[9];for(l.words[l.length++]=y&f,m=10;m<o.length;m++){var _=o.words[m]|0;o.words[m-10]=(_&f)<<4|y>>>22,y=_}y>>>=22,o.words[m-10]=y,y===0&&o.length>10?o.length-=10:o.length-=9},ne.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var l=0,f=0;f<o.length;f++){var h=o.words[f]|0;l+=h*977,o.words[f]=l&67108863,l=h*64+(l/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function ue(){K.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(ue,K);function G(){K.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(G,K);function q(){K.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(q,K),q.prototype.imulK=function(o){for(var l=0,f=0;f<o.length;f++){var h=(o.words[f]|0)*19+l,m=h&67108863;h>>>=26,o.words[f]=m,l=h}return l!==0&&(o.words[o.length++]=l),o},i._prime=function(o){if(z[o])return z[o];var l;if(o==="k256")l=new ne;else if(o==="p224")l=new ue;else if(o==="p192")l=new G;else if(o==="p25519")l=new q;else throw new Error("Unknown prime "+o);return z[o]=l,l};function j(g){if(typeof g=="string"){var o=i._prime(g);this.m=o.p,this.prime=o}else n(g.gtn(1),"modulus must be greater than 1"),this.m=g,this.prime=null}j.prototype._verify1=function(o){n(o.negative===0,"red works only with positives"),n(o.red,"red works only with red numbers")},j.prototype._verify2=function(o,l){n((o.negative|l.negative)===0,"red works only with positives"),n(o.red&&o.red===l.red,"red works only with red numbers")},j.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):o.umod(this.m)._forceRed(this)},j.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},j.prototype.add=function(o,l){this._verify2(o,l);var f=o.add(l);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},j.prototype.iadd=function(o,l){this._verify2(o,l);var f=o.iadd(l);return f.cmp(this.m)>=0&&f.isub(this.m),f},j.prototype.sub=function(o,l){this._verify2(o,l);var f=o.sub(l);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},j.prototype.isub=function(o,l){this._verify2(o,l);var f=o.isub(l);return f.cmpn(0)<0&&f.iadd(this.m),f},j.prototype.shl=function(o,l){return this._verify1(o),this.imod(o.ushln(l))},j.prototype.imul=function(o,l){return this._verify2(o,l),this.imod(o.imul(l))},j.prototype.mul=function(o,l){return this._verify2(o,l),this.imod(o.mul(l))},j.prototype.isqr=function(o){return this.imul(o,o.clone())},j.prototype.sqr=function(o){return this.mul(o,o)},j.prototype.sqrt=function(o){if(o.isZero())return o.clone();var l=this.m.andln(3);if(n(l%2===1),l===3){var f=this.m.add(new i(1)).iushrn(2);return this.pow(o,f)}for(var h=this.m.subn(1),m=0;!h.isZero()&&h.andln(1)===0;)m++,h.iushrn(1);n(!h.isZero());var y=new i(1).toRed(this),_=y.redNeg(),d=this.m.subn(1).iushrn(1),a=this.m.bitLength();for(a=new i(2*a*a).toRed(this);this.pow(a,d).cmp(_)!==0;)a.redIAdd(_);for(var p=this.pow(a,h),S=this.pow(o,h.addn(1).iushrn(1)),B=this.pow(o,h),Z=m;B.cmp(y)!==0;){for(var X=B,oe=0;X.cmp(y)!==0;oe++)X=X.redSqr();n(oe<Z);var H=this.pow(p,new i(1).iushln(Z-oe-1));S=S.redMul(H),p=H.redSqr(),B=B.redMul(p),Z=oe}return S},j.prototype.invm=function(o){var l=o._invmp(this.m);return l.negative!==0?(l.negative=0,this.imod(l).redNeg()):this.imod(l)},j.prototype.pow=function(o,l){if(l.isZero())return new i(1).toRed(this);if(l.cmpn(1)===0)return o.clone();var f=4,h=new Array(1<<f);h[0]=new i(1).toRed(this),h[1]=o;for(var m=2;m<h.length;m++)h[m]=this.mul(h[m-1],o);var y=h[0],_=0,d=0,a=l.bitLength()%26;for(a===0&&(a=26),m=l.length-1;m>=0;m--){for(var p=l.words[m],S=a-1;S>=0;S--){var B=p>>S&1;if(y!==h[0]&&(y=this.sqr(y)),B===0&&_===0){d=0;continue}_<<=1,_|=B,d++,!(d!==f&&(m!==0||S!==0))&&(y=this.mul(y,h[_]),d=0,_=0)}a=26}return y},j.prototype.convertTo=function(o){var l=o.umod(this.m);return l===o?l.clone():l},j.prototype.convertFrom=function(o){var l=o.clone();return l.red=null,l},i.mont=function(o){return new Q(o)};function Q(g){j.call(this,g),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(Q,j),Q.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},Q.prototype.convertFrom=function(o){var l=this.imod(o.mul(this.rinv));return l.red=null,l},Q.prototype.imul=function(o,l){if(o.isZero()||l.isZero())return o.words[0]=0,o.length=1,o;var f=o.imul(l),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=f.isub(h).iushrn(this.shift),y=m;return m.cmp(this.m)>=0?y=m.isub(this.m):m.cmpn(0)<0&&(y=m.iadd(this.m)),y._forceRed(this)},Q.prototype.mul=function(o,l){if(o.isZero()||l.isZero())return new i(0)._forceRed(this);var f=o.mul(l),h=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),m=f.isub(h).iushrn(this.shift),y=m;return m.cmp(this.m)>=0?y=m.isub(this.m):m.cmpn(0)<0&&(y=m.iadd(this.m)),y._forceRed(this)},Q.prototype.invm=function(o){var l=this.imod(o._invmp(this.m).mul(this.r2));return l._forceRed(this)}})(t,Vt)})(ob);var ab=ob.exports,qM=ab,UQ=At.Buffer;function jQ(t,e){return UQ.from(t.toRed(qM.mont(e.modulus)).redPow(new qM(e.publicExponent)).fromRed().toArray())}var oR=jQ,zQ=fv,x2=Hu,$Q=Dc,HM=iR,KM=sR,lb=ab,qQ=oR,HQ=Q_,Mi=At.Buffer,KQ=function(e,r,n){var s;e.padding?s=e.padding:n?s=1:s=4;var i=zQ(e),u;if(s===4)u=WQ(i,r);else if(s===1)u=GQ(i,r,n);else if(s===3){if(u=new lb(r),u.cmp(i.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return n?HQ(u,i):qQ(u,i)};function WQ(t,e){var r=t.modulus.byteLength(),n=e.length,s=$Q("sha1").update(Mi.alloc(0)).digest(),i=s.length,u=2*i;if(n>r-u-2)throw new Error("message too long");var c=Mi.alloc(r-n-u-2),v=r-i-1,b=x2(i),w=KM(Mi.concat([s,c,Mi.alloc(1,1),e],v),HM(b,v)),x=KM(b,HM(w,i));return new lb(Mi.concat([Mi.alloc(1),x,w],r))}function GQ(t,e,r){var n=e.length,s=t.modulus.byteLength();if(n>s-11)throw new Error("message too long");var i;return r?i=Mi.alloc(s-n-3,255):i=ZQ(s-n-3),new lb(Mi.concat([Mi.from([0,r?1:2]),i,Mi.alloc(1),e],s))}function ZQ(t){for(var e=Mi.allocUnsafe(t),r=0,n=x2(t*2),s=0,i;r<t;)s===n.length&&(n=x2(t*2),s=0),i=n[s++],i&&(e[r++]=i);return e}var QQ=fv,WM=iR,GM=sR,ZM=ab,YQ=Q_,JQ=Dc,XQ=oR,ac=At.Buffer,eY=function(e,r,n){var s;e.padding?s=e.padding:n?s=1:s=4;var i=QQ(e),u=i.modulus.byteLength();if(r.length>u||new ZM(r).cmp(i.modulus)>=0)throw new Error("decryption error");var c;n?c=XQ(new ZM(r),i):c=YQ(r,i);var v=ac.alloc(u-c.length);if(c=ac.concat([v,c],u),s===4)return tY(i,c);if(s===1)return rY(i,c,n);if(s===3)return c;throw new Error("unknown padding")};function tY(t,e){var r=t.modulus.byteLength(),n=JQ("sha1").update(ac.alloc(0)).digest(),s=n.length;if(e[0]!==0)throw new Error("decryption error");var i=e.slice(1,s+1),u=e.slice(s+1),c=GM(i,WM(u,s)),v=GM(u,WM(c,r-s-1));if(nY(n,v.slice(0,s)))throw new Error("decryption error");for(var b=s;v[b]===0;)b++;if(v[b++]!==1)throw new Error("decryption error");return v.slice(b)}function rY(t,e,r){for(var n=e.slice(0,2),s=2,i=0;e[s++]!==0;)if(s>=e.length){i++;break}var u=e.slice(2,s-1);if((n.toString("hex")!=="0002"&&!r||n.toString("hex")!=="0001"&&r)&&i++,u.length<8&&i++,i)throw new Error("decryption error");return e.slice(s)}function nY(t,e){t=ac.from(t),e=ac.from(e);var r=0,n=t.length;t.length!==e.length&&(r++,n=Math.min(t.length,e.length));for(var s=-1;++s<n;)r+=t[s]^e[s];return r}(function(t){t.publicEncrypt=KQ,t.privateDecrypt=eY,t.privateEncrypt=function(r,n){return t.publicEncrypt(r,n,!0)},t.publicDecrypt=function(r,n){return t.privateDecrypt(r,n,!0)}})(nR);var Yf={};function QM(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var aR=At,YM=Hu,lR=aR.Buffer,uR=aR.kMaxLength,M2=Vt.crypto||Vt.msCrypto,fR=Math.pow(2,32)-1;function hR(t,e){if(typeof t!="number"||t!==t)throw new TypeError("offset must be a number");if(t>fR||t<0)throw new TypeError("offset must be a uint32");if(t>uR||t>e)throw new RangeError("offset out of range")}function cR(t,e,r){if(typeof t!="number"||t!==t)throw new TypeError("size must be a number");if(t>fR||t<0)throw new TypeError("size must be a uint32");if(t+e>r||t>uR)throw new RangeError("buffer too small")}M2&&M2.getRandomValues||!pr.browser?(Yf.randomFill=iY,Yf.randomFillSync=sY):(Yf.randomFill=QM,Yf.randomFillSync=QM);function iY(t,e,r,n){if(!lR.isBuffer(t)&&!(t instanceof Vt.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof e=="function")n=e,e=0,r=t.length;else if(typeof r=="function")n=r,r=t.length-e;else if(typeof n!="function")throw new TypeError('"cb" argument must be a function');return hR(e,t.length),cR(r,e,t.length),dR(t,e,r,n)}function dR(t,e,r,n){if(pr.browser){var s=t.buffer,i=new Uint8Array(s,e,r);if(M2.getRandomValues(i),n){pr.nextTick(function(){n(null,t)});return}return t}if(n){YM(r,function(c,v){if(c)return n(c);v.copy(t,e),n(null,t)});return}var u=YM(r);return u.copy(t,e),t}function sY(t,e,r){if(typeof e>"u"&&(e=0),!lR.isBuffer(t)&&!(t instanceof Vt.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return hR(e,t.length),r===void 0&&(r=t.length-e),cR(r,e,t.length),dR(t,e,r)}var JM;function pR(){if(JM)return Et;JM=1,Et.randomBytes=Et.rng=Et.pseudoRandomBytes=Et.prng=Hu,Et.createHash=Et.Hash=Dc,Et.createHmac=Et.Hmac=vA;var t=PH,e=Object.keys(t),r=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(e);Et.getHashes=function(){return r};var n=Hm;Et.pbkdf2=n.pbkdf2,Et.pbkdf2Sync=n.pbkdf2Sync;var s=Ri;Et.Cipher=s.Cipher,Et.createCipher=s.createCipher,Et.Cipheriv=s.Cipheriv,Et.createCipheriv=s.createCipheriv,Et.Decipher=s.Decipher,Et.createDecipher=s.createDecipher,Et.Decipheriv=s.Decipheriv,Et.createDecipheriv=s.createDecipheriv,Et.getCiphers=s.getCiphers,Et.listCiphers=s.listCiphers;var i=hW();Et.DiffieHellmanGroup=i.DiffieHellmanGroup,Et.createDiffieHellmanGroup=i.createDiffieHellmanGroup,Et.getDiffieHellman=i.getDiffieHellman,Et.createDiffieHellman=i.createDiffieHellman,Et.DiffieHellman=i.DiffieHellman;var u=DQ();Et.createSign=u.createSign,Et.Sign=u.Sign,Et.createVerify=u.createVerify,Et.Verify=u.Verify,Et.createECDH=LQ();var c=nR;Et.publicEncrypt=c.publicEncrypt,Et.privateEncrypt=c.privateEncrypt,Et.publicDecrypt=c.publicDecrypt,Et.privateDecrypt=c.privateDecrypt;var v=Yf;return Et.randomFill=v.randomFill,Et.randomFillSync=v.randomFillSync,Et.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},Et.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},Et}pR();const oY="https://api.nowpayments.io/v1",aY="BX2AYBW-S444RSB-N4KJM6D-C2DCFT7";async function lY(t){try{const e=await fetch(`${oY}/payment/${t}`,{headers:{"x-api-key":aY}});if(!e.ok)throw new Error("Failed to verify payment");const r=await e.json();return r.payment_status==="finished"||r.payment_status==="confirmed"}catch(e){throw console.error("Payment verification failed:",e),e}}const uY=()=>{const{user:t}=as(),e=Yp(),[,r]=fe.useState(!1);return fe.useEffect(()=>{(async()=>{if(!t)return;const i=new URLSearchParams(window.location.search).get("payment_id");if(!i){e("/app");return}try{if(await gh(`Verifying payment ${i}`,t.id),!await lY(i))throw await gh(`Payment verification failed for ${i}`,t.id),new Error("Payment verification failed");r(!0),await Mo(t,{isPremium:!0,premiumActivatedAt:new Date().toISOString(),paymentId:i}),await gh(`Payment ${i} verified and activated`,t.id),setTimeout(()=>{e("/app")},3e3)}catch(u){console.error("Failed to verify payment:",u),e("/payment/failed")}})()},[t,e]),U.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-900",children:U.jsxs("div",{className:"text-center space-y-4 p-8",children:[U.jsx("div",{className:"inline-flex p-4 bg-green-500/10 rounded-full mb-4",children:U.jsx(o9,{className:"w-12 h-12 text-green-500"})}),U.jsx("h1",{className:"text-2xl font-bold text-white",children:"Payment Successful!"}),U.jsx("p",{className:"text-gray-400",children:"Thank you for upgrading to premium. You'll be redirected shortly..."})]})})},a1=({className:t="",children:e})=>U.jsx("div",{className:`rounded-lg border border-gray-700 bg-gray-800/50 shadow-sm ${t}`,children:e}),l1=({className:t="",children:e})=>U.jsx("div",{className:`border-b border-gray-700 p-4 ${t}`,children:e}),u1=({className:t="",children:e})=>U.jsx("h3",{className:`text-lg font-medium ${t}`,children:e}),f1=({className:t="",children:e})=>U.jsx("div",{className:`p-4 ${t}`,children:e}),gl=({className:t="",children:e})=>U.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${t}`,children:e}),$d=({className:t="",children:e,...r})=>U.jsx("button",{className:`inline-flex items-center justify-center rounded-md font-medium transition-colors 
        focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 
        disabled:pointer-events-none disabled:opacity-50 px-4 py-2 ${t}`,...r,children:e}),fY=({className:t="",variant:e="default",children:r})=>{const n={default:"bg-gray-800 text-gray-200",destructive:"bg-red-900/20 text-red-400 border-red-700/50"};return U.jsx("div",{className:`relative w-full rounded-lg border border-gray-700 p-4 ${n[e]} ${t}`,children:r})},hY=({className:t="",children:e})=>U.jsx("div",{className:`mt-1 text-sm ${t}`,children:e}),cY=()=>{const[t,e]=fe.useState([]),[r,n]=fe.useState([]),[s,i]=fe.useState(null),[u,c]=fe.useState(!0),[v,b]=fe.useState(null),[w,x]=fe.useState(new Date),[E,A]=fe.useState(!0),N=async()=>{try{b(null);const K={payment_id:`test_${Date.now()}`,payment_status:"waiting",price_amount:2.99,price_currency:"usd",pay_amount:1e-4,pay_currency:"btc",order_id:"test_user_id",order_description:"TradeA+ Premium Access",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};console.log("Simulating webhook with test data:",K);const ne=K.payment_id;await gh(`TEST: Payment ${ne} status: ${K.payment_status}, Amount: ${K.price_amount} ${K.price_currency}`,K.order_id,void 0,K),await gh(`TEST: Full payment data: ${JSON.stringify(K)}`,K.order_id,void 0,K),e(ue=>[`TEST: Created test IPN data in Firestore. Payment ID: ${ne}`,...ue]),await W()}catch(K){const ne=K instanceof Error?K.message:"Unknown error";b(`Failed to create test data: ${ne}`),console.error("Test webhook error:",K)}},D=async()=>{try{b(null),e(K=>["Note: Clearing test data requires server-side implementation",...K]),await W()}catch(K){const ne=K instanceof Error?K.message:"Unknown error";b(`Failed to clear test data: ${ne}`)}},W=async()=>{try{console.log("Starting payment logs refresh"),c(!0),b(null),console.log("Fetching text logs");const K=await Cz();console.log(`Fetched ${K.length} text logs`),e(K),console.log("Fetching payment data");const ne=await Pz();console.log(`Fetched ${ne.length} payment data objects`),console.log("Sample payment data:",ne.length>0?ne[0]:"No payments"),n(ne),x(new Date),c(!1),console.log("Refresh complete at",new Date().toISOString())}catch(K){const ne=K instanceof Error?K.message:"Unknown error";console.error("Error loading payment logs:",K),b(`Failed to load payment data: ${ne}`),c(!1)}};fe.useEffect(()=>{W();let K=null;return E&&(K=setInterval(W,1e4)),()=>{K&&clearInterval(K)}},[E]);const P=()=>{W()},C=K=>{switch(K){case"waiting":return"bg-yellow-500";case"confirming":return"bg-blue-500";case"confirmed":return"bg-green-500";case"sending":return"bg-purple-500";case"partially_paid":return"bg-orange-500";case"finished":return"bg-green-700";case"failed":return"bg-red-500";case"refunded":return"bg-gray-500";case"expired":return"bg-red-700";default:return"bg-gray-400"}},z=K=>{if(!K)return"N/A";try{return(K.toDate?K.toDate():new Date(K)).toLocaleString()}catch{return String(K)}};return U.jsxs("div",{className:"p-8",children:[U.jsx("h1",{className:"text-2xl font-bold mb-6",children:"NOWPayments IPN Handler"}),v&&U.jsx(fY,{variant:"destructive",className:"mb-4",children:U.jsx(hY,{children:v})}),U.jsxs("div",{className:"mb-6 gap-2",children:[U.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[U.jsx($d,{onClick:P,disabled:u,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-800",children:u?"Refreshing...":"Refresh Payment Data"}),U.jsx($d,{onClick:()=>A(!E),className:`px-4 py-2 ${E?"bg-green-600 hover:bg-green-700":"bg-gray-600 hover:bg-gray-700"}`,children:E?"Auto-Refresh: ON":"Auto-Refresh: OFF"}),U.jsx($d,{onClick:N,className:"px-4 py-2 bg-purple-600 hover:bg-purple-700",children:"Test Webhook"}),U.jsx($d,{onClick:D,className:"px-4 py-2 bg-red-600 hover:bg-red-700",children:"Clear Test Data"})]}),U.jsxs("div",{className:"text-sm text-gray-400",children:["Last refreshed: ",w.toLocaleTimeString(),E&&" (Auto-refreshing every 10 seconds)"]}),U.jsx("div",{className:"text-xs text-gray-500 mt-1",children:'To see webhook data with proper payment_id field, use the "Test Webhook" button to send test data.'})]}),U.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[U.jsxs("div",{className:"md:col-span-1",children:[U.jsxs(a1,{className:"bg-gray-800/50",children:[U.jsx(l1,{children:U.jsxs(u1,{children:["Payment Notifications ",u&&"(Loading...)"]})}),U.jsx(f1,{children:r.length>0?U.jsx("div",{className:"space-y-2 max-h-[500px] overflow-y-auto",children:r.map((K,ne)=>U.jsxs("div",{className:`p-3 rounded cursor-pointer transition-colors ${s===K?"bg-blue-900/70":"bg-gray-700/50 hover:bg-gray-700"}`,onClick:()=>i(K),children:[U.jsxs("div",{className:"flex justify-between items-center",children:[U.jsx("div",{className:"font-medium truncate",children:K.payment_id?`ID: ${typeof K.payment_id=="string"?K.payment_id.substring(0,8):K.payment_id}...`:"Unknown Payment"}),K.payment_status&&U.jsx(gl,{className:C(K.payment_status),children:K.payment_status})]}),U.jsx("div",{className:"text-xs text-gray-400",children:z(K.timestamp||K.createdAt)}),K.price_amount&&K.price_currency&&U.jsxs("div",{className:"text-sm mt-1",children:["Amount: ",K.price_amount," ",K.price_currency]})]},ne))}):U.jsx("div",{className:"text-gray-500 text-center py-4",children:u?"Loading payment data...":"No payment notifications yet"})})]}),U.jsxs("div",{className:"mt-4 text-sm",children:[U.jsx("div",{className:"font-medium mb-2",children:"Payment statuses:"}),U.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[U.jsxs("div",{className:"flex items-center",children:[U.jsx(gl,{className:"bg-yellow-500 mr-2",children:"waiting"}),U.jsx("span",{className:"text-xs",children:"Payment created"})]}),U.jsxs("div",{className:"flex items-center",children:[U.jsx(gl,{className:"bg-blue-500 mr-2",children:"confirming"}),U.jsx("span",{className:"text-xs",children:"Pending confirmation"})]}),U.jsxs("div",{className:"flex items-center",children:[U.jsx(gl,{className:"bg-green-500 mr-2",children:"confirmed"}),U.jsx("span",{className:"text-xs",children:"Payment confirmed"})]}),U.jsxs("div",{className:"flex items-center",children:[U.jsx(gl,{className:"bg-green-700 mr-2",children:"finished"}),U.jsx("span",{className:"text-xs",children:"Payment complete"})]})]})]})]}),U.jsxs("div",{className:"md:col-span-2",children:[U.jsxs(a1,{className:"bg-gray-800/50",children:[U.jsx(l1,{children:U.jsx(u1,{children:"Payment Details"})}),U.jsx(f1,{children:s?U.jsxs("div",{children:[U.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[U.jsxs("div",{children:[U.jsx("div",{className:"text-sm text-gray-400",children:"Payment ID"}),U.jsx("div",{children:s.payment_id||"N/A"})]}),U.jsxs("div",{children:[U.jsx("div",{className:"text-sm text-gray-400",children:"Status"}),U.jsx("div",{children:U.jsx(gl,{className:C(s.payment_status||"unknown"),children:s.payment_status||"Unknown"})})]}),U.jsxs("div",{children:[U.jsx("div",{className:"text-sm text-gray-400",children:"Amount"}),U.jsxs("div",{children:[s.price_amount," ",s.price_currency]})]}),U.jsxs("div",{children:[U.jsx("div",{className:"text-sm text-gray-400",children:"User ID"}),U.jsx("div",{children:s.userId||s.order_id||"N/A"})]}),U.jsxs("div",{children:[U.jsx("div",{className:"text-sm text-gray-400",children:"Created At"}),U.jsx("div",{children:z(s.timestamp||s.createdAt)})]}),U.jsxs("div",{children:[U.jsx("div",{className:"text-sm text-gray-400",children:"Pay Address"}),U.jsx("div",{className:"truncate",children:s.pay_address||"N/A"})]})]}),U.jsx("h3",{className:"text-lg font-medium mt-4 mb-2",children:"Raw Payment Data"}),U.jsx("pre",{className:"bg-gray-900/50 p-3 rounded text-xs overflow-auto max-h-60",children:JSON.stringify(s.paymentData||s,null,2)})]}):U.jsx("div",{className:"text-gray-500 text-center py-4",children:"Select a payment to view details"})})]}),U.jsxs(a1,{className:"bg-gray-800/50 mt-6",children:[U.jsx(l1,{children:U.jsx(u1,{children:"Payment Logs"})}),U.jsx(f1,{children:U.jsxs("div",{className:"space-y-2 max-h-[300px] overflow-y-auto",children:[t.map((K,ne)=>U.jsx("div",{className:"text-sm text-gray-300",children:K},ne)),t.length===0&&!u&&U.jsx("div",{className:"text-sm text-gray-500",children:"No payment logs yet"})]})})]})]})]})]})},dY=()=>U.jsx("div",{className:"pt-24 px-8 pb-8",children:U.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[U.jsx("div",{className:"flex items-center justify-between",children:U.jsx("h1",{className:"text-2xl font-bold text-white",children:"Admin Dashboard"})}),U.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[U.jsx(ah,{to:"/admin/ipn",className:"glass-panel p-6 hover:border-blue-500/30 transition-all duration-300 hover:-translate-y-1",children:U.jsxs("div",{className:"flex items-center gap-4",children:[U.jsx("div",{className:"p-3 bg-blue-500/10 rounded-lg",children:U.jsx(QO,{className:"w-6 h-6 text-blue-400"})}),U.jsxs("div",{children:[U.jsx("h3",{className:"text-lg font-semibold text-white",children:"Payment Logs"}),U.jsx("p",{className:"text-sm text-gray-400",children:"View IPN webhook logs"})]})]})}),U.jsx(ah,{to:"/admin/api-keys",className:"glass-panel p-6 hover:border-blue-500/30 transition-all duration-300 hover:-translate-y-1",children:U.jsxs("div",{className:"flex items-center gap-4",children:[U.jsx("div",{className:"p-3 bg-purple-500/10 rounded-lg",children:U.jsx(a9,{className:"w-6 h-6 text-purple-400"})}),U.jsxs("div",{children:[U.jsx("h3",{className:"text-lg font-semibold text-white",children:"API Keys"}),U.jsx("p",{className:"text-sm text-gray-400",children:"Manage API keys"})]})]})}),U.jsx(ah,{to:"/admin/support-messages",className:"glass-panel p-6 hover:border-blue-500/30 transition-all duration-300 hover:-translate-y-1",children:U.jsxs("div",{className:"flex items-center gap-4",children:[U.jsx("div",{className:"p-3 bg-green-500/10 rounded-lg",children:U.jsx(XO,{className:"w-6 h-6 text-green-400"})}),U.jsxs("div",{children:[U.jsx("h3",{className:"text-lg font-semibold text-white",children:"Support"}),U.jsx("p",{className:"text-sm text-gray-400",children:"View help messages"})]})]})})]})]})}),pY=()=>{const[t,e]=fe.useState([]);fe.useEffect(()=>{r()},[]);const r=async()=>{const n=await Ep.getInstance().getAllKeyUsage();e(n)};return U.jsxs("div",{className:"glass-panel p-6",children:[U.jsxs("div",{className:"flex items-center justify-between mb-6",children:[U.jsx("h3",{className:"text-lg font-semibold text-white",children:"API Key Usage"}),U.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-700/50 rounded-lg transition-colors",title:"Refresh usage stats",children:U.jsx(Ay,{className:"w-4 h-4 text-gray-400"})})]}),U.jsx("div",{className:"space-y-4",children:t.map(({key:n,used:s,remaining:i,name:u})=>U.jsx("div",{className:"glass-panel p-4 hover:border-blue-500/30 transition-all",children:U.jsxs("div",{className:"flex items-start gap-3",children:[U.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg",children:U.jsx(a9,{className:"w-4 h-4 text-blue-400"})}),U.jsxs("div",{className:"flex-1",children:[U.jsxs("div",{className:"flex items-center justify-between",children:[U.jsx("h4",{className:"font-medium text-white",children:u}),U.jsxs("span",{className:"text-sm text-gray-400",children:[i," left today"]})]}),U.jsx("div",{className:"mt-2 h-2 bg-gray-700 rounded-full overflow-hidden",children:U.jsx("div",{className:"h-full bg-blue-500 transition-all duration-500",style:{width:`${s/(s+i)*100}%`,backgroundColor:i<100?"#ef4444":"#3b82f6"}})}),U.jsxs("div",{className:"flex justify-between mt-1",children:[U.jsxs("span",{className:"text-xs text-gray-500",children:[s," used"]}),U.jsx("span",{className:"text-xs text-gray-500",children:"1500 daily limit"})]})]})]})},n))})]})},mY=()=>{const[t,e]=fe.useState(0),[r,n]=fe.useState(!1),s=()=>{n(!0),e(i=>i+1),setTimeout(()=>n(!1),1e3)};return U.jsx("div",{className:"pt-24 px-8 pb-8",children:U.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[U.jsxs("div",{className:"flex items-center justify-between",children:[U.jsx("h1",{className:"text-2xl font-bold text-white",children:"API Keys Management"}),U.jsx("button",{onClick:s,disabled:r,className:`p-2 text-gray-400 hover:text-white hover:bg-gray-700/50 \r
              rounded transition-colors disabled:opacity-50`,title:"Refresh data",children:U.jsx(u9,{className:`w-5 h-5 ${r?"animate-spin":""}`})})]}),U.jsx(pY,{},t)]})})},vY=()=>{const[t,e]=fe.useState([]),[r,n]=fe.useState(!0),[s,i]=fe.useState({}),[u,c]=fe.useState(!1),v=async(x=!1)=>{x?c(!0):n(!0);try{const E=await Lz();e(E)}catch(E){console.error("Failed to load messages:",E)}finally{n(!1),c(!1)}};fe.useEffect(()=>{v()},[]);const b=()=>{v(!0)},w=async x=>{i(E=>({...E,[x]:!0}));try{await Fz(x),e(E=>E.filter(A=>A.id!==x))}catch(E){console.error("Failed to delete message:",E)}finally{i(E=>({...E,[x]:!1}))}};return r?U.jsx("div",{className:"pt-24 px-8 pb-8",children:U.jsx("div",{className:"max-w-7xl mx-auto flex items-center justify-center",children:U.jsx(jh,{className:"w-8 h-8 animate-spin text-blue-500"})})}):U.jsx("div",{className:"pt-24 px-8 pb-8",children:U.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[U.jsxs("div",{className:"flex items-center justify-between",children:[U.jsxs("div",{className:"flex items-center gap-3",children:[U.jsx(z3,{className:"w-8 h-8 text-blue-500"}),U.jsx("h1",{className:"text-2xl font-bold text-white",children:"Support Messages"})]}),U.jsx("button",{onClick:b,disabled:u,className:`p-2 text-gray-400 hover:text-white hover:bg-gray-700/50 \r
              rounded transition-colors disabled:opacity-50`,title:"Refresh messages",children:U.jsx(u9,{className:`w-5 h-5 ${u?"animate-spin":""}`})})]}),U.jsx("div",{className:"space-y-4",children:t.length===0?U.jsxs("div",{className:"text-center py-12 glass-panel",children:[U.jsx(z3,{className:"w-12 h-12 text-gray-500 mx-auto mb-4"}),U.jsx("p",{className:"text-gray-400",children:"No support messages yet"})]}):t.map(x=>U.jsx("div",{className:"glass-panel p-6 hover:border-blue-500/30 transition-all",children:U.jsxs("div",{className:"flex items-start justify-between gap-4",children:[U.jsxs("div",{className:"space-y-1 flex-1",children:[U.jsx("h3",{className:"font-medium text-blue-400",children:x.userEmail}),U.jsx("p",{className:"text-sm text-gray-400",children:new Date(x.createdAt).toLocaleString()}),U.jsx("p",{className:"text-gray-300 whitespace-pre-wrap mt-3",children:x.description})]}),U.jsx("button",{onClick:()=>w(x.id),disabled:s[x.id],className:`p-2 text-red-400 hover:text-red-300 hover:bg-red-400/10 \r
                      rounded transition-colors disabled:opacity-50`,children:s[x.id]?U.jsx(jh,{className:"w-5 h-5 animate-spin"}):U.jsx(iL,{className:"w-5 h-5"})})]})},x.id))})]})})},gY=[{path:"/",element:U.jsx(Gz,{}),errorElement:U.jsx(R$,{}),children:[{index:!0,element:U.jsx(Zz,{})},{path:"sign-in",element:U.jsx(I$,{})},{path:"sign-up",element:U.jsx(k$,{})},{element:U.jsx(A$,{}),children:[{path:"app",element:U.jsx(S$,{})},{path:"profile",element:U.jsx(C$,{})},{path:"payment/success",element:U.jsx(uY,{})},{path:"admin",element:U.jsx(Nd,{children:U.jsx(dY,{})})},{path:"admin/ipn",element:U.jsx(Nd,{children:U.jsx(cY,{})})},{path:"admin/api-keys",element:U.jsx(Nd,{children:U.jsx(mY,{})})},{path:"admin/support-messages",element:U.jsx(Nd,{children:U.jsx(vY,{})})}]}]}],yY=TN(gY);h1.createRoot(document.getElementById("root")).render(U.jsx(je.StrictMode,{children:U.jsx(zO,{children:U.jsx(PO,{children:U.jsx(NO,{children:U.jsx(LN,{router:yY})})})})}))});export default wY();
